{"version":3,"file":"../pages/login.js","mappings":"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","sources":["webpack://frontend/src/pages/login/index.tsx","webpack://frontend/sentry-wrapper-module","webpack://frontend/?bd77","webpack://frontend/./src/features/LoginForm.tsx","webpack://frontend/external commonjs \"@opentelemetry/api\"","webpack://frontend/external commonjs \"@sentry/nextjs\"","webpack://frontend/external commonjs \"event-source-polyfill\"","webpack://frontend/external commonjs \"next/dist/compiled/next-server/pages.runtime.prod.js\"","webpack://frontend/external commonjs \"react\"","webpack://frontend/external commonjs \"react-dom\"","webpack://frontend/external commonjs \"react/jsx-runtime\"","webpack://frontend/external commonjs2 \"fs\"","webpack://frontend/external commonjs2 \"path\"","webpack://frontend/external commonjs2 \"stream\"","webpack://frontend/external commonjs2 \"zlib\"","webpack://frontend/external module \"@hookform/resolvers/zod\"","webpack://frontend/external module \"@portone/browser-sdk/v2\"","webpack://frontend/external module \"@tanstack/react-query\"","webpack://frontend/external module \"axios\"","webpack://frontend/external module \"react-hook-form\"","webpack://frontend/external module \"zod\"","webpack://frontend/external module \"zustand\"","webpack://frontend/external module \"zustand/middleware\""],"sourcesContent":["import LoginForm from \"@/features/LoginForm\";\nimport withAuthAccess from \"@/stores/withAuthAccess\";\nexport function LoginPage() {\n  return <LoginForm data-sentry-element=\"LoginForm\" data-sentry-component=\"LoginPage\" data-sentry-source-file=\"index.tsx\" />;\n}\nexport default withAuthAccess(LoginPage);","import * as Sentry from '@sentry/nextjs';\nimport * as serverComponentModule from '__SENTRY_WRAPPING_TARGET_FILE__.cjs';\nexport * from '__SENTRY_WRAPPING_TARGET_FILE__.cjs';\n\n/*\n * This file is a template for the code which will be substituted when our webpack loader handles non-API files in the\n * `pages/` directory.\n *\n * We use `__SENTRY_WRAPPING_TARGET_FILE__.cjs` as a placeholder for the path to the file being wrapped. Because it's not a real package,\n * this causes both TS and ESLint to complain, hence the pragma comments below.\n */\n\n\nconst userPageModule = serverComponentModule ;\n\nconst pageComponent = userPageModule ? userPageModule.default : undefined;\n\nconst origGetInitialProps = pageComponent ? pageComponent.getInitialProps : undefined;\nconst origGetStaticProps = userPageModule ? userPageModule.getStaticProps : undefined;\nconst origGetServerSideProps = userPageModule ? userPageModule.getServerSideProps : undefined;\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nconst getInitialPropsWrappers = {\n  '/_app': Sentry.wrapAppGetInitialPropsWithSentry,\n  '/_document': Sentry.wrapDocumentGetInitialPropsWithSentry,\n  '/_error': Sentry.wrapErrorGetInitialPropsWithSentry,\n};\n\nconst getInitialPropsWrapper = getInitialPropsWrappers['/login'] || Sentry.wrapGetInitialPropsWithSentry;\n\nif (pageComponent && typeof origGetInitialProps === 'function') {\n  pageComponent.getInitialProps = getInitialPropsWrapper(origGetInitialProps) ;\n}\n\nconst getStaticProps =\n  typeof origGetStaticProps === 'function'\n    ? Sentry.wrapGetStaticPropsWithSentry(origGetStaticProps, '/login')\n    : undefined;\nconst getServerSideProps =\n  typeof origGetServerSideProps === 'function'\n    ? Sentry.wrapGetServerSidePropsWithSentry(origGetServerSideProps, '/login')\n    : undefined;\n\nconst pageWrapperTemplate = pageComponent ? Sentry.wrapPageComponentWithSentry(pageComponent ) : pageComponent;\n\nexport { pageWrapperTemplate as default, getServerSideProps, getStaticProps };\n","import { PagesRouteModule } from \"next/dist/server/route-modules/pages/module.compiled\";\nimport { RouteKind } from \"next/dist/server/route-kind\";\nimport { hoist } from \"next/dist/build/templates/helpers\";\n// Import the app and document modules.\nimport * as document from \"private-next-pages/_document.tsx\";\nimport * as app from \"private-next-pages/_app.tsx\";\n// Import the userland code.\nimport * as userland from \"private-next-pages/login/index.tsx\";\n// Re-export the component (should be the default export).\nexport default hoist(userland, 'default');\n// Re-export methods.\nexport const getStaticProps = hoist(userland, 'getStaticProps');\nexport const getStaticPaths = hoist(userland, 'getStaticPaths');\nexport const getServerSideProps = hoist(userland, 'getServerSideProps');\nexport const config = hoist(userland, 'config');\nexport const reportWebVitals = hoist(userland, 'reportWebVitals');\n// Re-export legacy methods.\nexport const unstable_getStaticProps = hoist(userland, 'unstable_getStaticProps');\nexport const unstable_getStaticPaths = hoist(userland, 'unstable_getStaticPaths');\nexport const unstable_getStaticParams = hoist(userland, 'unstable_getStaticParams');\nexport const unstable_getServerProps = hoist(userland, 'unstable_getServerProps');\nexport const unstable_getServerSideProps = hoist(userland, 'unstable_getServerSideProps');\n// Create and export the route module that will be consumed.\nexport const routeModule = new PagesRouteModule({\n    definition: {\n        kind: RouteKind.PAGES,\n        page: \"/login\",\n        pathname: \"/login\",\n        // The following aren't used in production.\n        bundlePath: '',\n        filename: ''\n    },\n    components: {\n        // default export might not exist when optimized for data only\n        App: app.default,\n        Document: document.default\n    },\n    userland\n});\n\n//# sourceMappingURL=pages.js.map","import useAuthStore from \"@/stores/useAuthStore\";\nimport Input from \"@/components/Common/Input\";\nimport Button from \"@/components/Common/Button\";\nimport Link from \"next/link\";\nimport Image from \"next/image\";\nimport logo from \"@public/assets/icon_logo_img.svg\";\nimport { zodResolver } from \"@hookform/resolvers/zod\";\nimport { useForm } from \"react-hook-form\";\nimport { LoginFormData, loginSchema } from \"@/utils/validate\";\nimport userService from \"@/services/userService\";\nimport { useRouter } from \"next/router\";\nimport { useMutation } from \"@tanstack/react-query\";\nimport authService from \"@/services/authService\";\nimport SocialLogin from \"@/components/Common/SocialLogin\";\ninterface LoginProps {\n  email: string;\n  password: string;\n}\nconst getUserInfo = async () => {\n  const userData = await userService.getUserInfo();\n  return userData;\n};\nconst getProfileInfo = async () => {\n  const profileData = await userService.getProfileInfo();\n  return profileData;\n};\nconst postLogin = async (LoginData: LoginProps) => {\n  return authService.login(LoginData);\n};\nexport default function LoginForm() {\n  const router = useRouter();\n  const {\n    setLogin\n  } = useAuthStore();\n  const mutation = useMutation({\n    mutationFn: postLogin,\n    onSuccess: async () => {\n      try {\n        const userInfo = await getUserInfo();\n        setLogin(userInfo.nickName, userInfo.role as \"DREAMER\" | \"MAKER\", userInfo.coconut, userInfo.email, userInfo.phoneNumber);\n        router.push(\"/\");\n      } catch (error) {\n        console.error(\"유저 정보 가져오기 실패\", error);\n      }\n    },\n    onError: (error: any) => {\n      if (error.response) {\n        console.error(\"Error response\", error.response);\n        if (error.response.status === 400) {\n          alert(\"로그인에 실패했습니다. 이메일과 비밀번호를 확인해주세요.\");\n        }\n      } else if (error.request) {\n        console.error(error.request);\n      } else {\n        console.error(error.message);\n      }\n    }\n  });\n  const {\n    register,\n    handleSubmit,\n    watch,\n    formState: {\n      errors\n    }\n  } = useForm<LoginFormData>({\n    resolver: zodResolver(loginSchema),\n    mode: \"onBlur\"\n  });\n  const onSubmit = (data: LoginFormData) => {\n    mutation.mutate(data);\n  };\n  const watchFields = watch();\n  const isFormValid = Object.values(watchFields).every(value => value?.toString().trim() !== \"\");\n  const ErrorMessage = ({\n    message\n  }: {\n    message: string | undefined;\n  }) => <p className=\"absolute right-0 mt-1 text-color-red-200\" data-sentry-component=\"ErrorMessage\" data-sentry-source-file=\"LoginForm.tsx\">{message}</p>;\n  return <div className=\"my-24 flex justify-center\" data-sentry-component=\"LoginForm\" data-sentry-source-file=\"LoginForm.tsx\">\r\n      <div className=\"flex flex-col items-center gap-8 pc:w-[640px] mobile-tablet:w-[372px]\">\r\n        <Image src={logo} width={400} height={400} alt=\"로고\" data-sentry-element=\"Image\" data-sentry-source-file=\"LoginForm.tsx\" />\r\n        <form className=\"relative flex w-full flex-col gap-8\" onSubmit={handleSubmit(onSubmit)}>\r\n          <div className=\"mb-2\">\r\n            <Input {...register(\"email\")} placeholder=\"이메일을 입력해 주세요\" type=\"text\" label=\"이메일\" error={!!errors.email} data-sentry-element=\"Input\" data-sentry-source-file=\"LoginForm.tsx\" />\r\n            {errors.email && <ErrorMessage message={errors.email.message} />}\r\n          </div>\r\n          <div className=\"mb-2\">\r\n            <Input {...register(\"password\")} placeholder=\"비밀번호를 입력해 주세요\" type=\"password\" label=\"비밀번호\" error={!!errors.password} data-sentry-element=\"Input\" data-sentry-source-file=\"LoginForm.tsx\" />\r\n            {errors.password && <ErrorMessage message={errors.password.message} />}\r\n          </div>\r\n          <div className=\"flex justify-center\">\r\n            <Button label=\"로그인\" type=\"submit\" disabled={!isFormValid} className=\"text-color-gray-50\" data-sentry-element=\"Button\" data-sentry-source-file=\"LoginForm.tsx\" />\r\n          </div>\r\n        </form>\r\n        <div className=\"mb-10 flex justify-center pc:text-xl\">\r\n          <p className=\"mr-2 text-lg mobile-tablet:text-xs\">\r\n            아직 니가가라하와이 회원이 아니신가요?\r\n          </p>\r\n          <Link href=\"/signup\" className=\"text-lg text-color-blue-300 underline mobile-tablet:text-xs\" data-sentry-element=\"Link\" data-sentry-source-file=\"LoginForm.tsx\">\r\n            이메일로 회원가입하기\r\n          </Link>\r\n        </div>\r\n        <SocialLogin data-sentry-element=\"SocialLogin\" data-sentry-source-file=\"LoginForm.tsx\" />\r\n      </div>\r\n    </div>;\n}","module.exports = require(\"@opentelemetry/api\");","module.exports = require(\"@sentry/nextjs\");","module.exports = require(\"event-source-polyfill\");","module.exports = require(\"next/dist/compiled/next-server/pages.runtime.prod.js\");","module.exports = require(\"react\");","module.exports = require(\"react-dom\");","module.exports = require(\"react/jsx-runtime\");","module.exports = require(\"fs\");","module.exports = require(\"path\");","module.exports = require(\"stream\");","module.exports = require(\"zlib\");","module.exports = import(\"@hookform/resolvers/zod\");;","module.exports = import(\"@portone/browser-sdk/v2\");;","module.exports = import(\"@tanstack/react-query\");;","module.exports = import(\"axios\");;","module.exports = import(\"react-hook-form\");;","module.exports = import(\"zod\");;","module.exports = import(\"zustand\");;","module.exports = import(\"zustand/middleware\");;"],"names":["LoginPage","_jsx","LoginForm","data-sentry-element","data-sentry-component","data-sentry-source-file","withAuthAccess","getUserInfo","userService","postLogin","LoginData","authService","login","router","useRouter","setLogin","useAuthStore","mutation","useMutation","mutationFn","onSuccess","userInfo","nickName","role","coconut","email","phoneNumber","push","error","console","onError","response","status","alert","request","message","register","handleSubmit","watch","formState","errors","useForm","resolver","zodResolver","loginSchema","mode","watchFields","isFormValid","Object","values","every","value","toString","trim","ErrorMessage","p","className","div","Image","src","logo","width","height","alt","form","onSubmit","mutate","data","Input","placeholder","type","label","password","Button","disabled","Link","href","SocialLogin"],"sourceRoot":""}