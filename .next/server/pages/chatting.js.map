{"version":3,"file":"../pages/chatting.js","mappings":"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","sources":["webpack://frontend/src/pages/_document.tsx","webpack://frontend/sentry-wrapper-module","webpack://frontend/src/pages/chatting/index.tsx","webpack://frontend/./node_modules/next/dist/build/templates/helpers.js","webpack://frontend/./public/assets/icon_loading.gif","webpack://frontend/?233f","webpack://frontend/./src/components/Common/Bubble.tsx","webpack://frontend/./src/components/Common/Layout.tsx","webpack://frontend/./src/features/ChattingForm.tsx","webpack://frontend/./src/services/chatService.ts","webpack://frontend/./node_modules/next/dist/server/route-kind.js","webpack://frontend/external commonjs \"@opentelemetry/api\"","webpack://frontend/external commonjs \"@sentry/nextjs\"","webpack://frontend/external commonjs \"event-source-polyfill\"","webpack://frontend/external commonjs \"next/dist/compiled/next-server/pages.runtime.prod.js\"","webpack://frontend/external commonjs \"react\"","webpack://frontend/external commonjs \"react-dom\"","webpack://frontend/external commonjs \"react/jsx-runtime\"","webpack://frontend/external commonjs2 \"fs\"","webpack://frontend/external commonjs2 \"path\"","webpack://frontend/external commonjs2 \"stream\"","webpack://frontend/external commonjs2 \"zlib\"","webpack://frontend/external module \"@portone/browser-sdk/v2\"","webpack://frontend/external module \"@tanstack/react-query\"","webpack://frontend/external module \"axios\"","webpack://frontend/external module \"socket.io-client\"","webpack://frontend/external module \"uuid\"","webpack://frontend/external module \"zustand\"","webpack://frontend/external module \"zustand/middleware\""],"sourcesContent":["import { Html, Head, Main, NextScript } from \"next/document\";\nexport default function Document() {\n  return <Html lang=\"ko\" data-sentry-element=\"Html\" data-sentry-component=\"Document\" data-sentry-source-file=\"_document.tsx\">\r\n      <Head data-sentry-element=\"Head\" data-sentry-source-file=\"_document.tsx\">\r\n        {/* 기본 메타 태그 */}\r\n        <meta name=\"description\" content=\"당신만의 특별한 여행을 만나보세요\" data-sentry-element=\"meta\" data-sentry-source-file=\"_document.tsx\" />\r\n        <meta name=\"keywords\" content=\"여행, 하와이, 여행플래너\" data-sentry-element=\"meta\" data-sentry-source-file=\"_document.tsx\" />\r\n        <meta name=\"author\" content=\"니가가라 하와이\" data-sentry-element=\"meta\" data-sentry-source-file=\"_document.tsx\" />\r\n\r\n        {/* Open Graph 메타 태그 */}\r\n        <meta property=\"og:type\" content=\"website\" data-sentry-element=\"meta\" data-sentry-source-file=\"_document.tsx\" />\r\n        <meta property=\"og:title\" content=\"니가가라 하와이\" data-sentry-element=\"meta\" data-sentry-source-file=\"_document.tsx\" />\r\n        <meta property=\"og:description\" content=\"당신만의 특별한 여행을 만나보세요\" data-sentry-element=\"meta\" data-sentry-source-file=\"_document.tsx\" />\r\n        <meta property=\"og:image\" content=\"https://scontent-ssn1-1.cdninstagram.com/v/t51.29350-15/440535983_1166519591460822_7666710914928913519_n.jpg\" data-sentry-element=\"meta\" data-sentry-source-file=\"_document.tsx\" />\r\n        <meta property=\"og:url\" content=\"https://fs2-4-team2-go-for-me.vercel.app\" data-sentry-element=\"meta\" data-sentry-source-file=\"_document.tsx\" />\r\n\r\n        {/* Kakao SDK */}\r\n        <script src=\"https://t1.kakaocdn.net/kakao_js_sdk/2.7.4/kakao.min.js\" integrity=\"sha384-DKYJZ8NLiK8MN4/C5P2dtSmLQ4KwPaoqAfyA/DfmEc1VDxu4yyC7wy6K1Hs90nka\" crossOrigin=\"anonymous\" async />\r\n\r\n        {/* Facebook SDK */}\r\n        <script async defer crossOrigin=\"anonymous\" src={`https://connect.facebook.net/ko_KR/sdk.js#xfbml=1&version=v18.0&appId=${process.env.NEXT_PUBLIC_FACEBOOK_APP_ID}`} />\r\n      </Head>\r\n      <body>\r\n        <Main data-sentry-element=\"Main\" data-sentry-source-file=\"_document.tsx\" />\r\n        <NextScript data-sentry-element=\"NextScript\" data-sentry-source-file=\"_document.tsx\" />\r\n      </body>\r\n    </Html>;\n}","import * as Sentry from '@sentry/nextjs';\nimport * as serverComponentModule from '__SENTRY_WRAPPING_TARGET_FILE__.cjs';\nexport * from '__SENTRY_WRAPPING_TARGET_FILE__.cjs';\n\n/*\n * This file is a template for the code which will be substituted when our webpack loader handles non-API files in the\n * `pages/` directory.\n *\n * We use `__SENTRY_WRAPPING_TARGET_FILE__.cjs` as a placeholder for the path to the file being wrapped. Because it's not a real package,\n * this causes both TS and ESLint to complain, hence the pragma comments below.\n */\n\n\nconst userPageModule = serverComponentModule ;\n\nconst pageComponent = userPageModule ? userPageModule.default : undefined;\n\nconst origGetInitialProps = pageComponent ? pageComponent.getInitialProps : undefined;\nconst origGetStaticProps = userPageModule ? userPageModule.getStaticProps : undefined;\nconst origGetServerSideProps = userPageModule ? userPageModule.getServerSideProps : undefined;\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nconst getInitialPropsWrappers = {\n  '/_app': Sentry.wrapAppGetInitialPropsWithSentry,\n  '/_document': Sentry.wrapDocumentGetInitialPropsWithSentry,\n  '/_error': Sentry.wrapErrorGetInitialPropsWithSentry,\n};\n\nconst getInitialPropsWrapper = getInitialPropsWrappers['/_document'] || Sentry.wrapGetInitialPropsWithSentry;\n\nif (pageComponent && typeof origGetInitialProps === 'function') {\n  pageComponent.getInitialProps = getInitialPropsWrapper(origGetInitialProps) ;\n}\n\nconst getStaticProps =\n  typeof origGetStaticProps === 'function'\n    ? Sentry.wrapGetStaticPropsWithSentry(origGetStaticProps, '/_document')\n    : undefined;\nconst getServerSideProps =\n  typeof origGetServerSideProps === 'function'\n    ? Sentry.wrapGetServerSidePropsWithSentry(origGetServerSideProps, '/_document')\n    : undefined;\n\nconst pageWrapperTemplate = pageComponent ? Sentry.wrapPageComponentWithSentry(pageComponent ) : pageComponent;\n\nexport { pageWrapperTemplate as default, getServerSideProps, getStaticProps };\n","import ChattingForm from \"@/features/ChattingForm\";\nexport default function ChattingPage() {\n  return <ChattingForm data-sentry-element=\"ChattingForm\" data-sentry-component=\"ChattingPage\" data-sentry-source-file=\"index.tsx\" />;\n}","/**\n * Hoists a name from a module or promised module.\n *\n * @param module the module to hoist the name from\n * @param name the name to hoist\n * @returns the value on the module (or promised module)\n */ \"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nObject.defineProperty(exports, \"hoist\", {\n    enumerable: true,\n    get: function() {\n        return hoist;\n    }\n});\nfunction hoist(module, name) {\n    // If the name is available in the module, return it.\n    if (name in module) {\n        return module[name];\n    }\n    // If a property called `then` exists, assume it's a promise and\n    // return a promise that resolves to the name.\n    if ('then' in module && typeof module.then === 'function') {\n        return module.then((mod)=>hoist(mod, name));\n    }\n    // If we're trying to hoise the default export, and the module is a function,\n    // return the module itself.\n    if (typeof module === 'function' && name === 'default') {\n        return module;\n    }\n    // Otherwise, return undefined.\n    return undefined;\n}\n\n//# sourceMappingURL=helpers.js.map","export default {\"src\":\"/_next/static/media/icon_loading.05325840.gif\",\"height\":45,\"width\":256,\"blurWidth\":0,\"blurHeight\":0};","import { PagesRouteModule } from \"next/dist/server/route-modules/pages/module.compiled\";\nimport { RouteKind } from \"next/dist/server/route-kind\";\nimport { hoist } from \"next/dist/build/templates/helpers\";\n// Import the app and document modules.\nimport * as document from \"private-next-pages/_document.tsx\";\nimport * as app from \"private-next-pages/_app.tsx\";\n// Import the userland code.\nimport * as userland from \"private-next-pages/chatting/index.tsx\";\n// Re-export the component (should be the default export).\nexport default hoist(userland, 'default');\n// Re-export methods.\nexport const getStaticProps = hoist(userland, 'getStaticProps');\nexport const getStaticPaths = hoist(userland, 'getStaticPaths');\nexport const getServerSideProps = hoist(userland, 'getServerSideProps');\nexport const config = hoist(userland, 'config');\nexport const reportWebVitals = hoist(userland, 'reportWebVitals');\n// Re-export legacy methods.\nexport const unstable_getStaticProps = hoist(userland, 'unstable_getStaticProps');\nexport const unstable_getStaticPaths = hoist(userland, 'unstable_getStaticPaths');\nexport const unstable_getStaticParams = hoist(userland, 'unstable_getStaticParams');\nexport const unstable_getServerProps = hoist(userland, 'unstable_getServerProps');\nexport const unstable_getServerSideProps = hoist(userland, 'unstable_getServerSideProps');\n// Create and export the route module that will be consumed.\nexport const routeModule = new PagesRouteModule({\n    definition: {\n        kind: RouteKind.PAGES,\n        page: \"/chatting\",\n        pathname: \"/chatting\",\n        // The following aren't used in production.\n        bundlePath: '',\n        filename: ''\n    },\n    components: {\n        // default export might not exist when optimized for data only\n        App: app.default,\n        Document: document.default\n    },\n    userland\n});\n\n//# sourceMappingURL=pages.js.map","interface BubbleProps {\n  type: \"left\" | \"left_say\" | \"right\" | \"right_select\";\n  children?: React.ReactNode;\n}\nexport default function Bubble({\n  type = \"left\",\n  children\n}: BubbleProps) {\n  let bubbleStyle = \"\";\n  if (type === \"left\") {\n    bubbleStyle = \"bg-color-gray-50 rounded-r-3xl rounded-bl-3xl\";\n  } else if (type === \"right\") {\n    bubbleStyle = \"bg-color-blue-300 rounded-l-3xl rounded-br-3xl text-color-gray-50\";\n  } else if (type === \"right_select\") {\n    bubbleStyle = \"bg-color-gray-50 rounded-l-3xl rounded-br-3xl \";\n  } else if (type === \"left_say\") {\n    bubbleStyle = \"bg-color-blue-100 text-color-blue-300 rounded-r-3xl rounded-bl-3xl\";\n  }\n  const containerStyle = type === \"left\" || type === \"left_say\" ? \"flex justify-start\" : \"flex justify-end\";\n  return <>\r\n      <div className={`${containerStyle} pb-8`}>\r\n        <div className={`${bubbleStyle} bold w-fit max-w-full px-5 py-3`}>{children}</div>\r\n      </div>\r\n    </>;\n}","import { useEffect } from \"react\";\ninterface LayoutProps {\n  children: React.ReactNode;\n  bodyClass?: string;\n}\nexport default function Layout({\n  children,\n  bodyClass\n}: LayoutProps) {\n  useEffect(() => {\n    if (bodyClass) document.body.classList.add(bodyClass);\n    return () => {\n      if (bodyClass) document.body.classList.remove(bodyClass);\n    };\n  }, [bodyClass]);\n  return <>{children}</>;\n}","import Layout from \"@/components/Common/Layout\";\nimport Image from \"next/image\";\nimport Bubble from \"@/components/Common/Bubble\";\nimport { useCallback, useEffect, useRef, useState } from \"react\";\nimport { ChatRoom, Message } from \"@/types/chatData\";\nimport chatService from \"@/services/chatService\";\nimport avatarImages from \"@/utils/formatImage\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport userService from \"@/services/userService\";\nimport { formatToDetailedDate } from \"@/utils/formatDate\";\nimport coconut from \"@public/assets/icon_coconut.svg\";\nimport { Socket } from \"socket.io-client\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport loading from \"@public/assets/icon_loading.gif\";\nimport { getAccessToken } from \"@/utils/tokenUtils\";\nconst MAX_IMAGE_SIZE = 5 * 1024 * 1024;\nconst MAX_VIDEO_SIZE = 100 * 1024 * 1024;\nconst DELETE_TIME = 5 * 60 * 1000;\nconst getUserId = async (): Promise<string> => {\n  const userInfo = await userService.getUserInfo();\n  return userInfo.id;\n};\nexport default function ChattingForm() {\n  const [messages, setMessages] = useState<Message[]>([]);\n  const [message, setMessage] = useState<string>(\"\");\n  const [selectedChatRoom, setSelectedChatRoom] = useState<ChatRoom | null>(null);\n  const [socket, setSocket] = useState<Socket | null>(null);\n  const [page, setPage] = useState(1);\n  const [filePreview, setFilePreview] = useState<string | null>(null);\n  const [file, setFile] = useState<File | null>(null);\n  const [isFetchingOldMessages, setIsFetchingOldMessages] = useState(false);\n  const [isFirstMessage, setIsFirstMessage] = useState(false);\n  const [hasMoreMessages, setHasMoreMessages] = useState(true);\n  const [messageToDelete, setMessageToDelete] = useState<string | null>(null);\n  const messagesEndRef = useRef<HTMLDivElement | null>(null);\n  const messagesContainerRef = useRef<HTMLDivElement | null>(null);\n  const {\n    data: userId = \"\"\n  } = useQuery({\n    queryKey: [\"userId\"],\n    queryFn: getUserId\n  });\n  const {\n    data: chatRooms = [],\n    isLoading\n  } = useQuery({\n    queryKey: [\"chatRooms\"],\n    queryFn: async () => {\n      return await chatService.getChatRooms(1, 10);\n    }\n  });\n  const handleKeyDown = (e: React.KeyboardEvent<HTMLInputElement>) => {\n    if (e.key === \"Enter\") {\n      e.preventDefault();\n      handleSendMessage();\n    }\n  };\n  const handleSendMessage = async () => {\n    if (!selectedChatRoom) return;\n    if (!socket) {\n      console.error(\"소켓이 연결되어 있지 않습니다.\");\n      return;\n    }\n    if ((message.trim() || file) && selectedChatRoom) {\n      const isImage = file && file.name.match(/\\.(jpg|jpeg|png)$/i);\n      const isVideo = file && file.name.match(/\\.(mp4|mov)$/i);\n      const newMessage = {\n        id: uuidv4(),\n        senderId: Array.isArray(userId) ? userId[0] : userId,\n        chatRoomId: selectedChatRoom.id,\n        type: isImage ? \"IMAGE\" : isVideo ? \"VIDEO\" : \"TEXT\",\n        content: file ? null : message.trim(),\n        createdAt: new Date().toISOString(),\n        updatedAt: new Date().toISOString()\n      };\n      if (file) {\n        await handleFileUpload(selectedChatRoom.id, file, newMessage);\n      } else {\n        chatService.sendMessage(socket, selectedChatRoom.id, message.trim(), \"TEXT\");\n        setMessages(prevMessages => [newMessage, ...prevMessages]);\n      }\n      setMessage(\"\");\n      handleFileRemove();\n      scrollToBottom();\n    }\n  };\n  const handleFileUpload = async (chatRoomId: string, file: File, newMessage: any) => {\n    const fileType = file.name.match(/\\.(jpg|jpeg|png)$/i) ? \"IMAGE\" : \"VIDEO\";\n    const formData = new FormData();\n    formData.append(\"type\", fileType);\n    formData.append(\"file\", file);\n    try {\n      const data = await chatService.fileUpload(chatRoomId, formData);\n      const updatedMessage = {\n        ...newMessage,\n        content: data.content\n      };\n      setMessages(prevMessages => [updatedMessage, ...prevMessages]);\n    } catch (error) {\n      console.error(\"파일 업로드 실패::\", error);\n    }\n  };\n\n  // 스크롤 관련\n  const scrollToBottom = () => {\n    if (messagesContainerRef.current) {\n      messagesContainerRef.current.scrollTop = messagesContainerRef.current.scrollHeight;\n    }\n  };\n  const scrollBrowserToBottom = () => {\n    window.scrollTo({\n      top: document.body.scrollHeight,\n      behavior: \"smooth\"\n    });\n  };\n  const handleScroll = useCallback(() => {\n    if (!messagesContainerRef.current || !selectedChatRoom || isFetchingOldMessages || !hasMoreMessages) return;\n    const {\n      scrollTop,\n      scrollHeight\n    } = messagesContainerRef.current;\n    if (scrollTop === 0 && !isFetchingOldMessages) {\n      setIsFetchingOldMessages(true);\n      const previousScrollHeight = scrollHeight;\n      fetchMessages(selectedChatRoom.id, page + 1, true).then(() => {\n        setPage(prev => prev + 1);\n        setIsFetchingOldMessages(false);\n        requestAnimationFrame(() => {\n          if (messagesContainerRef.current) {\n            messagesContainerRef.current.scrollTop = messagesContainerRef.current.scrollHeight - previousScrollHeight;\n          }\n        });\n      });\n    }\n  }, [isFetchingOldMessages, hasMoreMessages, page, selectedChatRoom]);\n  useEffect(() => {\n    if (!selectedChatRoom) {\n      return;\n    }\n    const container = messagesContainerRef.current;\n    if (container) {\n      container.addEventListener(\"scroll\", handleScroll);\n      return () => {\n        container.removeEventListener(\"scroll\", handleScroll);\n      };\n    }\n  }, [selectedChatRoom, handleScroll]);\n  const fetchMessages = async (chatRoomId: string, currentPage: number, isOldMessages = false) => {\n    try {\n      const data = await chatService.getMessages(chatRoomId, currentPage, 10);\n      if (data.length === 0) {\n        setHasMoreMessages(false);\n        if (currentPage !== 1) {\n          setIsFirstMessage(true);\n        }\n        return;\n      }\n      if (data.length > 0 && currentPage > 1) {\n        setIsFirstMessage(false);\n      }\n      setMessages(prevMessages => {\n        const newMessages = data.filter(msg => !prevMessages.some(existingMsg => existingMsg.id === msg.id));\n        return [...prevMessages, ...newMessages];\n      });\n      if (!isOldMessages) {\n        requestAnimationFrame(() => {\n          scrollToBottom();\n        });\n      } else {\n        maintainScrollPosition();\n      }\n    } catch (error) {\n      console.error(\"메시지를 가져오는데 실패했습니다.\", error);\n    }\n  };\n  const maintainScrollPosition = () => {\n    if (messagesContainerRef.current) {\n      const {\n        scrollTop\n      } = messagesContainerRef.current;\n      if (scrollTop === 0) {\n        messagesContainerRef.current.scrollTop = 0;\n      } else {\n        messagesContainerRef.current.scrollTop = scrollTop;\n      }\n    }\n  };\n  //메시지 삭제\n\n  const handleBubbleClick = (msgId: any) => {\n    setMessageToDelete(prevSelected => prevSelected === msgId ? null : msgId);\n  };\n  const handleDeleteMessage = async (messageId: string, senderId: string, createdAt: string) => {\n    const currentTime = new Date();\n    const messageTime = new Date(createdAt);\n    const timeDifference = currentTime.getTime() - messageTime.getTime();\n    if (timeDifference > DELETE_TIME) {\n      alert(\"메시지는 5분 이내에만 삭제할 수 있습니다.\");\n      return;\n    }\n    if (senderId !== userId) {\n      alert(\"자신의 메시지만 삭제할 수 있습니다.\");\n      return;\n    }\n    if (window.confirm(\"메시지를 삭제하시겠습니까?\")) {\n      try {\n        await chatService.deleteMessage(messageId);\n        setMessages(prevMessages => prevMessages.map(msg => msg.id === messageId ? {\n          ...msg,\n          isDeleted: true\n        } : msg));\n      } catch (error) {\n        console.error(\"메시지 삭제 실패:\", error);\n        alert(\"메시지 삭제에 실패했습니다.\");\n      }\n    }\n  };\n  const renderMessages = () => {\n    return messages.slice().reverse().map((msg, index) => <div key={msg.id}>\r\n          {index === 0 && isFirstMessage && !hasMoreMessages && <div className=\"text-color-blue-500 semibold my-4 text-center\">\r\n              첫 번째 메시지입니다.\r\n            </div>}\r\n          <div onClick={() => handleBubbleClick(msg.id)} className=\"relative mb-2 cursor-pointer\">\r\n            <Bubble key={msg.id} type={msg.senderId === userId ? \"right\" : \"left_say\"}>\r\n              {msg.isDeleted ? <p className=\"text-color-gray-50\">\r\n                  {msg.type === \"TEXT\" && \"삭제된 메시지입니다.\"}\r\n                  {msg.type === \"IMAGE\" && \"삭제된 이미지입니다.\"}\r\n                  {msg.type === \"VIDEO\" && \"삭제된 동영상입니다.\"}\r\n                </p> : msg.type === \"IMAGE\" ? <img src={msg.content || \"\"} alt=\"file\" className=\"w-56 rounded-lg\" /> : msg.type === \"VIDEO\" ? <video controls className=\"h-96 rounded-lg\">\r\n                  <source src={msg.content || \"\"} type=\"video/mp4\" />\r\n                </video> : <p>{msg.content}</p>}\r\n            </Bubble>\r\n            {messageToDelete === msg.id && !msg.isDeleted && <div onClick={e => {\n          e.stopPropagation();\n          handleDeleteMessage(msg.id, msg.senderId, msg.createdAt);\n          setMessageToDelete(null);\n        }} className=\"bold absolute bottom-0 right-0 w-[107px] cursor-pointer rounded-md border border-color-black-500 bg-color-gray-100 px-2\">\r\n                메시지 삭제\r\n              </div>}\r\n          </div>\r\n        </div>);\n  };\n  const handleChatRoomClick = async (chatRoom: ChatRoom) => {\n    setSelectedChatRoom(chatRoom);\n    setMessages([]);\n    await fetchMessages(chatRoom.id, 1, false);\n    scrollToBottom();\n    scrollBrowserToBottom();\n  };\n\n  // 웹소켓 연결 부분\n  useEffect(() => {\n    const accessToken = getAccessToken();\n    if (accessToken) {\n      const handleError = (error: {\n        statusCode: number;\n        message: string;\n      }) => {\n        alert(`${error.message}`);\n      };\n      const newSocket = chatService.connectWebSocket(accessToken, (newMessage: Message) => {\n        setMessages(prevMessages => {\n          if (!prevMessages.find(msg => msg.id === newMessage.id)) {\n            return [newMessage, ...prevMessages];\n          }\n          return prevMessages;\n        });\n      }, handleError);\n      setSocket(newSocket);\n      return () => {\n        if (newSocket) {\n          newSocket.close();\n        }\n      };\n    }\n  }, []);\n  useEffect(() => {\n    if (selectedChatRoom) {\n      setMessages([]);\n      setPage(1);\n      setIsFirstMessage(false);\n      setHasMoreMessages(true);\n      fetchMessages(selectedChatRoom.id, 1, false);\n    }\n  }, [selectedChatRoom]);\n  useEffect(() => {\n    if (messages.length > 0) {\n      scrollToBottom();\n    }\n  }, [messages]);\n\n  //이미지\n  const handleFileChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const selectedFile = e.target.files ? e.target.files[0] : null;\n    if (selectedFile) {\n      const isImage = selectedFile.name.match(/\\.(jpg|jpeg|png)$/i);\n      const isVideo = selectedFile.name.match(/\\.(mp4|mov)$/i);\n      if (isImage && selectedFile.size > MAX_IMAGE_SIZE) {\n        alert(\"이미지는 5MB 이하로 업로드할 수 있습니다.\");\n        e.target.value = \"\";\n        return;\n      }\n      if (isVideo && selectedFile.size > MAX_VIDEO_SIZE) {\n        alert(\"비디오는 100MB 이하로 업로드할 수 있습니다.\");\n        e.target.value = \"\";\n        return;\n      }\n      if (filePreview) {\n        URL.revokeObjectURL(filePreview);\n      }\n      const fileUrl = URL.createObjectURL(selectedFile);\n      setFile(selectedFile);\n      setFilePreview(fileUrl);\n      e.target.value = \"\";\n    }\n  };\n  const handleFileRemove = () => {\n    if (filePreview) {\n      URL.revokeObjectURL(filePreview);\n    }\n    setFilePreview(null);\n    setFile(null);\n  };\n  const renderFilePreview = () => {\n    if (!filePreview) return null;\n    const fileExtension = file?.name.split(\".\").pop()?.toLowerCase();\n    if (fileExtension === \"jpg\" || fileExtension === \"jpeg\" || fileExtension === \"png\") {\n      return <div className=\"relative h-auto w-full\">\r\n          <img src={filePreview} alt=\"file-preview\" className=\"h-auto w-28 rounded-lg\" />\r\n          <button onClick={handleFileRemove} className=\"absolute left-[85px] top-1 rounded-full bg-color-red-200 px-2 text-color-gray-50 hover:bg-color-red-100\">\r\n            <p>x</p>\r\n          </button>\r\n        </div>;\n    } else if (fileExtension === \"mp4\" || fileExtension === \"mov\") {\n      return <div className=\"relative h-auto w-full\">\r\n          <video controls className=\"h-auto w-full rounded-lg\">\r\n            <source src={filePreview} type={`video/${fileExtension}`} />\r\n          </video>\r\n          <button onClick={handleFileRemove} className=\"absolute right-2 top-2 rounded-full bg-white p-2 text-color-red-200 hover:bg-gray-200\">\r\n            <span className=\"text-xl\">x</span>\r\n          </button>\r\n        </div>;\n    } else {\n      return <p>\r\n          지원되지 않는 파일 형식입니다. (이미지는 jpg, jpeg, png / 비디오는 mp4, mov만 업로드 가능)\r\n        </p>;\n    }\n  };\n  return <>\r\n      <div className=\"-mx-[260px] bg-color-gray-50 py-6 mobile-tablet:mb-5 card:mb-5\">\r\n        <p className=\"semibold pl-[260px] text-xl\">메시지</p>\r\n      </div>\r\n\r\n      <Layout bodyClass=\"bg-gray\" data-sentry-element=\"Layout\" data-sentry-source-file=\"ChattingForm.tsx\">\r\n        {isLoading ? <div className=\"flex h-screen items-center justify-center\">\r\n            <Image src={loading} alt=\"로딩 중\" />\r\n          </div> : <>\r\n            <div className=\"gap-4 overflow-x-auto rounded-xl border border-color-line-200 bg-color-gray-50 p-4 pc:hidden mobile-tablet:flex card:flex\">\r\n              {chatRooms.length === 0 ? <p>채팅방 목록이 없습니다.</p> : chatRooms.map(room => <div key={room.id} onClick={() => handleChatRoomClick(room)} className={`flex cursor-pointer flex-col rounded-lg p-3 ${selectedChatRoom?.id === room.id ? \"bg-color-blue-100\" : \"bg-color-gray-50\"}`}>\r\n                    <Image src={avatarImages.find(avatar => avatar.key === room.users.find(user => user.id !== userId)?.image)?.src} alt=\"유저\" width={70} className=\"rounded-full\" />\r\n                    <p className=\"bold mt-3 text-center\">\r\n                      {room.users.find(user => user.id !== userId)?.nickName}\r\n                    </p>\r\n                  </div>)}\r\n            </div>\r\n            <div className=\"grid h-[920px] grid-cols-7 gap-10 pt-4 mobile-tablet:pt-5\">\r\n              {/* 채팅방 목록 */}\r\n              <div className=\"col-span-2 flex flex-col gap-4 overflow-y-auto rounded-xl bg-color-gray-50 p-8 mobile-tablet:hidden card:hidden\">\r\n                {chatRooms.length === 0 ? <p>채팅방 목록이 없습니다.</p> : chatRooms.map(room => <div key={room.id} onClick={() => handleChatRoomClick(room)} className={`flex cursor-pointer gap-4 rounded-xl border border-color-line-100 p-4 ${selectedChatRoom?.id === room.id ? \"bg-color-blue-100\" : \"bg-white\"}`}>\r\n                      <div>\r\n                        <Image src={avatarImages.find(avatar => avatar.key === room.users.find(user => user.id !== userId)?.image)?.src} alt=\"유저\" width={70} className=\"rounded-full\" />\r\n                      </div>\r\n                      <div className=\"flex flex-col gap-3\">\r\n                        <p>{room.users.find(user => user.id !== userId)?.nickName}</p>\r\n                        <p className=\"line-clamp-2\">{room.lastChat}</p>\r\n                      </div>\r\n                    </div>)}\r\n              </div>\r\n              {/* 채팅창 */}\r\n              <div className=\"col-span-5 rounded-xl bg-color-gray-50 p-8 mobile-tablet:col-span-7 card:col-span-7\">\r\n                {selectedChatRoom === null ? \"\" : <div className=\"mb-4 rounded-lg border border-color-line-100 p-4\">\r\n                    <p className=\"semibold text-2xl text-color-black-300 mobile-tablet:text-xl\">\r\n                      {selectedChatRoom?.planTitle}\r\n                    </p>\r\n                    <div className=\"flex gap-4\">\r\n                      <p className=\"regular text-xl text-color-gray-500 mobile-tablet:text-2lg\">\r\n                        여행일\r\n                      </p>\r\n                      <p className=\"medium text-color-balck-400 text-xl mobile-tablet:text-2lg\">\r\n                        {formatToDetailedDate(selectedChatRoom?.planTripDate || \"\")}\r\n                      </p>\r\n                      <div className=\"flex flex-row\">\r\n                        <p className=\"regular text-xl text-color-gray-500 mobile-tablet:text-2lg\">\r\n                          플랜가\r\n                        </p>\r\n                        <Image src={coconut} alt=\"코코넛\" width={30} />\r\n                      </div>\r\n                      <p className=\"medium text-color-balck-400 text-xl mobile-tablet:text-2lg\">\r\n                        {selectedChatRoom?.quotePrice} P\r\n                      </p>\r\n                    </div>\r\n                  </div>}\r\n                <div className=\"h-[600px] overflow-y-auto mobile-tablet:h-[650px]\" ref={messagesContainerRef}>\r\n                  {renderMessages()}\r\n                </div>\r\n                <div className=\"flex flex-col gap-5\" ref={messagesEndRef}>\r\n                  <input className=\"h-16 w-full rounded-xl bg-color-background-200 indent-5 text-color-black-500 outline-none mobile-tablet:h-10\" placeholder=\"텍스트를 입력해 주세요.\" onChange={e => setMessage(e.target.value)} value={message} onKeyDown={handleKeyDown} />\r\n\r\n                  <div className=\"flex justify-between\">\r\n                    <input type=\"file\" className=\"hidden\" id=\"fileUpload\" onChange={handleFileChange} />\r\n                    <label htmlFor=\"fileUpload\" className=\"cursor-pointer rounded-xl border border-color-blue-300 bg-color-blue-100 px-6 py-3 text-lg text-color-blue-300 mobile-tablet:px-4 mobile-tablet:py-1\">\r\n                      첨부파일\r\n                    </label>\r\n\r\n                    <button onClick={handleSendMessage} className=\"rounded-xl bg-color-blue-300 px-6 py-3 text-lg text-color-gray-50 mobile-tablet:px-4 mobile-tablet:py-1\">\r\n                      전송\r\n                    </button>\r\n                  </div>\r\n                  {filePreview && <div className=\"mb-3 mt-3\">{renderFilePreview()}</div>}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </>}\r\n      </Layout>\r\n    </>;\n}","import { ChatRoom, Message, User } from \"@/types/chatData\";\r\nimport { api } from \"./api\";\r\nimport { io, Socket } from \"socket.io-client\";\r\n\r\ninterface FileUploadResponse {\r\n  id: string;\r\n  createdAt: string;\r\n  updatedAt: string;\r\n  senderId: string;\r\n  type?: \"IMAGE\" | \"VIDEO\" | \"TEXT\";\r\n  chatRoomId: string;\r\n  content: string;\r\n}\r\n\r\nconst chatService = {\r\n  getChatRooms: async (page: number = 1, pageSize: number = 5): Promise<ChatRoom[]> => {\r\n    try {\r\n      const response = await api.get<{ totalCount: number; list: any[] }, Record<string, unknown>>(\r\n        `/chatRooms?page=${page}&pageSize=${pageSize}`,\r\n      );\r\n\r\n      const chatRooms = response.list.map((item) => ({\r\n        id: item.id,\r\n        createdAt: item.createdAt,\r\n        updatedAt: item.updatedAt,\r\n        planId: item.planId,\r\n        planTitle: item.planTitle,\r\n        planTripDate: item.planTripDate,\r\n        quotePrice: item.quotePrice,\r\n        lastChat: item.lastChat,\r\n        isActive: item.isActive,\r\n        users: item.users.map((user: User) => ({\r\n          id: user.id,\r\n          nickName: user.nickName,\r\n          image: user.image,\r\n        })),\r\n      }));\r\n      return chatRooms;\r\n    } catch (error) {\r\n      console.error(\"채팅방 목록 get 실패\", error);\r\n      throw error;\r\n    }\r\n  },\r\n  getMessages: async (\r\n    chatRoomId: string,\r\n    page: number = 1,\r\n    pageSize: number = 10,\r\n  ): Promise<Message[]> => {\r\n    try {\r\n      const response = await api.get<{ totalCount: number; list: any[] }, Record<string, unknown>>(\r\n        `/chatRooms/${chatRoomId}/chats?page=${page}&pageSize=${pageSize}`,\r\n      );\r\n\r\n      const messages = response.list.map((item) => ({\r\n        id: item.id,\r\n        createdAt: item.createdAt,\r\n        updatedAt: item.updatedAt,\r\n        senderId: item.senderId,\r\n        chatRoomId: item.chatRoomId,\r\n        content: item.content,\r\n        type: item.type,\r\n        isDeleted: item.isDeleted,\r\n      }));\r\n      return messages;\r\n    } catch (error) {\r\n      console.error(\"메시지 목록 get 실패\", error);\r\n      throw error;\r\n    }\r\n  },\r\n  connectWebSocket: (\r\n    token: string,\r\n    onMessage: (message: Message) => void,\r\n    onError: (error: { statusCode: number; message: string }) => void,\r\n  ) => {\r\n    const socket = io(process.env.NEXT_PUBLIC_WEB_URL, {\r\n      transports: [\"websocket\"],\r\n      auth: {\r\n        token: `${token}`,\r\n      },\r\n    });\r\n\r\n    socket.on(\"ServerToClientMessage\", (newMessage: Message) => {\r\n      onMessage(newMessage);\r\n    });\r\n\r\n    socket.on(\"ERROR\", (error: { statusCode: number; message: string }) => {\r\n      onError(error);\r\n      console.error(`에러발생! ${error.message}`);\r\n    });\r\n\r\n    socket.on(\"connect\", () => {\r\n      console.log(\"웹소켓 연결 성공 ✅\");\r\n    });\r\n\r\n    socket.on(\"disconnect\", () => {\r\n      console.log(\"웹소켓 연결 종료 ❌\");\r\n    });\r\n\r\n    return socket;\r\n  },\r\n  sendMessage: (socket: Socket, chatRoomId: string, content: string, type: string) => {\r\n    socket.emit(\"ClientToServerMessage\", {\r\n      chatRoomId,\r\n      type,\r\n      content,\r\n    });\r\n  },\r\n\r\n  fileUpload: async (chatRoomId: string, formData: globalThis.FormData) => {\r\n    try {\r\n      const response = await api.post<FileUploadResponse, any>(\r\n        `/chatRooms/${chatRoomId}/chats`,\r\n        formData,\r\n        false,\r\n        {\r\n          headers: {\r\n            \"Content-Type\": \"multipart/form-data\",\r\n          },\r\n        },\r\n      );\r\n      const {\r\n        id,\r\n        createdAt,\r\n        updatedAt,\r\n        senderId,\r\n        type: fileType,\r\n        chatRoomId: roomId,\r\n        content,\r\n      } = response;\r\n\r\n      return {\r\n        id,\r\n        createdAt,\r\n        updatedAt,\r\n        senderId,\r\n        type: fileType,\r\n        chatRoomId: roomId,\r\n        content,\r\n      };\r\n    } catch (error) {\r\n      console.error(\"파일 업로드 실패\", error);\r\n      throw error;\r\n    }\r\n  },\r\n  deleteMessage: async (chatId: string) => {\r\n    try {\r\n      const response = await api.delete(`/chats/${chatId}`);\r\n      return response;\r\n    } catch (error) {\r\n      console.error(\"메시지 삭제 실패\", error);\r\n    }\r\n  },\r\n};\r\n\r\nexport default chatService;\r\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nObject.defineProperty(exports, \"RouteKind\", {\n    enumerable: true,\n    get: function() {\n        return RouteKind;\n    }\n});\nvar RouteKind = /*#__PURE__*/ function(RouteKind) {\n    /**\n   * `PAGES` represents all the React pages that are under `pages/`.\n   */ RouteKind[\"PAGES\"] = \"PAGES\";\n    /**\n   * `PAGES_API` represents all the API routes under `pages/api/`.\n   */ RouteKind[\"PAGES_API\"] = \"PAGES_API\";\n    /**\n   * `APP_PAGE` represents all the React pages that are under `app/` with the\n   * filename of `page.{j,t}s{,x}`.\n   */ RouteKind[\"APP_PAGE\"] = \"APP_PAGE\";\n    /**\n   * `APP_ROUTE` represents all the API routes and metadata routes that are under `app/` with the\n   * filename of `route.{j,t}s{,x}`.\n   */ RouteKind[\"APP_ROUTE\"] = \"APP_ROUTE\";\n    /**\n   * `IMAGE` represents all the images that are generated by `next/image`.\n   */ RouteKind[\"IMAGE\"] = \"IMAGE\";\n    return RouteKind;\n}({});\n\n//# sourceMappingURL=route-kind.js.map","module.exports = require(\"@opentelemetry/api\");","module.exports = require(\"@sentry/nextjs\");","module.exports = require(\"event-source-polyfill\");","module.exports = require(\"next/dist/compiled/next-server/pages.runtime.prod.js\");","module.exports = require(\"react\");","module.exports = require(\"react-dom\");","module.exports = require(\"react/jsx-runtime\");","module.exports = require(\"fs\");","module.exports = require(\"path\");","module.exports = require(\"stream\");","module.exports = require(\"zlib\");","module.exports = import(\"@portone/browser-sdk/v2\");;","module.exports = import(\"@tanstack/react-query\");;","module.exports = import(\"axios\");;","module.exports = import(\"socket.io-client\");;","module.exports = import(\"uuid\");;","module.exports = import(\"zustand\");;","module.exports = import(\"zustand/middleware\");;"],"names":["Document","_jsxs","Html","lang","data-sentry-element","data-sentry-component","data-sentry-source-file","Head","_jsx","meta","name","content","property","script","src","integrity","crossOrigin","async","defer","process","body","Main","NextScript","ChattingPage","ChattingForm","Bubble","type","children","bubbleStyle","div","className","containerStyle","Layout","bodyClass","getUserId","userInfo","userService","getUserInfo","id","messages","setMessages","useState","message","setMessage","selectedChatRoom","setSelectedChatRoom","socket","setSocket","page","setPage","filePreview","setFilePreview","file","setFile","isFetchingOldMessages","setIsFetchingOldMessages","isFirstMessage","setIsFirstMessage","hasMoreMessages","setHasMoreMessages","messageToDelete","setMessageToDelete","messagesEndRef","useRef","messagesContainerRef","data","userId","useQuery","queryKey","queryFn","chatRooms","isLoading","chatService","getChatRooms","handleSendMessage","console","trim","isImage","match","isVideo","newMessage","uuidv4","senderId","Array","isArray","chatRoomId","createdAt","Date","toISOString","updatedAt","handleFileUpload","sendMessage","prevMessages","handleFileRemove","scrollToBottom","fileType","formData","FormData","append","fileUpload","updatedMessage","error","current","scrollTop","scrollHeight","scrollBrowserToBottom","window","scrollTo","top","document","behavior","useCallback","fetchMessages","then","prev","requestAnimationFrame","previousScrollHeight","currentPage","isOldMessages","getMessages","length","newMessages","filter","msg","some","existingMsg","maintainScrollPosition","handleBubbleClick","msgId","prevSelected","handleDeleteMessage","messageId","currentTime","messageTime","getTime","DELETE_TIME","alert","confirm","deleteMessage","map","isDeleted","handleChatRoomClick","chatRoom","URL","revokeObjectURL","p","Image","loading","alt","room","onClick","avatarImages","find","avatar","key","users","user","image","width","nickName","lastChat","planTitle","formatToDetailedDate","planTripDate","coconut","quotePrice","ref","renderMessages","slice","reverse","index","img","video","controls","source","e","stopPropagation","input","placeholder","onChange","target","value","onKeyDown","handleKeyDown","preventDefault","handleFileChange","selectedFile","files","size","MAX_IMAGE_SIZE","MAX_VIDEO_SIZE","fileUrl","createObjectURL","label","htmlFor","button","renderFilePreview","fileExtension","split","pop","toLowerCase","span","pageSize","response","api","get","list","item","planId","isActive","connectWebSocket","token","onMessage","onError","io","transports","auth","on","log","emit","roomId","post","headers","chatId","delete"],"sourceRoot":""}