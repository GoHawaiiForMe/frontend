try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="da88c8a4-d6c4-4d65-98bd-e784e6975efb",e._sentryDebugIdIdentifier="sentry-dbid-da88c8a4-d6c4-4d65-98bd-e784e6975efb")}catch(e){}"use strict";(()=>{var e={};e.id=895,e.ids=[636,895],e.modules={15477:(e,t,r)=>{r.a(e,async(e,s)=>{try{r.r(t),r.d(t,{AllReceivePlan:()=>N,default:()=>G,getServerSideProps:()=>C,getStaticProps:()=>T});var a=r(77134),i=r(8732),l=r(29965),n=r.n(l),o=r(11925),d=r(35521),c=r(67180),p=r(57740),u=r(16970),x=r(82015),m=r(38261),f=r(90175),h=r(85890),g=r(57265),y=r(28462),v=r(40151),b=r(36218),S=r(41934),j=r(91106),P=r.n(j),w=r(60751),A=e([o,c,m,h,y,v,b]);function N(){let[e,t]=(0,x.useState)(!1),[r,s]=(0,x.useState)(!1),[a,l]=(0,x.useState)(!1),[j,w]=(0,x.useState)("SCHEDULE_FIRST"),[A,N]=(0,x.useState)(""),[_,M]=(0,x.useState)(""),[q,I]=(0,x.useState)([]),[k,D]=(0,x.useState)(null),{ref:W,inView:T}=(0,b.useInView)(),{data:C,isLoading:G,fetchNextPage:R,hasNextPage:z,isFetchingNextPage:E,isFetching:F}=(0,y.useInfiniteQuery)({queryKey:["receiveRequest",{isAssigned:!1,tripType:q,keyword:_,orderBy:j}],initialPageParam:1,queryFn:({pageParam:e=1})=>(0,v.Ay)({isAssigned:!1,tripType:q.length>0?q:void 0,keyword:_||void 0,orderBy:j,page:e,pageSize:5}),getNextPageParam:(e,t)=>5===e.list.length?t.length+1:void 0,placeholderData:y.keepPreviousData}),L=C?.pages[0]?.totalCount||0,V=C?.pages.flatMap(e=>e.list)||[],$=e=>{D(e),s(!0)},B=()=>{l(!0)};return(0,i.jsxs)("div",{"data-sentry-component":"AllReceivePlan","data-sentry-source-file":"index.tsx",children:[(0,i.jsx)("div",{className:"mx-[auto] w-full mobile:mx-[auto] tablet:mx-[auto]",children:(0,i.jsxs)("div",{className:"mb-8 flex items-center gap-8 border-b border-color-line-200",children:[(0,i.jsx)(P(),{href:"/receive","data-sentry-element":"Link","data-sentry-source-file":"index.tsx",children:(0,i.jsx)("p",{className:"text-4 cursor-pointer font-semibold",children:"받은 견적 요청"})}),(0,i.jsx)(P(),{href:"/all-receive-plan","data-sentry-element":"Link","data-sentry-source-file":"index.tsx",children:(0,i.jsx)("p",{className:"text-4 cursor-pointer border-b-[3px] border-black py-6 font-semibold",children:"전체 플랜"})})]})}),(0,i.jsxs)("div",{className:"flex gap-[107px]",children:[(0,i.jsx)(o.A,{data:C?.pages[0],setSelectedTypes:I,"data-sentry-element":"CheckFilter","data-sentry-source-file":"index.tsx"}),(0,i.jsxs)("div",{className:"w-full",children:[(0,i.jsx)(g.A,{value:A,onChange:e=>{N(e.target.value),""===e.target.value&&M("")},onSearch:e=>{N(e),M(e)},"data-sentry-element":"SearchBar","data-sentry-source-file":"index.tsx"}),(0,i.jsxs)("div",{className:"mb-8 mt-4 flex w-full items-center justify-between mobile:mx-[auto] tablet:mx-[auto]",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsxs)("p",{children:["전체 ",L," 건"]}),F&&!G&&(0,i.jsxs)("div",{className:"flex items-center gap-2 text-blue-500",children:[(0,i.jsx)("div",{className:"h-2 w-2 animate-pulse rounded-full bg-blue-500"}),(0,i.jsx)("span",{className:"text-sm",children:"필터링 중..."})]})]}),(0,i.jsxs)("div",{className:"flex items-center gap-[4px]",children:[(0,i.jsx)(d.A,{onSort:w,currentSort:j,"data-sentry-element":"FastDropdown","data-sentry-source-file":"index.tsx"}),(0,i.jsx)(n(),{src:p.A,className:"pc:hidden mobile-tablet:block",alt:"filter",width:32,height:32,onClick:()=>t(!0),"data-sentry-element":"Image","data-sentry-source-file":"index.tsx"})]})]}),G?(0,i.jsx)("div",{className:"flex min-h-[200px] items-center justify-center",children:(0,i.jsx)("span",{children:"Loading..."})}):(0,i.jsxs)("div",{className:`transition-opacity duration-300 ${F?"opacity-60":"opacity-100"}`,children:[V.length>0?V.map((e,t)=>(0,i.jsx)("div",{className:"transform transition-all duration-300 hover:scale-[1.01]",children:(0,i.jsx)(c.A,{data:e,onSendQuotation:()=>$(e.id),onReject:B,oneButton:!0})},`${e.id}-${t}`)):(0,i.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,i.jsx)(n(),{src:S.A,alt:"request_empty",width:300,height:300}),(0,i.jsx)("p",{className:"text-xl font-semibold text-color-gray-300",children:"아직 받은 요청이 없어요!"})]}),(0,i.jsx)("div",{ref:W,className:"h-10",children:E&&(0,i.jsx)("div",{className:"flex items-center justify-center py-4",children:(0,i.jsx)("span",{children:"더 불러오는 중..."})})})]})]})]}),e&&(0,i.jsx)(u.A,{closeModal:()=>t(!1),data:C?.pages[0],selectedTypes:q,setSelectedTypes:I}),r&&(0,i.jsx)(f.A,{label:"견적 보내기",closeModal:()=>s(!1),children:(0,i.jsx)(m.A,{data:V.find(e=>e.id===k),closeModal:()=>s(!1)})}),a&&(0,i.jsx)(f.A,{label:"요청 반려하기",closeModal:()=>l(!1),children:(0,i.jsx)(h.A,{data:V.find(e=>e.id===k),closeModal:()=>l(!1)})})]})}[o,c,m,h,y,v,b]=A.then?(await A)():A;var _=(0,w.A)(N),M=Object.freeze({__proto__:null,AllReceivePlan:N,default:_});let q=M?M.default:void 0,I=q?q.getInitialProps:void 0,k=M?M.getStaticProps:void 0,D=M?M.getServerSideProps:void 0,W=(a.wrapAppGetInitialPropsWithSentry,a.wrapDocumentGetInitialPropsWithSentry,a.wrapErrorGetInitialPropsWithSentry,a.wrapGetInitialPropsWithSentry);q&&"function"==typeof I&&(q.getInitialProps=W(I));let T="function"==typeof k?a.wrapGetStaticPropsWithSentry(k,"/all-receive-plan"):void 0,C="function"==typeof D?a.wrapGetServerSidePropsWithSentry(D,"/all-receive-plan"):void 0,G=q?a.wrapPageComponentWithSentry(q):q;s()}catch(e){s(e)}})},61542:(e,t,r)=>{r.a(e,async(e,s)=>{try{r.r(t),r.d(t,{config:()=>f,default:()=>p,getServerSideProps:()=>m,getStaticPaths:()=>x,getStaticProps:()=>u,reportWebVitals:()=>h,routeModule:()=>j,unstable_getServerProps:()=>b,unstable_getServerSideProps:()=>S,unstable_getStaticParams:()=>v,unstable_getStaticPaths:()=>y,unstable_getStaticProps:()=>g});var a=r(63865),i=r(9455),l=r(30671),n=r(89147),o=r(56403),d=r(15477),c=e([o,d]);[o,d]=c.then?(await c)():c;let p=(0,l.M)(d,"default"),u=(0,l.M)(d,"getStaticProps"),x=(0,l.M)(d,"getStaticPaths"),m=(0,l.M)(d,"getServerSideProps"),f=(0,l.M)(d,"config"),h=(0,l.M)(d,"reportWebVitals"),g=(0,l.M)(d,"unstable_getStaticProps"),y=(0,l.M)(d,"unstable_getStaticPaths"),v=(0,l.M)(d,"unstable_getStaticParams"),b=(0,l.M)(d,"unstable_getServerProps"),S=(0,l.M)(d,"unstable_getServerSideProps"),j=new a.PagesRouteModule({definition:{kind:i.A.PAGES,page:"/all-receive-plan",pathname:"/all-receive-plan",bundlePath:"",filename:""},components:{App:o.default,Document:n.default},userland:d});s()}catch(e){s(e)}})},56472:e=>{e.exports=require("@opentelemetry/api")},77134:e=>{e.exports=require("@sentry/nextjs")},87302:e=>{e.exports=require("event-source-polyfill")},40361:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},82015:e=>{e.exports=require("react")},22326:e=>{e.exports=require("react-dom")},8732:e=>{e.exports=require("react/jsx-runtime")},29021:e=>{e.exports=require("fs")},33873:e=>{e.exports=require("path")},27910:e=>{e.exports=require("stream")},74075:e=>{e.exports=require("zlib")},94862:e=>{e.exports=import("@portone/browser-sdk/v2")},28462:e=>{e.exports=import("@tanstack/react-query")},1428:e=>{e.exports=import("axios")},36218:e=>{e.exports=import("react-intersection-observer")},72177:e=>{e.exports=import("zustand")},52870:e=>{e.exports=import("zustand/middleware")}};var t=require("../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[848,860,883,403,806,4],()=>r(61542));module.exports=s})();
//# sourceMappingURL=all-receive-plan.js.map