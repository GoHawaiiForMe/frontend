(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[824],{5980:(e,s,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/signup/oauth",function(){return r(433)}])},6491:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});var a=r(4848);let t=e=>{let{label:s,onClick:r,disabled:t=!1,className:o="",type:l="button"}=e;return(0,a.jsx)("button",{type:l,className:"w-full py-4 bg-color-blue-300 bold rounded-2xl  text-xl mobile-tablet:text-lg ".concat(t?"bg-color-gray-100 cursor-not-allowed":"bg-color-blue-300"," ").concat(o),onClick:r,disabled:t,children:s})}},6534:(e,s,r)=>{"use strict";r.d(s,{A:()=>m});var a=r(4848),t=r(6540),o=r(9965),l=r.n(o);let n={src:"/_next/static/media/icon_visibility_off.7dedf543.svg",height:24,width:24,blurWidth:0,blurHeight:0},i={src:"/_next/static/media/icon_visibility_on.6f9063a3.svg",height:24,width:24,blurWidth:0,blurHeight:0},c=(0,t.forwardRef)((e,s)=>{let{label:r,type:o,name:c,value:m,onChange:d,placeholder:u="",className:h="",error:g=!1,...p}=e,[w,x]=t.useState(!1),b="textarea"===o?(0,a.jsx)("textarea",{ref:s,name:c,value:m,onChange:d,placeholder:u,className:"mb-4 h-40 w-full resize-none rounded-xl border bg-color-gray-50 p-4 ".concat(h),...p}):"password"===o?(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{ref:s,type:w?"text":"password",name:c,value:m,onChange:d,placeholder:u,className:"h-16 w-full rounded-xl border p-4 pc:text-xl mobile-tablet:text-lg ".concat(g?"border-color-red-200":"border-color-blue-300"," ").concat(h),...p}),(0,a.jsx)(l(),{src:w?i:n,onClick:()=>{x(e=>!e)},width:24,height:24,alt:w?"비밀번호 보기":"비밀번호 감추기",className:"absolute right-5 top-1/2 -translate-y-1/2 transform cursor-pointer"})]}):(0,a.jsx)("input",{ref:s,className:"h-16 w-full rounded-xl border p-4 pc:text-xl mobile-tablet:text-lg ".concat(g?"border-color-red-200":"border-color-blue-300"," ").concat(h),type:o,name:c,value:m,onChange:d,placeholder:u,...p});return(0,a.jsxs)("div",{children:[r&&(0,a.jsx)("label",{className:"semibold mb-4 block pc:text-xl mobile-tablet:text-lg",htmlFor:c,children:r}),b]})});c.displayName="Input";let m=c},433:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>f});var a=r(4848),t=r(9785),o=r(8871),l=r(6534),n=r(6540),i=r(812),c=r(6616),m=r(9965),d=r.n(m),u=r(6491),h=r(1106),g=r.n(h),p=r(1826),w=r(6715),x=r(2294);function b(){let{setOAuthUserData:e}=(0,p.y)(),{register:s,handleSubmit:r,watch:m,setError:h,formState:{errors:b}}=(0,t.mN)({resolver:(0,o.u)(i.dr),mode:"onBlur"}),[f,N]=(0,n.useState)(null),[y,j]=(0,n.useState)(!1),[k,v]=(0,n.useState)(null),z=(0,w.useRouter)(),P=m(),A=0===Object.keys(b).length&&Object.values(P).every(e=>(null==e?void 0:e.toString().trim())!=="")&&y,D=e=>{let{message:s}=e;return(0,a.jsx)("p",{className:"absolute right-0 mt-1 text-color-red-200",children:s})},E=async()=>{let e=P.nickName;try{await x.A.checkNickName({nickName:e})?(j(!0),N("사용 가능한 닉네임입니다!")):(j(!1),h("nickName",{message:"닉네임이 중복되었습니다!"}),N(""))}catch(e){h("nickName",{message:"닉네임 체크 중 오류가 발생했습니다."}),j(!1)}};return(0,n.useEffect)(()=>{if(z.isReady){let e=z.query.auth;e&&(v(e),localStorage.setItem("Token",e))}},[z.isReady,z.query.code]),(0,a.jsx)("div",{className:"flex justify-center",children:(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center gap-8 pc:w-[640px] mobile-tablet:w-[372px]",children:[(0,a.jsx)(d(),{src:c.A,width:400,height:400,alt:"로고"}),(0,a.jsxs)("form",{onSubmit:r(s=>{e({role:s.role,nickName:s.nickName,phoneNumber:s.phoneNumber}),"DREAMER"===s.role&&z.push("/profile/dreamer"),"MAKER"===s.role&&z.push("/profile/maker")}),className:"relative flex w-full flex-col gap-8",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(l.A,{type:"text",label:"닉네임",placeholder:"닉네임을 입력해주세요",...s("nickName"),error:!!b.nickName,className:"pr-16"}),(0,a.jsx)("button",{type:"button",onClick:E,className:"bold absolute right-2 top-[60px] rounded-lg bg-color-blue-300 px-2 py-2 text-lg text-color-gray-50 mobile-tablet:top-[53px]",children:"닉네임 확인"}),b.nickName&&(0,a.jsx)(D,{message:b.nickName.message}),f&&(0,a.jsx)("p",{className:"text-color-blue-300",children:f})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(l.A,{type:"text",label:"전화번호",placeholder:"숫자만 입력해주세요",...s("phoneNumber"),error:!!b.phoneNumber}),b.phoneNumber&&(0,a.jsx)(D,{message:b.phoneNumber.message})]}),(0,a.jsxs)("div",{className:"mb-2",children:[(0,a.jsx)("p",{className:"pc:text-xl",children:"역할"}),(0,a.jsxs)("div",{className:"flex justify-around",children:[(0,a.jsxs)("label",{htmlFor:"DREAMER",className:"flex gap-2 pc:text-xl",children:[(0,a.jsx)("input",{type:"radio",value:"DREAMER",...s("role")}),"Dreamer"]}),(0,a.jsxs)("label",{htmlFor:"MAEKR",className:"flex gap-2 pc:text-xl",children:[(0,a.jsx)("input",{type:"radio",value:"MAKER",...s("role")}),"Maker"]})]}),b.role&&(0,a.jsx)(D,{message:b.role.message})]}),(0,a.jsx)(u.A,{type:"submit",label:"회원가입",disabled:!A,className:"text-color-gray-50"})]}),(0,a.jsxs)("div",{className:"mb-4 flex justify-center",children:[(0,a.jsx)("p",{className:"mr-2",children:"니가가라하와이 전용회원이신가요?"}),(0,a.jsx)(g(),{href:"/login",className:"text-color-blue-300 underline",children:"로그인"})]})]})})}function f(){return(0,a.jsx)(b,{})}},2294:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});var a=r(4996);let t={signUp:async(e,s)=>{try{let r=s?{headers:{Authorization:"Bearer ".concat(s)}}:{};if(r)return await a.F.post("/auth/signup",e,!0,r);return await a.F.post("/auth/signup")}catch(e){throw console.error("회원가입 실패",e),e}},checkNickName:async e=>{try{return await a.F.post("/auth/check/nickName",e)}catch(e){console.error("닉네임 체크 불가",e)}},checkEmail:async e=>{try{return await a.F.post("/auth/check/email",e)}catch(e){console.error("이메일 체크 불가",e)}},login:async e=>{try{let s=await a.F.post("/auth/login",e);return localStorage.setItem("accessToken",s.accessToken),s}catch(e){throw console.error("로그인 실패:",e),e}},googleLogin:async()=>{try{return(await a.F.get("/auth/google")).redirectUrl}catch(e){throw console.error("구글 로그인 실패",e),e}},kakaoLogin:async()=>{try{return(await a.F.get("/auth/kakao")).redirectUrl}catch(e){throw console.error("카카오 로그인 실패",e),e}},naverLogin:async()=>{try{return(await a.F.get("/auth/naver")).redirectUrl}catch(e){throw console.error("네이버 로그인 실패",e),e}}}},1826:(e,s,r)=>{"use strict";r.d(s,{y:()=>a});let a=(0,r(9836).v)(e=>({userData:{role:"",nickName:"",email:"",password:"",phoneNumber:""},profileData:{image:"",tripTypes:[],serviceArea:[]},makerProfileData:{image:"",serviceTypes:[],serviceArea:[],gallery:"",description:"",detailDescription:""},oAuthUserData:{role:"",nickName:"",phoneNumber:""},setUserData:s=>e(e=>({userData:{...e.userData,...s}})),setProfileData:s=>e(e=>({profileData:{...e.profileData,...s}})),setMakerProfileData:s=>e(e=>({makerProfileData:{...e.makerProfileData,...s}})),setOAuthUserData:s=>e(e=>({oAuthUserData:{...e.oAuthUserData,...s}}))}))},812:(e,s,r)=>{"use strict";r.d(s,{GU:()=>n,Mh:()=>l,Sd:()=>o,X5:()=>t,dr:()=>i});var a=r(4476);let t=a.z.object({email:a.z.string().min(1,"이메일을 입력해 주세요.").email("이메일 형식이 아닙니다."),password:a.z.string().nonempty("비밀번호를 입력해 주세요.").min(6,"비밀번호는 최소 6자 이상이어야 합니다.")}),o=a.z.object({nickName:a.z.string().min(1,{message:"닉네임을 입력해 주세요."}),email:a.z.string().min(1,{message:"이메일을 입력해 주세요."}).email({message:"이메일 형식이 아닙니다."}),phoneNumber:a.z.string().regex(/^010\d{8}$/,{message:"010으로 시작하고 숫자만 입력해 주세요."}),password:a.z.string().min(6,"비밀번호는 최소 6자 이상이어야 합니다."),confirmPassword:a.z.string().min(1,{message:"비밀번호 확인란을 입력해 주세요."}),role:a.z.enum(["MAKER","DREAMER"],{message:"역할을 선택해 주세요."})}).refine(e=>e.password===e.confirmPassword,{path:["confirmPassword"],message:"비밀번호가 일치하지 않습니다."}),l=a.z.object({nickName:a.z.string().min(1,{message:"닉네임을 입력해 주세요."}),email:a.z.string().min(1,{message:"이메일을 입력해 주세요."}),phoneNumber:a.z.string().regex(/^010\d{8}$/,{message:"010으로 시작하고 숫자만 입력해 주세요."}),password:a.z.string().optional(),newPassword:a.z.string().optional(),newConfirmPassword:a.z.string().optional(),selectedServices:a.z.array(a.z.string()).optional(),selectedLocations:a.z.array(a.z.string()).optional()}).superRefine((e,s)=>{(e.newPassword||e.newConfirmPassword)&&(e.password||s.addIssue({code:"custom",path:["password"],message:"현재 비밀번호를 입력해 주세요."}),e.newPassword&&e.newPassword.length<6&&s.addIssue({code:"custom",path:["newPassword"],message:"새 비밀번호는 최소 6자 이상이어야 합니다."}),e.newPassword!==e.newConfirmPassword&&s.addIssue({code:"custom",path:["newConfirmPassword"],message:"새 비밀번호가 일치하지 않습니다."}))}),n=a.z.object({nickName:a.z.string().min(1,{message:"닉네임을 입력해 주세요."}),email:a.z.string().min(1,{message:"이메일을 입력해 주세요."}),phoneNumber:a.z.string().regex(/^010\d{8}$/,{message:"010으로 시작하고 숫자만 입력해 주세요."}),password:a.z.string().optional(),newPassword:a.z.string().optional(),newConfirmPassword:a.z.string().optional()}).refine(e=>!e.newPassword||e.password,{path:["password"],message:"새 비밀번호를 설정하려면 현재 비밀번호를 입력해 주세요."}).refine(e=>!e.newPassword||e.newPassword.length>=6,{path:["newPassword"],message:"새 비밀번호는 최소 6자 이상이어야 합니다."}).refine(e=>!e.newPassword||e.newPassword===e.newConfirmPassword,{path:["newConfirmPassword"],message:"새 비밀번호가 일치하지 않습니다."}),i=a.z.object({nickName:a.z.string().min(1,{message:"닉네임을 입력해 주세요."}),phoneNumber:a.z.string().regex(/^010\d{8}$/,{message:"010으로 시작하고 숫자만 입력해 주세요."}),role:a.z.enum(["MAKER","DREAMER"],{message:"역할을 선택해 주세요."})})}},e=>{var s=s=>e(e.s=s);e.O(0,[106,636,593,792],()=>s(5980)),_N_E=e.O()}]);