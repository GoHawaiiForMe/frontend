(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[77],{1717:(e,n,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/plan-request",function(){return t(2958)}])},4507:(e,n,t)=>{"use strict";t.d(n,{A:()=>l});let l={src:"/_next/static/media/icon_luggage.c35a102c.svg",height:1080,width:1080,blurWidth:0,blurHeight:0}},2577:(e,n,t)=>{"use strict";t.d(n,{A:()=>a});var l=t(4848);function a(e){let{type:n="left",children:t}=e,a="";return"left"===n?a="bg-color-gray-50 rounded-r-3xl rounded-bl-3xl":"right"===n?a="bg-color-blue-300 rounded-l-3xl rounded-br-3xl text-color-gray-50":"right_select"===n?a="bg-color-gray-50 rounded-l-3xl rounded-br-3xl ":"left_say"===n&&(a="bg-color-blue-100 text-color-blue-300 rounded-r-3xl rounded-bl-3xl"),(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("div",{className:"".concat("left"===n||"left_say"===n?"flex justify-start":"flex justify-end"," pb-8"),children:(0,l.jsx)("div",{className:"".concat(a," bold w-fit max-w-full px-5 py-3"),children:t})})})}},6491:(e,n,t)=>{"use strict";t.d(n,{A:()=>a});var l=t(4848);let a=e=>{let{label:n,onClick:t,disabled:a=!1,className:r="",type:i="button"}=e;return(0,l.jsx)("button",{type:i,className:"w-full py-4 bg-color-blue-300 bold rounded-2xl  text-xl mobile-tablet:text-lg ".concat(a?"bg-color-gray-100 cursor-not-allowed":"bg-color-blue-300"," ").concat(r),onClick:t,disabled:a,children:n})}},6534:(e,n,t)=>{"use strict";t.d(n,{A:()=>d});var l=t(4848),a=t(6540),r=t(9965),i=t.n(r);let s={src:"/_next/static/media/icon_visibility_off.7dedf543.svg",height:24,width:24,blurWidth:0,blurHeight:0},c={src:"/_next/static/media/icon_visibility_on.6f9063a3.svg",height:24,width:24,blurWidth:0,blurHeight:0},o=(0,a.forwardRef)((e,n)=>{let{label:t,type:r,name:o,value:d,onChange:u,placeholder:x="",className:m="",error:p=!1,...b}=e,[h,g]=a.useState(!1),j="textarea"===r?(0,l.jsx)("textarea",{ref:n,name:o,value:d,onChange:u,placeholder:x,className:"mb-4 h-40 w-full resize-none rounded-xl border bg-color-gray-50 p-4 ".concat(m),...b}):"password"===r?(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("input",{ref:n,type:h?"text":"password",name:o,value:d,onChange:u,placeholder:x,className:"h-16 w-full rounded-xl border p-4 pc:text-xl mobile-tablet:text-lg ".concat(p?"border-color-red-200":"border-color-blue-300"," ").concat(m),...b}),(0,l.jsx)(i(),{src:h?c:s,onClick:()=>{g(e=>!e)},width:24,height:24,alt:h?"비밀번호 보기":"비밀번호 감추기",className:"absolute right-5 top-1/2 -translate-y-1/2 transform cursor-pointer"})]}):(0,l.jsx)("input",{ref:n,className:"h-16 w-full rounded-xl border p-4 pc:text-xl mobile-tablet:text-lg ".concat(p?"border-color-red-200":"border-color-blue-300"," ").concat(m),type:r,name:o,value:d,onChange:u,placeholder:x,...b});return(0,l.jsxs)("div",{children:[t&&(0,l.jsx)("label",{className:"semibold mb-4 block pc:text-xl mobile-tablet:text-lg",htmlFor:o,children:t}),j]})});o.displayName="Input";let d=o},1761:(e,n,t)=>{"use strict";t.d(n,{A:()=>r});var l=t(4848),a=t(6540);function r(e){let{children:n,bodyClass:t}=e;return(0,a.useEffect)(()=>(t&&document.body.classList.add(t),()=>{t&&document.body.classList.remove(t)}),[t]),(0,l.jsx)(l.Fragment,{children:n})}},2314:(e,n,t)=>{"use strict";t.d(n,{A:()=>s});var l=t(4848),a=t(4027),r=t(9965),i=t.n(r);function s(e){let{label:n,children:t,closeModal:r}=e;return(0,l.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center ",children:(0,l.jsxs)("div",{className:" bg-white rounded-2xl p-8 w-[608px] text-2xl semibold",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center mb-10",children:[n,(0,l.jsx)(i(),{src:a.A,alt:"닫기",width:36,height:36,onClick:r,className:"cursor-pointer"})]}),t]})})}},800:(e,n,t)=>{"use strict";t.d(n,{A:()=>s});var l=t(4848),a=t(9593);let r=e=>{let{selectedTypes:n,toggleSelection:t,data:r,className:i,itemClassName:s}=e;return(0,l.jsx)("div",{className:"".concat(null!=i?i:"grid grid-cols-3 gap-3"," "),children:(r||a.A.services).map((e,a)=>(0,l.jsx)("div",{className:"".concat(null!=s?s:""," medium flex cursor-pointer justify-center rounded-3xl border px-3 py-2 text-2lg mobile-tablet:px-2 mobile-tablet:py-1 mobile-tablet:text-md ").concat(n.includes(e.name)?"bold border-color-blue-300 bg-color-blue-50 text-color-blue-300":"border-color-gray-100 bg-color-background-100"),onClick:()=>null==t?void 0:t(e.mapping),children:(0,l.jsx)("button",{type:"button",children:e.name})},a))})},i=e=>{let{selectedTypes:n,toggleSelection:t,data:r,className:i,itemClassName:s}=e;return(0,l.jsx)("div",{className:"".concat(null!=i?i:"grid grid-cols-5 gap-3"," w-[416px] mobile-tablet:w-[280px] mobile-tablet:gap-2"),children:(r||a.A.locations).map((e,a)=>(0,l.jsx)("div",{className:"".concat(null!=s?s:""," medium flex cursor-pointer justify-center rounded-3xl border px-3 py-2 text-2lg mobile-tablet:px-2 mobile-tablet:py-1 mobile-tablet:text-md ").concat(n.includes(e.name)?"bold border-color-blue-300 bg-color-blue-50 text-color-blue-300":"border-color-gray-100 bg-color-background-100"),onClick:()=>null==t?void 0:t(e.mapping),children:(0,l.jsx)("button",{type:"button",children:e.name})},a))})};function s(e){let{category:n,selectedTypes:t,toggleSelection:a,data:s,className:c,itemClassName:o}=e;return(0,l.jsxs)(l.Fragment,{children:["services"===n&&(0,l.jsx)(r,{selectedTypes:t,toggleSelection:a,data:s,className:c,itemClassName:o}),"locations"===n&&(0,l.jsx)(i,{selectedTypes:t,toggleSelection:a,data:s,className:c,itemClassName:o})]})}},2958:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>O});var l=t(4848),a=t(2577),r=t(800),i=t(6534),s=t(6540),c=t(1751),o=t(2314),d=t(6491),u=t(4577),x=t(782),m=t(3540),p=t(4353),b=t.n(p);function h(){let e=(0,u._)(["\n  width: 350px;\n\n  .react-calendar {\n    display: flex;\n    align-items: center;\n    flex-direction: column;\n    width: 350px;\n    max-width: 100%;\n    background: white;\n    line-height: 1.125em;\n  }\n\n  .react-calendar__tile--disabled {\n    color: #ccc;\n    pointer-events: none;\n  }\n\n  .react-calendar,\n  .react-calendar *,\n  .react-calendar *:before,\n  .react-calendar *:after {\n    -moz-box-sizing: border-box;\n    -webkit-box-sizing: border-box;\n    box-sizing: border-box;\n  }\n\n  .react-calendar__navigation {\n    display: flex;\n    height: 44px;\n    margin-bottom: 1em;\n  }\n\n  .react-calendar__navigation button {\n    min-width: 44px;\n    background: none;\n  }\n\n  .react-calendar__month-view__weekdays {\n    text-align: center;\n    font: inherit;\n    font-size: 0.75em;\n    font-weight: bold;\n    text-decoration: none;\n  }\n\n  .react-calendar__month-view__weekdays__weekday {\n    padding: 0.5em;\n  }\n\n  .react-calendar__month-view__weekdays__weekday abbr {\n    text-decoration: none;\n  }\n\n  .react-calendar__month-view__days__day--weekend {\n    color: #000000;\n  }\n\n  .react-calendar__month-view__days__day--neighboringMonth,\n  .react-calendar__decade-view__years__year--neighboringDecade,\n  .react-calendar__century-view__decades__decade--neighboringCentury {\n    color: #757575;\n  }\n\n  .react-calendar__tile {\n    max-width: 100%;\n    padding: 10px 6.6667px;\n    text-align: center;\n    font: inherit;\n    font-size: 0.833em;\n  }\n\n  .react-calendar__tile:enabled:hover,\n  .react-calendar__tile:enabled:focus {\n    background-color: #e6e6e6;\n    border-radius: 9999px;\n  }\n\n  .react-calendar__tile--now {\n    background: #d4e5ff;\n    border-radius: 9999px;\n  }\n\n  .react-calendar__tile--now:enabled:hover,\n  .react-calendar__tile--now:enabled:focus {\n    background: #006edc;\n  }\n\n  .react-calendar__tile--hasActive {\n    background: #76baff;\n  }\n\n  .react-calendar__tile--hasActive:enabled:hover,\n  .react-calendar__tile--hasActive:enabled:focus {\n    background: #a9d4ff;\n  }\n\n  .react-calendar__tile--active {\n    background: #006edc;\n    color: white;\n    border-radius: 9999px;\n  }\n\n  .react-calendar__tile--active:enabled:hover,\n  .react-calendar__tile--active:enabled:focus {\n    background: #1087ff;\n  }\n\n  .react-calendar--selectRange .react-calendar__tile--hover {\n    background-color: #a9d4ff;\n  }\n"]);return h=function(){return e},e}let g=(0,m.Ay)(x.A)(h());function j(e){let{onDateChange:n}=e,[t,a]=(0,s.useState)(new Date),r=new Date;return r.setHours(0,0,0,0),(0,l.jsx)("div",{children:(0,l.jsx)(g,{onChange:e=>{e instanceof Date&&(a(e),n(e))},value:t,locale:"ko-KR",selectRange:!1,formatDay:(e,n)=>b()(n).format("DD"),tileDisabled:e=>{let{date:n}=e,t=new Date(n);return t.setHours(0,0,0,0),t<r}})})}var v=t(9593),f=t(4996);let _={planRequest:async e=>{try{return await f.F.post("/plans",e)}catch(e){throw console.error("여행 요청 실패",e),e}}};var y=t(2309);function N(e){let{onConfirm:n}=e,[t,u]=(0,s.useState)(""),[x,m]=(0,s.useState)(""),[p,b]=(0,s.useState)([]),[h,g]=(0,s.useState)([]),[f,N]=(0,s.useState)(!1),[w,A]=(0,s.useState)(""),[k,C]=(0,s.useState)(""),[S,E]=(0,s.useState)(!1),[O,G]=(0,s.useState)(!1),[D,F]=(0,s.useState)(!1),[T,U]=(0,s.useState)(null),[H,I]=(0,s.useState)(0),R=(0,s.useCallback)(()=>{I(D?100:O?75:S?50:25)},[S,O,D]),P=p.length>0,L=x.trim().length>0&&t.length>0&&(h.includes("SHOPPING")?w&&k:h.length>0),z=null!==T,J=(0,y.n)({mutationFn:e=>_.planRequest(e),onSuccess:()=>{n()},onError:e=>{console.error("여행 요청 실패",e)}});return(0,s.useEffect)(()=>{R()},[R]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"mb-8 w-[312px]",children:(0,l.jsxs)("div",{className:"semibold flex h-24 w-screen flex-col justify-center gap-4 bg-color-gray-50 text-2xl mobile:-mx-[24px] mobile:px-[24px] tablet:-mx-[72px] tablet:px-[72px] pc:-mx-[260px] pc:px-[260px]",children:["플랜요청",(0,l.jsx)("div",{className:"relative h-2 w-full rounded-full bg-gray-300",children:(0,l.jsx)("div",{className:"absolute left-0 top-0 h-full rounded-full bg-blue-500",style:{width:"".concat(H,"%"),transition:"width 0.5s ease-in-out"}})})]})}),(0,l.jsx)(a.A,{type:"left",children:"몇 가지 정보만 알려주시면 최대 5개의 플랜을 받을 수 있어요 ;)"}),(0,l.jsx)(a.A,{type:"left",children:"여행 지역을 선택해 주세요."}),!S&&(0,l.jsx)("div",{children:(0,l.jsxs)(a.A,{type:"right_select",children:[(0,l.jsx)("p",{className:"mb-4",children:"한 지역만 선택 가능합니다!"}),(0,l.jsx)(r.A,{category:"locations",selectedTypes:p.map(e=>{var n;return(null===(n=v.A.locations.find(n=>n.mapping===e))||void 0===n?void 0:n.name)||e}),toggleSelection:e=>{b(n=>n[0]===e?[]:[e])}}),(0,l.jsx)(d.A,{label:"선택완료",className:"mt-8 text-color-gray-50",disabled:!P,onClick:()=>{P&&(E(!0),R())}})]})}),S&&(0,l.jsxs)("div",{children:[(0,l.jsx)(a.A,{type:"right",children:(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{children:"[여행할 지역]"}),(0,l.jsx)("div",{children:p.map(e=>{var n;return null===(n=v.A.locations.find(n=>n.mapping===e))||void 0===n?void 0:n.name}).join(", ")})]})}),(0,l.jsx)("p",{className:"-mt-7 mb-8 flex cursor-pointer justify-end underline",onClick:()=>E(!1),children:"수정하기"})]}),S&&!O&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(a.A,{type:"left",children:"여행 종류를 선택해 주세요."}),(0,l.jsx)("div",{children:(0,l.jsxs)(a.A,{type:"right_select",children:[(0,l.jsx)("div",{className:"mb-4",children:(0,l.jsx)(i.A,{type:"text",onChange:e=>{e.target.value.length<=25&&u(e.target.value)},value:t,placeholder:"제목을 작성해주세요. (최대 25자까지)"})}),(0,l.jsx)(i.A,{type:"textarea",onChange:e=>m(e.target.value),value:x,placeholder:"Maker에게 부탁할 일을 자세하게 작성해주세요."}),(0,l.jsx)("p",{className:"mb-4",children:"한 서비스만 선택 가능합니다!"}),(0,l.jsx)(r.A,{category:"services",selectedTypes:h.map(e=>{var n;return(null===(n=v.A.services.find(n=>n.mapping===e))||void 0===n?void 0:n.name)||e}),toggleSelection:e=>{g(n=>n[0]===e?[]:[e])}}),h.includes("SHOPPING")&&(0,l.jsxs)("div",{className:"mt-4",children:[(0,l.jsx)("button",{className:"flex-start bold flex h-16 w-full items-center rounded-2xl border border-color-blue-300 px-4 text-color-blue-300",onClick:()=>{N(!0)},children:w||"물건을 받을 도착지 선택하기"}),f&&(0,l.jsx)(o.A,{label:"주소지 검색하기",closeModal:()=>{N(!1)},children:(0,l.jsx)(c.Ay,{onComplete:e=>{A(e.address),N(!1)}})})]}),w&&h.includes("SHOPPING")&&(0,l.jsx)("div",{className:"mt-4",children:(0,l.jsx)(i.A,{type:"text",placeholder:"상세 주소를 입력하세요",value:k,onChange:e=>C(e.target.value),className:"text-color-blue-300"})}),(0,l.jsx)(d.A,{label:"선택완료",className:"mt-8 text-color-gray-50",disabled:!L,onClick:()=>{L&&(G(!0),R())}})]})})]}),S&&O&&(0,l.jsxs)("div",{children:[(0,l.jsxs)(a.A,{type:"right",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{children:"[제목]"}),(0,l.jsx)("div",{children:t})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{children:"[요청사항]"}),(0,l.jsx)("div",{children:x})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{children:"[선택된 서비스]"})," ",(0,l.jsx)("div",{children:h.map(e=>{var n;return null===(n=v.A.services.find(n=>n.mapping===e))||void 0===n?void 0:n.name}).join(", ")})]}),h.includes("SHOPPING")&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{children:"[주소]"})," ",(0,l.jsx)("div",{children:w})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{children:"[상세 주소]"})," ",(0,l.jsx)("div",{children:k})]})]})]}),(0,l.jsx)("p",{className:"-mt-7 mb-8 flex cursor-pointer justify-end underline",onClick:()=>G(!1),children:"수정하기"})]}),S&&O&&!D&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(a.A,{type:"left",children:"여행할 날짜를 선택해 주세요."}),(0,l.jsx)("div",{children:(0,l.jsxs)(a.A,{type:"right_select",children:[(0,l.jsx)(j,{onDateChange:e=>{U(e)}}),(0,l.jsx)(d.A,{label:"선택완료",className:"mt-8 text-color-gray-50",disabled:!z,onClick:()=>{z&&(F(!0),R())}})]})})]}),S&&O&&D&&(0,l.jsxs)("div",{children:[(0,l.jsx)(a.A,{type:"right",children:(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{children:"[여행할 날짜]"}),(0,l.jsx)("div",{children:T?T.toLocaleDateString("ko-KR"):"날짜 선택 안됨"})]})}),(0,l.jsx)("p",{className:"-mt-7 mb-8 flex cursor-pointer justify-end underline",onClick:()=>F(!1),children:"수정하기"}),(0,l.jsx)(a.A,{type:"right",children:(0,l.jsxs)("div",{className:"px-4",children:[(0,l.jsx)("p",{className:"mb-2",children:"플랜을 확정하시겠습니까?"}),(0,l.jsx)(d.A,{label:"플랜 확정하기",onClick:()=>{let e={title:t,tripDate:T,tripType:h[0]||"",serviceArea:p[0]||"",details:x,address:w+", "+k};J.mutate(e)},type:"submit",className:"border border-color-black-100 bg-color-red-100 text-color-black-300"})]})})]})]})}var w=t(1761),A=t(6715),k=t(9965),C=t.n(k),S=t(4507);function E(e){let{onReset:n}=e,t=(0,A.useRouter)();return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)(w.A,{bodyClass:"bg-gray",children:[(0,l.jsx)(C(),{src:S.A,alt:"캐리어 아이콘",width:500}),(0,l.jsxs)("div",{className:"flex gap-4",children:[(0,l.jsx)("div",{children:(0,l.jsx)(d.A,{label:"새로운 여행 계획하기",className:"px-5 text-color-gray-50",onClick:()=>{n(),t.push("/plan-request")}})}),(0,l.jsx)("div",{children:(0,l.jsx)(d.A,{label:"신청한 여행 보러가기",className:"px-5 text-color-gray-50",onClick:()=>{n(),t.push("/mytrip-manage/ongoing-plan")}})})]})]})})}function O(){let[e,n]=(0,s.useState)(!1);return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(w.A,{bodyClass:"bg-gray",children:e?(0,l.jsx)(E,{onReset:()=>{n(!1)}}):(0,l.jsx)(N,{onConfirm:()=>n(!0)})})})}(0,t(4107).A)(O)},4107:(e,n,t)=>{"use strict";t.d(n,{A:()=>i});var l=t(4848),a=t(6540),r=t(6715);let i=e=>n=>{let t=(0,r.useRouter)(),[i,s]=(0,a.useState)(null);return((0,a.useEffect)(()=>{let e=localStorage.getItem("accessToken");if(e){if("/login"===t.pathname||"/signup"===t.pathname){t.push("/");return}s(e)}else"/login"!==t.pathname&&"/signup"!==t.pathname&&t.push("/login")},[t,i]),i||"/login"===t.pathname||"/signup"===t.pathname)?(0,l.jsx)(e,{...n}):null}},9593:(e,n,t)=>{"use strict";t.d(n,{A:()=>l});let l={services:[{name:"맛집 탐방형",mapping:"FOOD_TOUR"},{name:"기념품/쇼핑형",mapping:"SHOPPING"},{name:"휴양형",mapping:"RELAXATION"},{name:"문화/역사탐방형",mapping:"CULTURE"},{name:"액티비티/탐험형",mapping:"ACTIVITY"},{name:"축제참여형",mapping:"FESTIVAL"}],locations:[{name:"서울",mapping:"SEOUL"},{name:"부산",mapping:"BUSAN"},{name:"인천",mapping:"INCHEON"},{name:"대구",mapping:"DAEGU"},{name:"대전",mapping:"DAEJEON"},{name:"광주",mapping:"GWANGJU"},{name:"울산",mapping:"ULSAN"},{name:"세종",mapping:"SEJONG"},{name:"경기",mapping:"GYEONGGI"},{name:"강원",mapping:"GANGWON"},{name:"충북",mapping:"CHUNGBUK"},{name:"충남",mapping:"CHUNGNAM"},{name:"전북",mapping:"JEONBUK"},{name:"전남",mapping:"JEONNAM"},{name:"경북",mapping:"GYEONGBUK"},{name:"경남",mapping:"GYEONGNAM"},{name:"제주",mapping:"JEJU"}]}}},e=>{var n=n=>e(e.s=n);e.O(0,[445,636,593,792],()=>n(1717)),_N_E=e.O()}]);