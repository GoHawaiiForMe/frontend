try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="db659596-151e-48a5-9194-9be2908eeeae",e._sentryDebugIdIdentifier="sentry-dbid-db659596-151e-48a5-9194-9be2908eeeae")}catch(e){}"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[347],{34421:(e,t,l)=>{l.d(t,{A:()=>a});let a={src:"/_next/static/media/icon_writing.ffd8228f.png",height:24,width:24,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAJFBMVEVMaXH/+/T/+fD/////+O7/+fP/9uj/8+j++fH/9ej/9ur///kIwlvCAAAAC3RSTlMAWVEetG03LeKI+v1cFJwAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAqSURBVHicY2BABozsEJqNhQPC52ZhAvO5uTnBAkxcrBAVzKxMjIzMCK0AD3AAcukMBiwAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8}},72070:(e,t,l)=>{l.d(t,{A:()=>p});var a=l(74848);l(96540);var s=l(29965),i=l.n(s);let r={src:"/_next/static/media/label_shopping.937adf02.svg",height:24,width:24,blurWidth:0,blurHeight:0},o={src:"/_next/static/media/label_food_tour.400ea208.svg",height:24,width:24,blurWidth:0,blurHeight:0},n={src:"/_next/static/media/label_activity.99e9b5b7.svg",height:24,width:24,blurWidth:0,blurHeight:0},c={src:"/_next/static/media/label_culture.9a006b68.svg",height:24,width:24,blurWidth:0,blurHeight:0},d={src:"/_next/static/media/label_festival.3554371c.svg",height:24,width:24,blurWidth:0,blurHeight:0},x={src:"/_next/static/media/label_relaxation.99c0940d.svg",height:24,width:24,blurWidth:0,blurHeight:0},b={src:"/_next/static/media/label_File_dock.6b07d031.svg",height:24,width:24,blurWidth:0,blurHeight:0},p=e=>{let t,l,{labelType:s="SHOPPING",labelSize:p,customLabelContainerClass:m,customLabelTextClass:u}=e,h="bg-color-blue-100",g="text-color-blue-300";switch(s){case"SHOPPING":t=r,l="기념품/쇼핑형";break;case"FOOD_TOUR":t=o,l="맛집 탐방형";break;case"ACTIVITY":t=n,l="액티비티/탐험형";break;case"CULTURE":t=c,l="문화/역사탐방형";break;case"FESTIVAL":t=d,l="축제참여형";break;case"RELAXATION":t=x,l="휴양형";break;case"REQUEST":t=b,l="지정 견적",h="bg-color-red-100",g="text-color-red-200";break;case"PENDING":l="견적 대기",h="bg-color-gray-100 pr-2 pl-2",g="text-color-blue-400";break;case"CONFIRMED":l="견적 확정",h="bg-color-gray-100 pr-2 pl-2",g="text-color-blue-400";break;default:l="지정 라벨 없음",h="bg-color-gray-100",g="hidden"}return(0,a.jsxs)("div",{className:"".concat(h," ").concat(m," ").concat("sm"===p?"h-[26px]":""," rounded-1 flex items-center py-1 pr-[5px] pl-[3px] mobile-tablet:h-[26px]  mobile-tablet:pt-[2px] mobile-tablet:pr-[4px] mobile-tablet:pb-[2px] mobile-tablet:pl-[2px] gap-[4px] mobile-tablet:gap-[2px] "),"data-sentry-component":"Label","data-sentry-source-file":"Label.tsx",children:[t&&(0,a.jsx)(i(),{src:t,alt:"".concat(s," label"),width:24,height:24}),(0,a.jsx)("p",{className:"".concat(g," ").concat(u," ").concat("sm"===p?"text-xs":""," text-lg semibold leading-[24px] mobile-tablet:text-[13px] mobile-tablet:leading-[22px]"),children:l})]})}},92476:(e,t,l)=>{l.d(t,{A:()=>p});var a=l(74848),s=l(96540),i=l(72070),r=l(69340),o=l(97665),n=l(97286),c=l(82309),d=l(93172),x=l(93280),b=l(22132);function p(e){var t,l;let{data:p,closeModal:m}=e,[u,h]=(0,s.useState)(0),[g,f]=(0,s.useState)(""),[A,y]=(0,s.useState)(!1),N=(0,o.jE)(),{data:w}=(0,n.I)({queryKey:["userprofile"],queryFn:r.A.getUserInfo}),v=(0,c.n)({mutationFn:()=>(0,b.P6)(p.id,{price:u,content:g}),onSuccess:e=>{e.success?(alert(e.message),h(0),f(""),N.invalidateQueries({queryKey:["receiveRequest"]})):alert(e.message),m()}});if(!p)return null;let j=(0,d.nk)(p.tripDate),k=(0,x.r)(p.serviceArea),E=(null==w?void 0:w.id)===(null===(t=p.assignees[0])||void 0===t?void 0:t.id)?(0,a.jsx)(i.A,{labelType:"REQUEST"}):"",I=0!==u&&g.length>=10;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(i.A,{labelType:p.tripType,"data-sentry-element":"Label","data-sentry-source-file":"Quotation.tsx"}),E]}),(0,a.jsxs)("div",{className:"mb-8 mt-6 w-[560px] rounded-[8px] border border-color-line-200 py-6 mobile:mt-6 mobile:w-[327px] mobile:border-none mobile:py-[10px] tablet:mt-6 tablet:w-[327px] tablet:border-none tablet:py-[10px]",children:[(0,a.jsx)("p",{className:"mb-2 px-[18px] text-2xl font-semibold mobile:px-0 mobile:text-2lg tablet:pl-0 tablet:text-2lg",children:p.title}),(0,a.jsxs)("p",{className:"mb-[18px] border-b border-color-line-200 pb-[18px] pl-[18px] text-md font-medium text-color-gray-500 mobile:px-0 mobile:text-sm tablet:pl-0 tablet:text-sm",children:[null===(l=p.dreamer)||void 0===l?void 0:l.nickName," 고객님"]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-[0px]",children:[(0,a.jsxs)("div",{className:"col-span-2 mb-2 flex items-center gap-1 pl-[18px] mobile:pl-0 mobile:text-sm tablet:gap-[8px] tablet:pl-0",children:[(0,a.jsx)("p",{className:"whitespace-nowrap rounded-[4px] bg-color-background-400 px-[6px] py-1 text-2lg text-color-gray-500 mobile:text-md tablet:text-md",children:"여행일"}),(0,a.jsx)("p",{className:"medium text-2lg text-color-black-300 mobile:text-md tablet:text-md",children:j})]}),(0,a.jsxs)("div",{className:"mobile-tablet:gap2 flex items-center gap-3 pl-[14px] mobile-tablet:pl-0",children:[(0,a.jsx)("p",{className:"whitespace-nowrap rounded-[4px] bg-color-background-400 px-[6px] py-1 text-2lg text-color-gray-500 mobile:text-md tablet:text-md",children:"여행지"}),(0,a.jsx)("p",{className:"whitespace-nowrap text-2lg font-medium text-color-black-300 mobile:text-md tablet:text-md",children:k})]})]})]})]}),(0,a.jsxs)("div",{className:"mb-[64px] mobile:mb-10 tablet:mb-10",children:[(0,a.jsx)("p",{className:"text-2xl font-semibold",children:"견적 코코넛을 입력해 주세요"}),(0,a.jsx)("input",{type:"number",placeholder:"코코넛 갯수 입력",value:u||"",onChange:e=>h(Number(e.target.value)),className:"mt-4 h-[64x] w-[560px] rounded-[16px] bg-color-background-200 p-[14px] text-xl mobile:h-[48px] mobile:w-[327px] mobile:text-lg tablet:h-[54px] tablet:w-[327px] tablet:text-lg"})]}),(0,a.jsxs)("div",{className:"mb-10 mobile:mb-6 tablet:mb-6",children:[(0,a.jsx)("p",{className:"text-2xl font-semibold mobile:text-2lg tablet:text-2lg",children:"코멘트를 입력해 주세요"}),(0,a.jsx)("textarea",{placeholder:"최소 10글자 이상 입력해 주세요",value:g,onChange:e=>{f(e.target.value),y(!1)},onBlur:()=>{g.length<10&&y(!0)},className:"mt-4 h-[160px] w-[560px] resize-none rounded-[16px] bg-color-background-200 p-[14px] text-xl mobile:h-[160px] mobile:w-[327px] mobile:text-lg tablet:h-[160px] tablet:w-[327px] tablet:text-lg"}),A&&(0,a.jsx)("p",{className:"text-md font-bold text-red-500",children:"10글자 이상 작성해 주세요"})]}),(0,a.jsx)("button",{className:"h-[64px] w-[560px] rounded-[16px] text-xl font-semibold text-white ".concat(I?"bg-color-blue-300":"cursor-not-allowed bg-color-gray-100"," mobile:h-[48px] mobile:w-[327px] mobile:text-lg tablet:h-[54px] tablet:w-[327px] tablet:text-lg"),disabled:!I||v.isPending,onClick:()=>{I&&v.mutate()},children:v.isPending?"보내는 중...":"견적 보내기"})]})}},58955:(e,t,l)=>{l.d(t,{A:()=>m});var a=l(74848),s=l(29965),i=l.n(s),r=l(34421),o=l(72070),n=l(97286),c=l(69340),d=l(93172),x=l(93280),b=l(91106),p=l.n(b);function m(e){var t;let{data:l,onSendQuotation:s,onReject:b,oneButton:m=!1,twoButton:u=!1}=e,{data:h}=(0,n.I)({queryKey:["userprofile"],queryFn:c.A.getUserInfo}),g=(0,d.fw)(l.updatedAt),f=(0,d.nk)(l.tripDate),A=(0,x.r)(l.serviceArea),y=(null==h?void 0:h.id)===(null===(t=l.assignees[0])||void 0===t?void 0:t.id)?(0,a.jsx)(o.A,{labelType:"REQUEST"}):"";return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{className:"mb-12 w-full rounded-[16px] border border-color-line-100 px-4 pb-[12px] pt-[20px] shadow-md mobile:mx-[auto] mobile:mb-6 mobile:px-[14px] mobile:py-[16px] tablet:mx-[auto] tablet:mb-8 ",children:(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsxs)(p(),{href:"/plan-detail/".concat(l.id),"data-sentry-element":"Link","data-sentry-source-file":"RequestDetails.tsx",children:[(0,a.jsxs)("div",{className:"mb-4 flex items-center justify-between text-xs text-color-gray-500",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(o.A,{labelType:l.tripType,"data-sentry-element":"Label","data-sentry-source-file":"RequestDetails.tsx"}),y]}),(0,a.jsx)("div",{className:"",children:g})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xl font-semibold",children:l.title}),(0,a.jsxs)("p",{className:"mb-[18px] border-b border-color-line-200 pb-[18px] text-md font-medium",children:[l.dreamer.nickName," 님"]}),(0,a.jsxs)("div",{className:"flex items-center gap-1 mobile:grid mobile:grid-cols-2 mobile:gap-[0px]",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1 mobile:col-span-2 mobile:mb-2",children:[(0,a.jsx)("p",{className:"rounded-1 whitespace-nowrap bg-color-background-400 px-[6px] py-1 text-2lg font-normal text-color-gray-500 mobile:text-md",children:"여행일"}),(0,a.jsx)("p",{className:"medium text-2lg text-color-black-300 mobile:text-md",children:f})]}),(0,a.jsx)("p",{className:"text-color-line-200 mobile:hidden",children:"ㅣ"}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("p",{className:"rounded-1 whitespace-nowrap bg-color-background-400 px-[6px] py-1 text-2lg font-normal text-color-gray-500 mobile:text-md",children:"여행지"}),(0,a.jsx)("p",{className:"whitespace-nowrap text-2lg font-medium text-color-black-300 mobile:text-md",children:A})]})]})]})]}),(0,a.jsxs)("div",{className:"mt-8 flex items-center justify-between gap-[11px] mobile:mt-5 mobile:flex-col mobile-tablet:gap-[8px]",children:[(0,a.jsxs)("button",{onClick:s,className:"flex w-full items-center justify-center gap-[10px] rounded-[16px] bg-color-blue-300 p-4 mobile:p-3 tablet:p-3 ".concat(u?"hidden":""),children:[(0,a.jsx)("p",{className:"whitespace-nowrap text-xl font-semibold text-white",children:"견적 보내기"}),(0,a.jsx)(i(),{src:r.A,alt:"send",width:24,height:24,"data-sentry-element":"Image","data-sentry-source-file":"RequestDetails.tsx"})]}),(0,a.jsx)("button",{onClick:b,className:"w-full items-center justify-center rounded-[16px] border border-color-blue-300 bg-white p-4 text-xl font-semibold text-color-blue-300 mobile:p-3 tablet:p-3 ".concat(m?"hidden":""," "),children:"반려"})]})]})})})}},26224:(e,t,l)=>{l.d(t,{A:()=>o});var a=l(74848),s=l(96540),i=l(86715),r=l(2385);let o=e=>t=>{let l=(0,i.useRouter)(),[o,n]=(0,s.useState)(null),[c,d]=(0,s.useState)(!0);return((0,s.useEffect)(()=>{let e=(0,r.iD)();if(e){if("/login"===l.pathname||"/signup"===l.pathname){l.push("/");return}n(e)}else"/login"!==l.pathname&&"/signup"!==l.pathname&&l.push("/login");d(!1)},[l]),c)?(0,a.jsx)("div",{children:"Loading..."}):o||"/login"===l.pathname||"/signup"===l.pathname?(0,a.jsx)(e,{...t,"data-sentry-element":"WrappedComponent","data-sentry-component":"AuthComponent","data-sentry-source-file":"withAuthAccess.tsx"}):null}},22132:(e,t,l)=>{l.d(t,{Ay:()=>r,Fo:()=>o,P6:()=>s,fk:()=>i});var a=l(5177);let s=async(e,t)=>{try{return await a.F.post("/plans/".concat(e,"/quotes"),t),{success:!0,message:"견적이 성공적으로 보내졌습니다."}}catch(e){var l,s,i;if((null===(l=e.response)||void 0===l?void 0:l.status)===409)return{success:!1,message:"이미 제출한 견적입니다."};if((null===(s=e.response)||void 0===s?void 0:s.status)===404||(null===(i=e.response)||void 0===i?void 0:i.status)===403)return{success:!1,message:"잘못된 접근입니다."};return{success:!1,message:"견적 보내기에 실패했습니다. 다시 시도해주세요."}}},i=async e=>{try{return await a.F.delete("/plans/".concat(e,"/assign")),{success:!0,message:"요청이 반려되었습니다."}}catch(e){var t;if([400,403,404].includes(null===(t=e.response)||void 0===t?void 0:t.status))return{success:!1,message:"잘못된 방식으로 접근하셨습니다."};return{success:!1,message:"요청 반려에 실패했습니다."}}},r=async function(){let{isAssigned:e,tripType:t,keyword:l,orderBy:s,page:i=1,pageSize:r=5,id:o}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{let n="",c=[];e&&c.push("isAssigned=".concat(e)),t&&t.length>0&&t.forEach(e=>{c.push("tripType=".concat(e))}),l&&c.push("keyword=".concat(encodeURIComponent(l))),s&&c.push("orderBy=".concat(s)),o&&c.push("id=".concat(o)),c.push("page=".concat(i)),c.push("pageSize=".concat(r)),n=c.length>0?"?".concat(c.join("&")):"";let d=await a.F.get("/plans/maker".concat(n));if(!d)return console.warn("데이터가 없습니다. 빈 데이터를 반환합니다."),{totalCount:0,groupByCount:[],list:[]};return d}catch(e){throw console.error("받은 요청 조회 실패",e),e}},o=async e=>{try{return await a.F.get("/plans/".concat(e))}catch(e){throw console.error("플랜 상세 조회 실패",e),e}}},93280:(e,t,l)=>{l.d(t,{r:()=>a});let a=e=>({SEOUL:"서울",BUSAN:"부산",INCHEON:"인천",DAEGU:"대구",DAEJEON:"대전",GWANGJU:"광주",ULSAN:"울산",SEJONG:"세종",GYEONGGI:"경기",GANGWON:"강원",CHUNGBUK:"충북",CHUNGNAM:"충남",JEONBUK:"전북",JEONNAM:"전남",GYEONGBUK:"경북",GYEONGNAM:"경남",JEJU:"제주"})[e]}}]);