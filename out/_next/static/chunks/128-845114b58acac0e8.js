"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[128],{5279:(e,t,l)=>{l.d(t,{A:()=>a});let a={src:"/_next/static/media/icon_loading.05325840.gif",height:45,width:256,blurWidth:0,blurHeight:0}},40028:(e,t,l)=>{l.d(t,{A:()=>a});let a={src:"/_next/static/media/icon_writing.ffd8228f.png",height:24,width:24,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAJFBMVEVMaXH/+/T/+fD/////+O7/+fP/9uj/8+j++fH/9ej/9ur///kIwlvCAAAAC3RSTlMAWVEetG03LeKI+v1cFJwAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAqSURBVHicY2BABozsEJqNhQPC52ZhAvO5uTnBAkxcrBAVzKxMjIzMCK0AD3AAcukMBiwAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8}},44127:(e,t,l)=>{l.d(t,{A:()=>b});var a=l(74848);l(96540);var s=l(29965),i=l.n(s);let r={src:"/_next/static/media/label_shopping.937adf02.svg",height:24,width:24,blurWidth:0,blurHeight:0},o={src:"/_next/static/media/label_food_tour.400ea208.svg",height:24,width:24,blurWidth:0,blurHeight:0},c={src:"/_next/static/media/label_activity.99e9b5b7.svg",height:24,width:24,blurWidth:0,blurHeight:0},n={src:"/_next/static/media/label_culture.9a006b68.svg",height:24,width:24,blurWidth:0,blurHeight:0},d={src:"/_next/static/media/label_festival.3554371c.svg",height:24,width:24,blurWidth:0,blurHeight:0},x={src:"/_next/static/media/label_relaxation.99c0940d.svg",height:24,width:24,blurWidth:0,blurHeight:0},p={src:"/_next/static/media/label_File_dock.6b07d031.svg",height:24,width:24,blurWidth:0,blurHeight:0},b=e=>{let t,l,{labelType:s="SHOPPING",labelSize:b,customLabelContainerClass:m,customLabelTextClass:u}=e,h="bg-color-blue-100",g="text-color-blue-300";switch(s){case"SHOPPING":t=r,l="기념품/쇼핑형";break;case"FOOD_TOUR":t=o,l="맛집 탐방형";break;case"ACTIVITY":t=c,l="액티비티/탐험형";break;case"CULTURE":t=n,l="문화/역사탐방형";break;case"FESTIVAL":t=d,l="축제참여형";break;case"RELAXATION":t=x,l="휴양형";break;case"REQUEST":t=p,l="지정 견적",h="bg-color-red-100",g="text-color-red-200";break;case"PENDING":l="견적 대기",h="bg-color-gray-100 pr-2 pl-2",g="text-color-blue-400";break;case"CONFIRMED":l="견적 확정",h="bg-color-gray-100 pr-2 pl-2",g="text-color-blue-400";break;default:l="지정 라벨 없음",h="bg-color-gray-100",g="hidden"}return(0,a.jsxs)("div",{className:"".concat(h," ").concat(m," ").concat("sm"===b?"h-[26px]":""," rounded-1 flex items-center py-1 pr-[5px] pl-[3px] mobile-tablet:h-[26px]  mobile-tablet:pt-[2px] mobile-tablet:pr-[4px] mobile-tablet:pb-[2px] mobile-tablet:pl-[2px] gap-[4px] mobile-tablet:gap-[2px] "),children:[t&&(0,a.jsx)(i(),{src:t,alt:"".concat(s," label"),width:24,height:24}),(0,a.jsx)("p",{className:"".concat(g," ").concat(u," ").concat("sm"===b?"text-xs":""," text-lg semibold leading-[24px] mobile-tablet:text-[13px] mobile-tablet:leading-[22px]"),children:l})]})}},98649:(e,t,l)=>{l.d(t,{A:()=>b});var a=l(74848),s=l(96540),i=l(44127),r=l(79241),o=l(97665),c=l(97286),n=l(82309),d=l(3329),x=l(30777),p=l(98599);function b(e){var t,l;let{data:b,closeModal:m}=e,[u,h]=(0,s.useState)(0),[g,A]=(0,s.useState)(""),[N,v]=(0,s.useState)(!1),w=(0,o.jE)(),{data:f}=(0,c.I)({queryKey:["userprofile"],queryFn:r.A.getUserInfo}),j=(0,n.n)({mutationFn:()=>(0,p.P6)(b.id,{price:u,content:g}),onSuccess:e=>{e.success?(alert(e.message),h(0),A(""),w.invalidateQueries({queryKey:["receiveRequest"]})):alert(e.message),m()}});if(!b)return null;let y=(0,d.nk)(b.tripDate),k=(0,x.r)(b.serviceArea),E=(null==f?void 0:f.id)===(null===(t=b.assignees[0])||void 0===t?void 0:t.id)?(0,a.jsx)(i.A,{labelType:"REQUEST"}):"",U=0!==u&&g.length>=10;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"mt-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(i.A,{labelType:b.tripType}),E]}),(0,a.jsxs)("div",{className:"mb-8 mt-6 w-[560px] rounded-[8px] border border-color-line-200 py-6 mobile:mt-6 mobile:w-[327px] mobile:border-none mobile:py-[10px] tablet:mt-6 tablet:w-[327px] tablet:border-none tablet:py-[10px]",children:[(0,a.jsx)("p",{className:"mb-2 px-[18px] text-2xl semibold mobile:px-0 mobile:text-2lg tablet:pl-0 tablet:text-2lg",children:b.title}),(0,a.jsxs)("p",{className:"mb-[18px] border-b border-color-line-200 pb-[18px] pl-[18px] text-md font-medium text-color-gray-500 mobile:px-0 mobile:text-sm tablet:pl-0 tablet:text-sm",children:[null===(l=b.dreamer)||void 0===l?void 0:l.nickName," 고객님"]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 ",children:[(0,a.jsxs)("div",{className:"col-span-2 mb-2 flex items-center gap-1 pl-[18px] mobile:pl-0 mobile:text-sm tablet:gap-[8px] tablet:pl-0",children:[(0,a.jsx)("p",{className:"whitespace-nowrap rounded-[4px] bg-color-background-400 px-[6px] py-1 text-2lg text-color-gray-500 mobile:text-md tablet:text-md",children:"여행일"}),(0,a.jsx)("p",{className:"medium text-2lg text-color-black-300 mobile:text-md tablet:text-md",children:y})]}),(0,a.jsxs)("div",{className:"mobile-tablet:gap2 flex items-center gap-1 pl-[18px] mobile-tablet:pl-0",children:[(0,a.jsx)("p",{className:"whitespace-nowrap rounded-[4px] bg-color-background-400 px-[6px] py-1 text-2lg text-color-gray-500 mobile:text-md tablet:text-md",children:"여행지"}),(0,a.jsx)("p",{className:"whitespace-nowrap text-2lg font-medium text-color-black-300 mobile:text-md tablet:text-md",children:k})]})]})]})]}),(0,a.jsxs)("div",{className:"mb-[64px] mobile:mb-10 tablet:mb-10",children:[(0,a.jsx)("p",{className:"text-2xl semibold",children:"견적 코코넛을 입력해 주세요"}),(0,a.jsx)("input",{type:"number",placeholder:"코코넛 갯수 입력",value:u||"",onChange:e=>h(Number(e.target.value)),className:"mt-4 h-[64x] w-[560px] rounded-[16px] bg-color-background-200 p-[14px] text-xl mobile:h-[48px] mobile:w-[327px] mobile:text-lg tablet:h-[54px] tablet:w-[327px] tablet:text-lg"})]}),(0,a.jsxs)("div",{className:"mb-10 mobile:mb-6 tablet:mb-6",children:[(0,a.jsx)("p",{className:"text-2xl semibold mobile:text-2lg tablet:text-2lg",children:"코멘트를 입력해 주세요"}),(0,a.jsx)("textarea",{placeholder:"최소 10글자 이상 입력해 주세요",value:g,onChange:e=>{A(e.target.value),v(!1)},onBlur:()=>{g.length<10&&v(!0)},className:"mt-4 h-[160px] w-[560px] resize-none rounded-[16px] bg-color-background-200 p-[14px] text-xl mobile:h-[160px] mobile:w-[327px] mobile:text-lg tablet:h-[160px] tablet:w-[327px] tablet:text-lg"}),N&&(0,a.jsx)("p",{className:"text-md font-bold text-red-500",children:"10글자 이상 작성해 주세요"})]}),(0,a.jsx)("button",{className:"h-[64px] w-[560px] rounded-[16px] text-xl semibold text-white ".concat(U?"bg-color-blue-300":"cursor-not-allowed bg-color-gray-100"," mobile:h-[48px] mobile:w-[327px] mobile:text-lg tablet:h-[54px] tablet:w-[327px] tablet:text-lg"),disabled:!U||j.isPending,onClick:()=>{U&&j.mutate()},children:j.isPending?"보내는 중...":"견적 보내기"})]})}},68264:(e,t,l)=>{l.d(t,{A:()=>m});var a=l(74848),s=l(29965),i=l.n(s),r=l(40028),o=l(44127),c=l(97286),n=l(79241),d=l(3329),x=l(30777),p=l(91106),b=l.n(p);function m(e){var t;let{data:l,onSendQuotation:s,onReject:p,oneButton:m=!1,twoButton:u=!1}=e,{data:h}=(0,c.I)({queryKey:["userprofile"],queryFn:n.A.getUserInfo}),g=(0,d.fw)(l.updatedAt),A=(0,d.nk)(l.tripDate),N=(0,x.r)(l.serviceArea),v=(null==h?void 0:h.id)===(null===(t=l.assignees[0])||void 0===t?void 0:t.id)?(0,a.jsx)(o.A,{labelType:"REQUEST"}):"";return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{className:"mb-12 w-full rounded-[16px] border border-color-line-100 px-4 pb-[12px] pt-[20px] shadow-md mobile:mx-[auto] mobile:mb-6 mobile:px-[14px] mobile:py-[16px] tablet:mx-[auto] tablet:mb-8 ",children:(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsxs)(b(),{href:"/plan-detail/".concat(l.id),children:[(0,a.jsxs)("div",{className:"mb-4 flex items-center justify-between text-xs text-color-gray-500",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(o.A,{labelType:l.tripType}),v]}),(0,a.jsx)("div",{className:"",children:g})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xl semibold",children:l.title}),(0,a.jsxs)("p",{className:"mb-[18px] border-b border-color-line-200 pb-[18px] text-md font-medium",children:[l.dreamer.nickName," 님"]}),(0,a.jsxs)("div",{className:"flex items-center gap-1 mobile:grid mobile:grid-cols-2 mobile:gap-[0px]",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1 mobile:col-span-2 mobile:mb-2",children:[(0,a.jsx)("p",{className:"rounded-1 whitespace-nowrap bg-color-background-400 px-[6px] py-1 text-2lg font-normal text-color-gray-500 mobile:text-md",children:"여행일"}),(0,a.jsx)("p",{className:"medium text-2lg text-color-black-300 mobile:text-md",children:A})]}),(0,a.jsx)("p",{className:"text-color-line-200 mobile:hidden",children:"ㅣ"}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("p",{className:"rounded-1 whitespace-nowrap bg-color-background-400 px-[6px] py-1 text-2lg font-normal text-color-gray-500 mobile:text-md",children:"여행지"}),(0,a.jsx)("p",{className:"whitespace-nowrap text-2lg font-medium text-color-black-300 mobile:text-md",children:N})]})]})]})]}),(0,a.jsxs)("div",{className:"mt-8 flex items-center justify-between gap-[11px] mobile:mt-5 mobile:flex-col mobile-tablet:gap-[8px]",children:[(0,a.jsxs)("button",{onClick:s,className:"flex w-full items-center justify-center gap-[10px] rounded-[16px] bg-color-blue-300 p-4 mobile:p-3 tablet:p-3 ".concat(u?"hidden":""),children:[(0,a.jsx)("p",{className:"whitespace-nowrap text-xl semibold text-white",children:"견적 보내기"}),(0,a.jsx)(i(),{src:r.A,alt:"send",width:24,height:24})]}),(0,a.jsx)("button",{onClick:p,className:"w-full items-center justify-center rounded-[16px] border border-color-blue-300 bg-white p-4 text-xl semibold text-color-blue-300 mobile:p-3 tablet:p-3 ".concat(m?"hidden":""," "),children:"반려"})]})]})})})}},98599:(e,t,l)=>{l.d(t,{Ay:()=>o,Fo:()=>c,P6:()=>i,fk:()=>r});var a=l(6220),s=l(84996);let i=async(e,t)=>{try{return await s.F.post("/plans/".concat(e,"/quotes"),t),{success:!0,message:"견적이 성공적으로 보내졌습니다."}}catch(e){var l,i,r;if((null===(l=e.response)||void 0===l?void 0:l.status)===a.p9)return{success:!1,message:"이미 제출한 견적입니다."};if((null===(i=e.response)||void 0===i?void 0:i.status)===a.p2||(null===(r=e.response)||void 0===r?void 0:r.status)===a.AY)return{success:!1,message:"잘못된 접근입니다."};return{success:!1,message:"견적 보내기에 실패했습니다. 다시 시도해주세요."}}},r=async e=>{try{return await s.F.delete("/plans/".concat(e,"/assign")),{success:!0,message:"요청이 반려되었습니다."}}catch(e){var t;if([a.qH,a.AY,a.p2].includes(null===(t=e.response)||void 0===t?void 0:t.status))return{success:!1,message:"잘못된 방식으로 접근하셨습니다."};return{success:!1,message:"요청 반려에 실패했습니다."}}},o=async function(){let{isAssigned:e,tripType:t,keyword:l,orderBy:i,page:r=1,pageSize:o=5,id:c}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{let a="",n=[];e&&n.push("isAssigned=".concat(e)),t&&t.length>0&&t.forEach(e=>{n.push("tripType=".concat(e))}),l&&n.push("keyword=".concat(encodeURIComponent(l))),i&&n.push("orderBy=".concat(i)),c&&n.push("id=".concat(c)),n.push("page=".concat(r)),n.push("pageSize=".concat(o)),a=n.length>0?"?".concat(n.join("&")):"";let d=await s.F.get("/plans/maker".concat(a));if(!d)return console.warn("데이터가 없습니다. 빈 데이터를 반환합니다."),{totalCount:0,groupByCount:[],list:[]};return d}catch(e){var n;if((null===(n=e.response)||void 0===n?void 0:n.status)===a.AY)throw Error("해당 Maker의 아이디가 잘못되었습니다.");throw console.error("받은 요청 조회 실패",e),e}},c=async e=>{try{return await s.F.get("/plans/".concat(e))}catch(e){var t;if((null===(t=e.response)||void 0===t?void 0:t.status)===a.p2)throw Error("존재하지 않는 플랜입니다.");throw console.error("플랜 상세 조회 실패",e),e}}},4107:(e,t,l)=>{l.d(t,{A:()=>d});var a=l(74848),s=l(96540),i=l(86715),r=l(12828),o=l(5279),c=l(29965),n=l.n(c);let d=e=>t=>{let l=(0,i.useRouter)(),[c,d]=(0,s.useState)(null),[x,p]=(0,s.useState)(!0);return((0,s.useEffect)(()=>{let e=(0,r.iD)();if(e){if("/login"===l.pathname||"/signup"===l.pathname){l.push("/");return}d(e)}else"/login"!==l.pathname&&"/signup"!==l.pathname&&l.push("/login");p(!1)},[l]),x)?(0,a.jsx)("div",{className:"flex h-screen items-center justify-center",children:(0,a.jsx)(n(),{src:o.A,alt:"로딩 중"})}):c||"/login"===l.pathname||"/signup"===l.pathname?(0,a.jsx)(e,{...t}):null}},30777:(e,t,l)=>{l.d(t,{r:()=>a});let a=e=>({SEOUL:"서울",BUSAN:"부산",INCHEON:"인천",DAEGU:"대구",DAEJEON:"대전",GWANGJU:"광주",ULSAN:"울산",SEJONG:"세종",GYEONGGI:"경기",GANGWON:"강원",CHUNGBUK:"충북",CHUNGNAM:"충남",JEONBUK:"전북",JEONNAM:"전남",GYEONGBUK:"경북",GYEONGNAM:"경남",JEJU:"제주"})[e]}}]);