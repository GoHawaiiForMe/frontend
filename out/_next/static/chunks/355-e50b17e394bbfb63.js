"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[355],{5279:(e,t,l)=>{l.d(t,{A:()=>a});let a={src:"/_next/static/media/icon_loading.05325840.gif",height:45,width:256,blurWidth:0,blurHeight:0}},85030:(e,t,l)=>{l.d(t,{A:()=>a});let a={src:"/_next/static/media/icon_luggage_frown.ef196676.svg",height:655,width:705,blurWidth:0,blurHeight:0}},28061:(e,t,l)=>{l.d(t,{A:()=>a});let a={src:"/_next/static/media/icon_star.6ad8be01.svg",height:48,width:48,blurWidth:0,blurHeight:0}},7027:(e,t,l)=>{l.d(t,{A:()=>a});let a={src:"/_next/static/media/icon_star_md.608aacd5.svg",height:24,width:24,blurWidth:0,blurHeight:0}},44127:(e,t,l)=>{l.d(t,{A:()=>h});var a=l(74848);l(96540);var s=l(29965),r=l.n(s);let i={src:"/_next/static/media/label_shopping.937adf02.svg",height:24,width:24,blurWidth:0,blurHeight:0},c={src:"/_next/static/media/label_food_tour.400ea208.svg",height:24,width:24,blurWidth:0,blurHeight:0},n={src:"/_next/static/media/label_activity.99e9b5b7.svg",height:24,width:24,blurWidth:0,blurHeight:0},o={src:"/_next/static/media/label_culture.9a006b68.svg",height:24,width:24,blurWidth:0,blurHeight:0},d={src:"/_next/static/media/label_festival.3554371c.svg",height:24,width:24,blurWidth:0,blurHeight:0},x={src:"/_next/static/media/label_relaxation.99c0940d.svg",height:24,width:24,blurWidth:0,blurHeight:0},b={src:"/_next/static/media/label_File_dock.6b07d031.svg",height:24,width:24,blurWidth:0,blurHeight:0},h=e=>{let t,l,{labelType:s="SHOPPING",labelSize:h,customLabelContainerClass:m,customLabelTextClass:p}=e,u="bg-color-blue-100",g="text-color-blue-300";switch(s){case"SHOPPING":t=i,l="기념품/쇼핑형";break;case"FOOD_TOUR":t=c,l="맛집 탐방형";break;case"ACTIVITY":t=n,l="액티비티/탐험형";break;case"CULTURE":t=o,l="문화/역사탐방형";break;case"FESTIVAL":t=d,l="축제참여형";break;case"RELAXATION":t=x,l="휴양형";break;case"REQUEST":t=b,l="지정 견적",u="bg-color-red-100",g="text-color-red-200";break;case"PENDING":l="견적 대기",u="bg-color-gray-100 pr-2 pl-2",g="text-color-blue-400";break;case"CONFIRMED":l="견적 확정",u="bg-color-gray-100 pr-2 pl-2",g="text-color-blue-400";break;default:l="지정 라벨 없음",u="bg-color-gray-100",g="hidden"}return(0,a.jsxs)("div",{className:"".concat(u," ").concat(m," ").concat("sm"===h?"h-[26px]":""," rounded-1 flex items-center py-1 pr-[5px] pl-[3px] mobile-tablet:h-[26px]  mobile-tablet:pt-[2px] mobile-tablet:pr-[4px] mobile-tablet:pb-[2px] mobile-tablet:pl-[2px] gap-[4px] mobile-tablet:gap-[2px] "),children:[t&&(0,a.jsx)(r(),{src:t,alt:"".concat(s," label"),width:24,height:24}),(0,a.jsx)("p",{className:"".concat(g," ").concat(p," ").concat("sm"===h?"text-xs":""," text-lg semibold leading-[24px] mobile-tablet:text-[13px] mobile-tablet:leading-[22px]"),children:l})]})}},51761:(e,t,l)=>{l.d(t,{A:()=>r});var a=l(74848),s=l(96540);function r(e){let{children:t,bodyClass:l}=e;return(0,s.useEffect)(()=>(l&&document.body.classList.add(l),()=>{l&&document.body.classList.remove(l)}),[l]),(0,a.jsx)(a.Fragment,{children:t})}},3319:(e,t,l)=>{l.d(t,{A:()=>s});var a=l(74848);l(96540);let s=e=>{let{currentPage:t,totalPages:l,onPageChange:s}=e;return(0,a.jsxs)("div",{className:"flex items-center justify-center gap-1",children:[(0,a.jsx)("button",{onClick:()=>s(t-1),disabled:1===t,className:"flex h-8 w-8 items-center justify-center text-gray-500 disabled:opacity-50",children:"<"}),(()=>{let e=[];if(l<=5)for(let r=1;r<=l;r++)e.push((0,a.jsx)("button",{onClick:()=>s(r),className:"flex h-8 w-8 items-center justify-center ".concat(t===r?"font-bold text-blue-500":"text-gray-500"),children:r},r));else if(t<=3){for(let l=1;l<=5;l++)e.push((0,a.jsx)("button",{onClick:()=>s(l),className:"flex h-8 w-8 items-center justify-center ".concat(t===l?"font-bold text-blue-500":"text-gray-500"),children:l},l));e.push((0,a.jsx)("span",{className:"px-1",children:"..."},"ellipsis")),e.push((0,a.jsx)("button",{onClick:()=>s(l),className:"flex h-8 w-8 items-center justify-center text-gray-500",children:l},l))}else if(t>=l-2){e.push((0,a.jsx)("button",{onClick:()=>s(1),className:"flex h-8 w-8 items-center justify-center text-gray-500",children:"1"},1)),e.push((0,a.jsx)("span",{className:"px-1",children:"..."},"ellipsis"));for(let r=l-4;r<=l;r++)e.push((0,a.jsx)("button",{onClick:()=>s(r),className:"flex h-8 w-8 items-center justify-center ".concat(t===r?"font-bold text-blue-500":"text-gray-500"),children:r},r))}else{e.push((0,a.jsx)("button",{onClick:()=>s(1),className:"flex h-8 w-8 items-center justify-center text-gray-500",children:"1"},1)),e.push((0,a.jsx)("span",{className:"px-1",children:"..."},"ellipsis1"));for(let l=t-1;l<=t+2;l++)e.push((0,a.jsx)("button",{onClick:()=>s(l),className:"flex h-8 w-8 items-center justify-center ".concat(t===l?"font-bold text-blue-500":"text-gray-500"),children:l},l));e.push((0,a.jsx)("span",{className:"px-1",children:"..."},"ellipsis2")),e.push((0,a.jsx)("button",{onClick:()=>s(l),className:"flex h-8 w-8 items-center justify-center text-gray-500",children:l},l))}return e})(),(0,a.jsx)("button",{onClick:()=>s(t+1),disabled:t===l,className:"flex h-8 w-8 items-center justify-center text-gray-500 disabled:opacity-50",children:">"})]})}},93779:(e,t,l)=>{l.d(t,{A:()=>g});var a=l(74848),s=l(29965),r=l.n(s),i=l(5279),c=l(44127),n=l(70539),o=l(96540),d=l(75361),x=l(3329),b=l(60972);function h(e){var t,l,s;let{planDetail:i,closeModal:c}=e,[n,h]=(0,o.useState)(0),[m,p]=(0,o.useState)("");async function u(){try{var e;await b.A.createReview({makerId:(null===(e=i.quotes)||void 0===e?void 0:e[0].maker.id)||"",rating:n,content:m,planId:i.id}),alert("리뷰가 등록되었습니다!"),window.location.reload(),c()}catch(e){console.log("리뷰 등록에 실패 하였습니다. ".concat(e))}}let g=m.length<10||0===n;return(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsxs)("div",{className:"border-color bg-body.bg-gray my-6 flex gap-6 rounded-md border-[1px] px-[18px] py-4 mobile-tablet:my-[14px] mobile-tablet:gap-3 mobile-tablet:px-[10px]",children:[(0,a.jsx)("div",{className:"flex h-20 w-20 flex-shrink-0 items-center mobile-tablet:h-[46px] mobile-tablet:w-[46px]",children:(0,a.jsx)(r(),{src:"/assets/img_avatar".concat(null===(t=i.quotes)||void 0===t?void 0:t[0].maker.image.split("_")[1],".svg"),alt:"프로필사진",width:80,height:80,className:"rounded-full border-2 border-color-blue-400"})}),(0,a.jsx)("div",{className:"flex w-full",children:(0,a.jsxs)("div",{className:"w-full flex-col items-center justify-between text-xs text-color-black-500",children:[(0,a.jsx)("p",{className:"semibold text-xl mobile-tablet:text-lg",children:null===(l=i.quotes)||void 0===l?void 0:l[0].maker.nickName}),(0,a.jsxs)("div",{className:"flex items-center gap-4 mobile-tablet:gap-1",children:[(0,a.jsxs)("div",{className:"medium flex flex-shrink-0 gap-[6px] text-lg mobile-tablet:gap-[5px] mobile-tablet:text-sm",children:[(0,a.jsx)("p",{children:"여행일"}),(0,a.jsx)("p",{className:"text-color-gray-400",children:(0,x.nk)(i.tripDate)})]}),(0,a.jsx)("p",{className:"text-color-line-200",children:"ㅣ"}),(0,a.jsxs)("div",{className:"medium flex flex-shrink-0 gap-[6px] text-lg mobile-tablet:gap-[5px] mobile-tablet:text-sm",children:[(0,a.jsx)("p",{children:"플랜가"}),(0,a.jsxs)("p",{className:"text-color-gray-400",children:[null===(s=i.quotes)||void 0===s?void 0:s[0].price,"원"]})]})]})]})})]}),(0,a.jsx)("p",{className:"mb-2 font-medium",children:"평점을 선택해주세요"}),(0,a.jsx)(d.A,{initialRating:n,onRatingChange:e=>{h(e)}})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"mb-2 block font-medium",children:"상세 후기를 작성해주세요"}),(0,a.jsx)("textarea",{className:"w-full rounded-md border p-2 focus:ring-2 focus:ring-blue-400",placeholder:"최소 10자 이상 입력해주세요",rows:4,value:m,onChange:e=>{p(e.target.value)}})]}),(0,a.jsx)("button",{className:"w-full rounded-xl py-2 text-white ".concat(g?"bg-gray-300":"bg-blue-500"),disabled:g,onClick:u,children:"리뷰 등록"})]})}var m=l(86715);function p(){return(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"mb-12 w-64",children:(0,a.jsx)("p",{className:"semibold mobile-tablet:medium text-2lg",children:"여행을 완료하시겠습니까?"})}),(0,a.jsx)("button",{className:"semibold px-21 w-full rounded-xl bg-blue-500 py-3 text-lg text-white",children:"여행 완료 확정"})]})}function u(e){var t,l,s,d,b,u;let{planDetail:g}=e,f=(0,m.useRouter)(),[j,v]=(0,o.useState)(!1),[y,w]=(0,o.useState)(!1),N=f.asPath.includes("completed-trip"),k=f.asPath.includes("reviewable-trip"),_=()=>v(!1);return g?(0,a.jsxs)("div",{className:"mb-[32px] flex flex-col rounded-2xl bg-color-gray-50 px-6 py-7 mobile-tablet:px-3 mobile-tablet:py-4",children:[(0,a.jsx)("div",{className:"justify-left flex items-center gap-[12px] mobile-tablet:mt-[6px]",children:(0,a.jsx)(c.A,{labelType:"SHOPPING",customLabelContainerClass:"rounded-lg"})}),(0,a.jsxs)("div",{className:"border-color bg-body.bg-gray my-6 flex gap-6 rounded-md border-[1px] px-[18px] py-4 mobile-tablet:my-[14px] mobile-tablet:gap-3 mobile-tablet:px-[10px]",children:[(0,a.jsx)("div",{className:"flex h-20 w-20 flex-shrink-0 items-center mobile-tablet:h-[46px] mobile-tablet:w-[46px]",children:(0,a.jsx)(r(),{src:"/assets/img_avatar".concat(null===(l=g.quotes)||void 0===l?void 0:null===(t=l[0])||void 0===t?void 0:t.maker.image.split("_")[1],".svg"),alt:"프로필사진",width:80,height:80,className:"rounded-full border-2 border-color-blue-400"})}),(0,a.jsx)("div",{className:"flex w-full",children:(0,a.jsxs)("div",{className:"w-full flex-col items-center justify-between text-xs text-color-black-500",children:[(0,a.jsx)("p",{className:"semibold text-xl mobile-tablet:text-lg",children:g?null===(d=g.quotes)||void 0===d?void 0:null===(s=d[0])||void 0===s?void 0:s.maker.nickName:"-"}),(0,a.jsxs)("div",{className:"flex items-center gap-2 mobile-tablet:gap-1",children:[(0,a.jsxs)("div",{className:"medium flex flex-shrink-0 gap-[6px] text-lg mobile-tablet:gap-[5px] mobile-tablet:text-sm",children:[(0,a.jsx)("p",{children:"여행일"}),(0,a.jsx)("p",{className:"text-color-gray-400",children:g?(0,x.nk)(g.tripDate):"-"})]}),(0,a.jsx)("p",{className:"text-color-line-200",children:"ㅣ"}),(0,a.jsxs)("div",{className:"medium flex flex-shrink-0 gap-[6px] text-lg mobile-tablet:gap-[5px] mobile-tablet:text-sm",children:[(0,a.jsx)("p",{children:"플랜가"}),(0,a.jsxs)("p",{className:"text-color-gray-400",children:[g?null===(u=g.quotes)||void 0===u?void 0:null===(b=u[0])||void 0===b?void 0:b.price:"-","원"]})]})]})]})})]}),(0,a.jsxs)("div",{className:"flex justify-between gap-[11px] mobile:flex-col",children:[N&&(0,a.jsx)("button",{className:"semibold w-full text-nowrap rounded-lg bg-color-blue-300 px-[32.5px] py-4 text-xl text-gray-50 mobile:text-md tablet:text-lg mobile-tablet:px-[16px] mobile-tablet:py-[11px]",onClick:()=>w(!0),children:"여행 완료하기"}),k&&(0,a.jsx)("button",{className:"semibold w-full text-nowrap rounded-lg bg-color-blue-300 px-[32.5px] py-4 text-xl text-gray-50 mobile:text-md tablet:text-lg mobile-tablet:px-[16px] mobile-tablet:py-[11px]",onClick:()=>v(!0),children:"리뷰 작성하기"})]}),y&&(0,a.jsx)(n.A,{label:"여행 완료",closeModal:()=>w(!1),children:(0,a.jsx)(p,{})}),j&&(0,a.jsx)(n.A,{label:"리뷰 작성",closeModal:_,children:(0,a.jsx)(h,{planDetail:g,closeModal:_})})]}):(0,a.jsx)("div",{className:"flex h-screen items-center justify-center",children:(0,a.jsx)(r(),{src:i.A,alt:"로딩 중"})})}function g(e){let{plans:t}=e;return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{className:"items-center justify-center gap-4 pc:grid pc:grid-cols-2 mobile-tablet:flex mobile-tablet:flex-col",children:t.map(e=>(0,a.jsx)(u,{planDetail:e},e.id))})})}},40436:(e,t,l)=>{l.d(t,{A:()=>c});var a=l(74848),s=l(91106),r=l.n(s),i=l(86715);function c(){let e=(0,i.useRouter)().pathname.split("/").pop();return(0,a.jsx)("div",{className:"relative left-1/2 w-screen -translate-x-1/2 bg-color-background-100 px-[260px] mobile:px-0 tablet:px-[72px]",children:(0,a.jsxs)("div",{className:"max-w-screen-xl semibold mx-auto flex gap-[32px] px-[16px] text-xl text-color-gray-400 mobile-tablet:gap-[24px] mobile-tablet:text-md",children:[(0,a.jsx)(r(),{href:"/myreview-manage/completed-trip",children:(0,a.jsx)("button",{className:"py-[16px] ".concat("completed-trip"===e?"border-b-2 border-color-black-500 text-color-black-500":""),children:(0,a.jsx)("p",{className:"text-nowrap",children:"완료 가능한 여행"})})}),(0,a.jsx)(r(),{href:"/myreview-manage/reviewable-trip",children:(0,a.jsx)("button",{className:"py-[16px] ".concat("reviewable-trip"===e?"border-b-2 border-black text-color-black-500":""),children:(0,a.jsx)("p",{className:"text-nowrap",children:"작성 가능한 리뷰"})})}),(0,a.jsx)(r(),{href:"/myreview-manage/reviewed-trip",children:(0,a.jsx)("button",{className:"py-[16px] ".concat("reviewed-trip"===e?"border-b-2 border-black text-color-black-500":""),children:(0,a.jsx)("p",{className:"text-nowrap",children:"내가 작성한 리뷰"})})})]})})}},75361:(e,t,l)=>{l.d(t,{A:()=>x});var a=l(74848),s=l(96540),r=l(29965),i=l.n(r),c=l(28061);let n={src:"/_next/static/media/icon_star_empty.220d76f4.svg",height:48,width:48,blurWidth:0,blurHeight:0};var o=l(7027);let d={src:"/_next/static/media/icon_star_empty_md.70313ebb.svg",height:24,width:24,blurWidth:0,blurHeight:0};function x(e){let{type:t=!1,initialRating:l=0,onRatingChange:r,readonly:x=!1}=e,[b,h]=(0,s.useState)(Number(l)),[m,p]=(0,s.useState)(0);(0,s.useEffect)(()=>{h(Number(l))},[l]);let u=e=>{!x&&(h(e),r&&r(e))};return(0,a.jsx)("div",{className:"flex",children:[1,2,3,4,5].map(e=>(0,a.jsx)("button",{onClick:()=>u(e),onMouseEnter:()=>!x&&p(e),onMouseLeave:()=>!x&&p(0),disabled:x,className:" ".concat(!x&&"transition-transform hover:scale-110"),children:t?(0,a.jsx)(i(),{src:(m||b)>=e?o.A:d,alt:"별점 ".concat(e,"점"),width:20,height:20}):(0,a.jsx)(i(),{src:(m||b)>=e?c.A:n,alt:"별점 ".concat(e,"점"),width:28,height:28})},e))})}},1997:(e,t,l)=>{l.d(t,{A:()=>s});var a=l(84996);let s={planRequest:async e=>{try{return await a.F.post("/plans",e)}catch(e){throw console.error("여행 요청 실패",e),e}},getPlanList:async e=>{let{status:t=[],page:l=1,pageSize:s=5}=e;try{let e="",r=[];t.length>0&&t.forEach(e=>{r.push("status=".concat(e))}),r.push("page=".concat(l)),r.push("pageSize=".concat(s)),e=r.length>0?"?".concat(r.join("&")):"";let i=await a.F.get("/plans/dreamer".concat(e));if(!i)return console.warn("데이터가 없습니다. 빈 데이터를 반환합니다."),{totalCount:0,list:[]};return i}catch(e){throw console.error("여행 조회 실패",e),e}},getPlanDetail:async e=>{try{return await a.F.get("/plans/".concat(e))}catch(e){throw console.error("여행 데이터 요청 실패",e),e}},getPendingPlan:async()=>{try{return(await a.F.get("/plans/dreamer?status=PENDING")).list}catch(e){console.error("지정 플랜 조회 실패",e)}},postPlanRequest:async(e,t)=>{try{return await a.F.post("/plans/".concat(e,"/assign"),{assigneeId:t})}catch(e){if(e.response&&409===e.response.status)throw Error("이미 지정 견적을 요청하셨습니다!")}},getStatistics:async e=>{try{return await a.F.get("/plans/groupCount".concat(e?"?serviceArea=".concat(e):""))}catch(e){throw console.error("통계 자료 조회 실패",e),e}},getReadyToCompletePlan:async e=>{try{let{page:t=1,pageSize:l=6}=e,s="&page=".concat(t,"&pageSize=").concat(l);return await a.F.get("/plans/dreamer?readyToComplete=true".concat(s))}catch(e){console.error("완료 플랜 조회 실패",e)}},getReviewablePlan:async e=>{try{let{page:t=1,pageSize:l=6}=e,s="&page=".concat(t,"&pageSize=").concat(l);return await a.F.get("/plans/dreamer?reviewed=false".concat(s))}catch(e){console.error("리뷰 작성 가능 플랜 조회 실패",e)}},deletePlan:async e=>{try{return await a.F.delete("/plans/".concat(e))}catch(e){console.error("플랜 취소 실패",e)}}}},60972:(e,t,l)=>{l.d(t,{A:()=>s});var a=l(84996);let s={createReview:async e=>{try{return await a.F.post("/reviews",e)}catch(e){throw console.error("리뷰 등록 실패",e),e}},getMyReviews:async e=>{try{let{page:t=1,pageSize:l=6}=e,s="?page=".concat(t,"&pageSize=").concat(l);return await a.F.get("/reviews/me".concat(s))}catch(e){throw console.error("리뷰 목록 조회 실패",e),e}}}},4107:(e,t,l)=>{l.d(t,{A:()=>d});var a=l(74848),s=l(96540),r=l(86715),i=l(12828),c=l(5279),n=l(29965),o=l.n(n);let d=e=>t=>{let l=(0,r.useRouter)(),[n,d]=(0,s.useState)(null),[x,b]=(0,s.useState)(!0);return((0,s.useEffect)(()=>{let e=(0,i.iD)();if(e){if("/login"===l.pathname||"/signup"===l.pathname){l.push("/");return}d(e)}else"/login"!==l.pathname&&"/signup"!==l.pathname&&l.push("/login");b(!1)},[l]),x)?(0,a.jsx)("div",{className:"flex h-screen items-center justify-center",children:(0,a.jsx)(o(),{src:c.A,alt:"로딩 중"})}):n||"/login"===l.pathname||"/signup"===l.pathname?(0,a.jsx)(e,{...t}):null}}}]);