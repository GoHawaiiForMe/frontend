"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[375],{5279:(e,t,r)=>{r.d(t,{A:()=>a});let a={src:"/_next/static/media/icon_loading.05325840.gif",height:45,width:256,blurWidth:0,blurHeight:0}},44127:(e,t,r)=>{r.d(t,{A:()=>p});var a=r(74848);r(96540);var l=r(29965),n=r.n(l);let s={src:"/_next/static/media/label_shopping.937adf02.svg",height:24,width:24,blurWidth:0,blurHeight:0},i={src:"/_next/static/media/label_food_tour.400ea208.svg",height:24,width:24,blurWidth:0,blurHeight:0},c={src:"/_next/static/media/label_activity.99e9b5b7.svg",height:24,width:24,blurWidth:0,blurHeight:0},o={src:"/_next/static/media/label_culture.9a006b68.svg",height:24,width:24,blurWidth:0,blurHeight:0},d={src:"/_next/static/media/label_festival.3554371c.svg",height:24,width:24,blurWidth:0,blurHeight:0},h={src:"/_next/static/media/label_relaxation.99c0940d.svg",height:24,width:24,blurWidth:0,blurHeight:0},u={src:"/_next/static/media/label_File_dock.3966b988.svg",height:24,width:24,blurWidth:0,blurHeight:0},p=e=>{let t,r,{labelType:l="SHOPPING",labelSize:p,customLabelContainerClass:b,customLabelTextClass:g}=e,x="bg-color-blue-100",m="text-color-blue-300";switch(l){case"SHOPPING":t=s,r="기념품/쇼핑형";break;case"FOOD_TOUR":t=i,r="맛집 탐방형";break;case"ACTIVITY":t=c,r="액티비티/탐험형";break;case"CULTURE":t=o,r="문화/역사탐방형";break;case"FESTIVAL":t=d,r="축제참여형";break;case"RELAXATION":t=h,r="휴양형";break;case"REQUEST":t=u,r="지정 견적",x="bg-color-red-100",m="text-color-red-200";break;case"PENDING":r="견적 대기",x="bg-color-gray-100 pr-2 pl-2",m="text-color-blue-400";break;case"CONFIRMED":r="견적 확정",x="bg-color-gray-100 pr-2 pl-2",m="text-color-blue-400";break;default:r="지정 라벨 없음",x="bg-color-gray-100",m="hidden"}return(0,a.jsxs)("div",{className:"".concat(x," ").concat(b," ").concat("sm"===p?"h-[26px]":""," rounded-1 flex items-center py-1 pr-[5px] pl-[3px] mobile-tablet:h-[26px]  mobile-tablet:pt-[2px] mobile-tablet:pr-[4px] mobile-tablet:pb-[2px] mobile-tablet:pl-[2px] gap-[4px] mobile-tablet:gap-[2px] "),children:[t&&(0,a.jsx)(n(),{src:t,alt:"".concat(l," label"),width:24,height:24}),(0,a.jsx)("p",{className:"".concat(m," ").concat(g," ").concat("sm"===p?"text-xs":""," text-lg semibold leading-[24px] mobile-tablet:text-[13px] mobile-tablet:leading-[22px]"),children:r})]})}},51761:(e,t,r)=>{r.d(t,{A:()=>n});var a=r(74848),l=r(96540);function n(e){let{children:t,bodyClass:r}=e;return(0,l.useEffect)(()=>(r&&document.body.classList.add(r),()=>{r&&document.body.classList.remove(r)}),[r]),(0,a.jsx)(a.Fragment,{children:t})}},11739:(e,t,r)=>{r.d(t,{A:()=>p});var a=r(74848),l=r(96540),n=r(86715),s=r(3329),i=r(30777),c=r(44127),o=r(29965),d=r.n(o),h=r(5279);let u=(0,l.forwardRef)((e,t)=>{let{visiblePlans:r,title:o,fetchNextPage:u,hasNextPage:p,isFetchingNextPage:b,isLoading:g}=e,x=(0,n.useRouter)(),m=e=>{let t=x.pathname,r="/";t.includes("ongoing-plan")?r="/mytrip-manage/ongoing-plan/detail":t.includes("completed-plan")?r="/mytrip-manage/completed-plan/detail":t.includes("overdue-plan")&&(r="/mytrip-manage/overdue-plan/detail");let a="".concat(r,"/").concat(e);x.push(a)};return(0,l.useEffect)(()=>{if(!t||!("current"in t)||!t.current||!p)return;let e=new IntersectionObserver(e=>{e[0].isIntersecting&&p&&!b&&u()},{threshold:1});return e.observe(t.current),()=>e.disconnect()},[t,p,b,u]),(0,a.jsxs)("div",{className:"my-12 flex flex-col rounded-2xl border-color-gray-300 bg-color-gray-50 shadow",children:[(0,a.jsx)("div",{className:"semibold px-8 pt-8 text-2xl",children:"".concat(o," 플랜 목록")}),(0,a.jsx)("div",{className:"flex-col p-8",children:g?(0,a.jsx)("div",{className:"flex h-screen items-center justify-center",children:(0,a.jsx)(d(),{src:h.A,alt:"로딩 중"})}):(0,a.jsxs)(a.Fragment,{children:[r.map(e=>(0,a.jsxs)("div",{className:"mb-3 flex justify-between rounded-2xl border-color-gray-300 bg-color-gray-50 p-2 shadow",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"semibold flex gap-2 px-2 pt-2 text-2lg",children:e.title}),(0,a.jsxs)("div",{className:"regular flex px-2 pt-2 text-lg",children:[(0,i.r)(e.serviceArea),(0,a.jsx)("p",{className:"text-color-line-200",children:"ㅣ"}),(0,s.Ns)(e.tripDate),(0,a.jsx)("p",{className:"text-color-line-200",children:"ㅣ"}),(0,a.jsx)(c.A,{labelType:e.tripType,labelSize:"sm",customLabelContainerClass:"rounded-lg"})]})]}),(0,a.jsx)("button",{className:"min-w-38 semibold text-nowrap rounded-lg border-[1px] border-solid border-color-blue-300 bg-color-gray-50 px-[32.5px] py-4 text-xl text-color-blue-300 mobile:text-md tablet:text-lg mobile-tablet:px-[16px] mobile-tablet:py-[6px]",onClick:()=>m(e.id),children:"플랜 상세"})]},e.id)),0===r.length?(0,a.jsx)("div",{className:"flex h-12 items-center justify-center rounded-xl bg-gray-200 text-center",children:"아직 플랜이 없어요!"}):!p&&r.length>0?(0,a.jsx)("div",{className:"flex h-12 items-center justify-center rounded-xl bg-gray-200 text-center",children:"모든 플랜을 확인했어요!"}):null]})})]})});u.displayName="MyPlanList";let p=u},42900:(e,t,r)=>{r.d(t,{A:()=>i});var a=r(74848),l=r(91106),n=r.n(l),s=r(86715);function i(){let e=(0,s.useRouter)().pathname.split("/").pop();return(0,a.jsx)("div",{className:"relative left-1/2 w-screen -translate-x-1/2 bg-color-background-100 px-[260px] mobile:px-6 tablet:px-[72px]",children:(0,a.jsxs)("div",{className:"max-w-screen-xl semibold mx-auto flex gap-[32px] px-[16px] text-xl text-color-gray-400 mobile-tablet:gap-[24px] mobile-tablet:text-md",children:[(0,a.jsx)(n(),{href:"/mytrip-manage/ongoing-plan",children:(0,a.jsx)("button",{className:"py-[16px] ".concat("ongoing-plan"===e?"border-b-2 border-color-black-500 text-color-black-500":""),children:"진행 중인 플랜"})}),(0,a.jsx)(n(),{href:"/mytrip-manage/completed-plan",children:(0,a.jsx)("button",{className:"py-[16px] ".concat("completed-plan"===e?"border-b-2 border-black text-color-black-500":""),children:"종료된 플랜"})}),(0,a.jsx)(n(),{href:"/mytrip-manage/overdue-plan",children:(0,a.jsx)("button",{className:"py-[16px] ".concat("overdue-plan"===e?"border-b-2 border-black text-color-black-500":""),children:"만료된 플랜"})})]})})}},1997:(e,t,r)=>{r.d(t,{A:()=>l});var a=r(84996);let l={planRequest:async e=>{try{return await a.F.post("/plans",e)}catch(e){throw console.error("여행 요청 실패",e),e}},getPlanList:async e=>{let{status:t=[],page:r=1,pageSize:l=5}=e;try{let e="",n=[];t.length>0&&t.forEach(e=>{n.push("status=".concat(e))}),n.push("page=".concat(r)),n.push("pageSize=".concat(l)),e=n.length>0?"?".concat(n.join("&")):"";let s=await a.F.get("/plans/dreamer".concat(e));if(!s)return console.warn("데이터가 없습니다. 빈 데이터를 반환합니다."),{totalCount:0,list:[]};return s}catch(e){throw console.error("여행 조회 실패",e),e}},getPlanDetail:async e=>{try{return await a.F.get("/plans/".concat(e))}catch(e){throw console.error("여행 데이터 요청 실패",e),e}},getPendingPlan:async()=>{try{return(await a.F.get("/plans/dreamer?status=PENDING")).list}catch(e){console.error("지정 플랜 조회 실패",e)}},postPlanRequest:async(e,t)=>{try{return await a.F.post("/plans/".concat(e,"/assign"),{assigneeId:t})}catch(e){if(e.response&&409===e.response.status)throw Error("이미 지정 견적을 요청하셨습니다!")}},getStatistics:async e=>{try{return await a.F.get("/plans/groupCount".concat(e?"?serviceArea=".concat(e):""))}catch(e){throw console.error("통계 자료 조회 실패",e),e}},getReadyToCompletePlan:async e=>{try{let{page:t=1,pageSize:r=6}=e,l="&page=".concat(t,"&pageSize=").concat(r);return await a.F.get("/plans/dreamer?readyToComplete=true".concat(l))}catch(e){console.error("완료 플랜 조회 실패",e)}},getReviewablePlan:async e=>{try{let{page:t=1,pageSize:r=6}=e,l="&page=".concat(t,"&pageSize=").concat(r);return await a.F.get("/plans/dreamer?reviewed=false".concat(l))}catch(e){console.error("리뷰 작성 가능 플랜 조회 실패",e)}},deletePlan:async e=>{try{return await a.F.delete("/plans/".concat(e))}catch(e){console.error("플랜 취소 실패",e)}}}},4107:(e,t,r)=>{r.d(t,{A:()=>h});var a=r(77528),l=r(74848),n=r(96540),s=r(86715),i=r(12828),c=r(5279),o=r(29965),d=r.n(o);let h=e=>t=>{let r=(0,s.useRouter)(),[o,h]=(0,n.useState)(null),[u,p]=(0,n.useState)(!0);return((0,n.useEffect)(()=>{let e=(0,i.iD)();if(e){if("/login"===r.pathname||"/signup"===r.pathname){r.push("/");return}h(e)}else"/login"!==r.pathname&&"/signup"!==r.pathname&&r.push("/login");p(!1)},[r]),u)?(0,l.jsx)("div",{className:"flex h-screen items-center justify-center",children:(0,l.jsx)(d(),{src:c.A,alt:"로딩 중"})}):o||"/login"===r.pathname||"/signup"===r.pathname?(0,l.jsx)(e,(0,a._)({},t)):null}},30777:(e,t,r)=>{r.d(t,{r:()=>a});let a=e=>({SEOUL:"서울",BUSAN:"부산",INCHEON:"인천",DAEGU:"대구",DAEJEON:"대전",GWANGJU:"광주",ULSAN:"울산",SEJONG:"세종",GYEONGGI:"경기",GANGWON:"강원",CHUNGBUK:"충북",CHUNGNAM:"충남",JEONBUK:"전북",JEONNAM:"전남",GYEONGBUK:"경북",GYEONGNAM:"경남",JEJU:"제주"})[e]},91553:(e,t,r)=>{r.d(t,{q:()=>i});var a=r(1651),l=r(58959),n=class extends a.${constructor(e,t){super(e,t)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(e,t){super.setOptions({...e,behavior:(0,l.PL)()},t)}getOptimisticResult(e){return e.behavior=(0,l.PL)(),super.getOptimisticResult(e)}fetchNextPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"backward"}}})}createResult(e,t){let{state:r}=e,a=super.createResult(e,t),{isFetching:n,isRefetching:s,isError:i,isRefetchError:c}=a,o=r.fetchMeta?.fetchMore?.direction,d=i&&"forward"===o,h=n&&"forward"===o,u=i&&"backward"===o,p=n&&"backward"===o;return{...a,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:(0,l.rB)(t,r.data),hasPreviousPage:(0,l.RQ)(t,r.data),isFetchNextPageError:d,isFetchingNextPage:h,isFetchPreviousPageError:u,isFetchingPreviousPage:p,isRefetchError:c&&!d&&!u,isRefetching:s&&!h&&!p}}},s=r(76099);function i(e,t){return(0,s.t)(e,n,t)}},85692:(e,t,r)=>{r.d(t,{Wx:()=>o});var a=r(96540),l=Object.defineProperty,n=new Map,s=new WeakMap,i=0,c=void 0;function o({threshold:e,delay:t,trackVisibility:r,rootMargin:l,root:d,triggerOnce:h,skip:u,initialInView:p,fallbackInView:b,onChange:g}={}){var x;let[m,f]=a.useState(null),v=a.useRef(g),[y,N]=a.useState({inView:!!p,entry:void 0});v.current=g,a.useEffect(()=>{let a;if(!u&&m)return a=function(e,t,r={},a=c){if(void 0===window.IntersectionObserver&&void 0!==a){let l=e.getBoundingClientRect();return t(a,{isIntersecting:a,target:e,intersectionRatio:"number"==typeof r.threshold?r.threshold:0,time:0,boundingClientRect:l,intersectionRect:l,rootBounds:l}),()=>{}}let{id:l,observer:o,elements:d}=function(e){let t=Object.keys(e).sort().filter(t=>void 0!==e[t]).map(t=>{var r;return`${t}_${"root"===t?(r=e.root)?(s.has(r)||(i+=1,s.set(r,i.toString())),s.get(r)):"0":e[t]}`}).toString(),r=n.get(t);if(!r){let a;let l=new Map,s=new IntersectionObserver(t=>{t.forEach(t=>{var r;let n=t.isIntersecting&&a.some(e=>t.intersectionRatio>=e);e.trackVisibility&&void 0===t.isVisible&&(t.isVisible=n),null==(r=l.get(t.target))||r.forEach(e=>{e(n,t)})})},e);a=s.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),r={id:t,observer:s,elements:l},n.set(t,r)}return r}(r),h=d.get(e)||[];return d.has(e)||d.set(e,h),h.push(t),o.observe(e),function(){h.splice(h.indexOf(t),1),0===h.length&&(d.delete(e),o.unobserve(e)),0===d.size&&(o.disconnect(),n.delete(l))}}(m,(e,t)=>{N({inView:e,entry:t}),v.current&&v.current(e,t),t.isIntersecting&&h&&a&&(a(),a=void 0)},{root:d,rootMargin:l,threshold:e,trackVisibility:r,delay:t},b),()=>{a&&a()}},[Array.isArray(e)?e.toString():e,m,d,l,h,u,r,b,t]);let w=null==(x=y.entry)?void 0:x.target,j=a.useRef(void 0);m||!w||h||u||j.current===w||(j.current=w,N({inView:!!p,entry:void 0}));let P=[f,y.inView,y.entry];return P.ref=P[0],P.inView=P[1],P.entry=P[2],P}a.Component}}]);