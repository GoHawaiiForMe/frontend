"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[31],{5279:(e,t,r)=>{r.d(t,{A:()=>i});let i={src:"/_next/static/media/icon_loading.05325840.gif",height:45,width:256,blurWidth:0,blurHeight:0}},44127:(e,t,r)=>{r.d(t,{A:()=>b});var i=r(74848);r(96540);var l=r(29965),s=r.n(l);let a={src:"/_next/static/media/label_shopping.b6fbcabb.svg",height:24,width:24,blurWidth:0,blurHeight:0},n={src:"/_next/static/media/label_food_tour.ed97ae8e.svg",height:24,width:24,blurWidth:0,blurHeight:0},o={src:"/_next/static/media/label_activity.74a41aa3.svg",height:24,width:24,blurWidth:0,blurHeight:0},c={src:"/_next/static/media/label_culture.d6361211.svg",height:24,width:24,blurWidth:0,blurHeight:0},d={src:"/_next/static/media/label_festival.eed4e017.svg",height:24,width:24,blurWidth:0,blurHeight:0},h={src:"/_next/static/media/label_relaxation.84d44b07.svg",height:24,width:24,blurWidth:0,blurHeight:0},u={src:"/_next/static/media/label_File_dock.6b07d031.svg",height:24,width:24,blurWidth:0,blurHeight:0},b=e=>{let t,r,{labelType:l="SHOPPING",labelSize:b,customLabelContainerClass:p,customLabelTextClass:x}=e,g="bg-color-blue-100",m="text-color-blue-300";switch(l){case"SHOPPING":t=a,r="기념품/쇼핑형";break;case"FOOD_TOUR":t=n,r="맛집 탐방형";break;case"ACTIVITY":t=o,r="액티비티/탐험형";break;case"CULTURE":t=c,r="문화/역사탐방형";break;case"FESTIVAL":t=d,r="축제참여형";break;case"RELAXATION":t=h,r="휴양형";break;case"REQUEST":t=u,r="지정 견적",g="bg-color-red-100",m="text-color-red-200";break;case"PENDING":r="견적 대기",g="bg-color-gray-100 pr-2 pl-2",m="text-color-blue-400";break;case"CONFIRMED":r="견적 확정",g="bg-color-gray-100 pr-2 pl-2",m="text-color-blue-400";break;default:r="지정 라벨 없음",g="bg-color-gray-100",m="hidden"}return(0,i.jsxs)("div",{className:"".concat(g," ").concat(p," ").concat("sm"===b?"h-[26px]":""," rounded-1 flex items-center py-1 pr-[5px] pl-[3px] mobile-tablet:h-[26px]  mobile-tablet:pt-[2px] mobile-tablet:pr-[4px] mobile-tablet:pb-[2px] mobile-tablet:pl-[2px] gap-[4px] mobile-tablet:gap-[2px] "),children:[t&&(0,i.jsx)(s(),{src:t,alt:"".concat(l," label"),width:24,height:24}),(0,i.jsx)("p",{className:"".concat(m," ").concat(x," ").concat("sm"===b?"text-xs":""," text-lg semibold leading-[24px] mobile-tablet:text-[13px] mobile-tablet:leading-[22px]"),children:r})]})}},21507:(e,t,r)=>{r.d(t,{A:()=>c});var i=r(74848),l=r(44127),s=r(3329),a=r(30777),n=r(91106),o=r.n(n);function c(e){let{data:t}=e,r=(0,s.nk)(t.plan.tripDate),n=(0,a.r)(t.plan.serviceArea),c=t.isAssigned?(0,i.jsx)(l.A,{labelType:"REQUEST"}):"";return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("div",{className:"relative mb-8 flex flex-col rounded-[16px] border border-color-line-100 px-6 pb-3 pt-5 shadow-md",children:[(0,i.jsx)("div",{className:"mb-4 flex items-center justify-between text-xs text-color-gray-500",children:(0,i.jsxs)("div",{className:"flex items-center gap-3",children:["PENDING"===t.plan.status?(0,i.jsx)(l.A,{labelType:"PENDING"}):"CONFIRMED"===t.plan.status?(0,i.jsx)(l.A,{labelType:"CONFIRMED"}):void 0,(0,i.jsx)(l.A,{labelType:t.plan.tripType}),c]})}),(0,i.jsx)(o(),{href:"/quotation-detail/".concat(t.id),children:(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"text-xl semibold",children:t.plan.title}),(0,i.jsxs)("p",{className:"mb-[18px] border-b border-color-line-200 pb-[18px] text-md font-medium",children:[t.dreamer.nickName," 고객님"]}),(0,i.jsxs)("div",{className:"flex flex-col gap-1 mobile:grid mobile:grid-cols-2 mobile:gap-0 tablet:flex-row",children:[(0,i.jsxs)("div",{className:"flex items-center gap-1 mobile:col-span-2 mobile:mb-2",children:[(0,i.jsx)("p",{className:"whitespace-nowrap rounded-[4px] bg-color-background-400 px-[6px] py-1 text-2lg font-normal text-color-gray-500 mobile:text-md",children:"여행일"}),(0,i.jsx)("p",{className:"medium text-2lg text-color-black-300 mobile:text-md",children:r})]}),(0,i.jsxs)("div",{className:"flex items-center gap-3",children:[(0,i.jsx)("p",{className:"whitespace-nowrap rounded-[4px] bg-color-background-400 px-[6px] py-1 text-2lg font-normal text-color-gray-500 mobile:text-md",children:"여행지"}),(0,i.jsx)("p",{className:"whitespace-nowrap text-2lg font-medium text-color-black-300 mobile:text-md",children:n})]})]}),(0,i.jsxs)("div",{className:"mt-4 flex items-center justify-end gap-2",children:[(0,i.jsx)("p",{className:"medium text-2lg",children:"견적 코코넛"}),(0,i.jsxs)("p",{className:"text-2xl bold",children:[t.price.toLocaleString(),"개"]})]})]})}),"PENDING"!==t.plan.status&&!1===t.isConfirmed&&(0,i.jsx)("div",{className:"absolute left-0 top-0 flex h-full w-full flex-col items-center justify-center gap-4 rounded-[16px] bg-color-black-400 bg-opacity-50 text-white",children:(0,i.jsx)("p",{children:"반려된 견적입니다."})}),"COMPLETED"===t.plan.status&&!0===t.isConfirmed&&(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("div",{className:"absolute left-0 top-0 flex h-full w-full flex-col items-center justify-center gap-4 rounded-[16px] bg-color-black-400 bg-opacity-50 text-white",children:[(0,i.jsx)("p",{children:"여행 완료된 플랜입니다."}),(0,i.jsx)(o(),{href:"/quotation-detail/".concat(t.id),children:(0,i.jsx)("button",{className:"z-40 rounded-[16px] border border-color-blue-200 bg-color-blue-100 px-[18px] py-[10px] text-lg semibold text-color-blue-300",children:"견적 상세 보기"})})]})})]})})}},48426:(e,t,r)=>{r.d(t,{I:()=>a,U:()=>s});var i=r(84996),l=r(6220);let s=async function(){let{isSent:e,page:t=1,pageSize:r=10}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{let l="",s=[];"boolean"==typeof e&&s.push("isSent=".concat(e)),s.push("page=".concat(t)),s.push("pageSize=".concat(r)),l=s.length>0?"?".concat(s.join("&")):"";let a=await i.F.get("/quotes".concat(l));if(!a)return{totalCount:0,list:[]};return a}catch(e){throw console.error("견적 목록 조회 실패",e),e}},a=async e=>{try{return await i.F.get("/quotes/".concat(e))}catch(e){var t,r;if((null===(t=e.response)||void 0===t?void 0:t.status)===l.p2)throw Error("존재하지 않는 견적입니다.");if((null===(r=e.response)||void 0===r?void 0:r.status)===l.AY)throw Error("잘못된 접근입니다.");throw console.error("견적 상세 조회 실패",e),e}}},4107:(e,t,r)=>{r.d(t,{A:()=>h});var i=r(74848),l=r(96540),s=r(86715),a=r(12828),n=r(5279),o=r(29965),c=r.n(o),d=r(23504);let h=(e,t)=>r=>{let o=(0,s.useRouter)(),[h,u]=(0,l.useState)(null),[b,p]=(0,l.useState)(!0),{role:x}=(0,d.A)();return((0,l.useEffect)(()=>{let e=(0,a.iD)();if(e){if("/login"===o.pathname||"/signup"===o.pathname){o.push("/");return}if(t){let e=Array.isArray(t)?t:[t];if("guest"!==x&&!e.includes(x)){o.push("/");return}}u(e)}else"/login"!==o.pathname&&"/signup"!==o.pathname&&o.push("/login");p(!1)},[o,x,t]),b)?(0,i.jsx)("div",{className:"flex h-screen items-center justify-center",children:(0,i.jsx)(c(),{src:n.A,alt:"로딩 중"})}):h||"/login"===o.pathname||"/signup"===o.pathname?(0,i.jsx)(e,{...r}):null}},30777:(e,t,r)=>{r.d(t,{r:()=>i});let i=e=>({SEOUL:"서울",BUSAN:"부산",INCHEON:"인천",DAEGU:"대구",DAEJEON:"대전",GWANGJU:"광주",ULSAN:"울산",SEJONG:"세종",GYEONGGI:"경기",GANGWON:"강원",CHUNGBUK:"충북",CHUNGNAM:"충남",JEONBUK:"전북",JEONNAM:"전남",GYEONGBUK:"경북",GYEONGNAM:"경남",JEJU:"제주"})[e]},91553:(e,t,r)=>{r.d(t,{q:()=>n});var i=r(1651),l=r(58959),s=class extends i.${constructor(e,t){super(e,t)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(e,t){super.setOptions({...e,behavior:(0,l.PL)()},t)}getOptimisticResult(e){return e.behavior=(0,l.PL)(),super.getOptimisticResult(e)}fetchNextPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"backward"}}})}createResult(e,t){let{state:r}=e,i=super.createResult(e,t),{isFetching:s,isRefetching:a,isError:n,isRefetchError:o}=i,c=r.fetchMeta?.fetchMore?.direction,d=n&&"forward"===c,h=s&&"forward"===c,u=n&&"backward"===c,b=s&&"backward"===c;return{...i,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:(0,l.rB)(t,r.data),hasPreviousPage:(0,l.RQ)(t,r.data),isFetchNextPageError:d,isFetchingNextPage:h,isFetchPreviousPageError:u,isFetchingPreviousPage:b,isRefetchError:o&&!d&&!u,isRefetching:a&&!h&&!b}}},a=r(76099);function n(e,t){return(0,a.t)(e,s,t)}},85692:(e,t,r)=>{r.d(t,{Wx:()=>c});var i=r(96540),l=Object.defineProperty,s=new Map,a=new WeakMap,n=0,o=void 0;function c({threshold:e,delay:t,trackVisibility:r,rootMargin:l,root:d,triggerOnce:h,skip:u,initialInView:b,fallbackInView:p,onChange:x}={}){var g;let[m,f]=i.useState(null),N=i.useRef(x),[v,w]=i.useState({inView:!!b,entry:void 0});N.current=x,i.useEffect(()=>{let i;if(!u&&m)return i=function(e,t,r={},i=o){if(void 0===window.IntersectionObserver&&void 0!==i){let l=e.getBoundingClientRect();return t(i,{isIntersecting:i,target:e,intersectionRatio:"number"==typeof r.threshold?r.threshold:0,time:0,boundingClientRect:l,intersectionRect:l,rootBounds:l}),()=>{}}let{id:l,observer:c,elements:d}=function(e){let t=Object.keys(e).sort().filter(t=>void 0!==e[t]).map(t=>{var r;return`${t}_${"root"===t?(r=e.root)?(a.has(r)||(n+=1,a.set(r,n.toString())),a.get(r)):"0":e[t]}`}).toString(),r=s.get(t);if(!r){let i;let l=new Map,a=new IntersectionObserver(t=>{t.forEach(t=>{var r;let s=t.isIntersecting&&i.some(e=>t.intersectionRatio>=e);e.trackVisibility&&void 0===t.isVisible&&(t.isVisible=s),null==(r=l.get(t.target))||r.forEach(e=>{e(s,t)})})},e);i=a.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),r={id:t,observer:a,elements:l},s.set(t,r)}return r}(r),h=d.get(e)||[];return d.has(e)||d.set(e,h),h.push(t),c.observe(e),function(){h.splice(h.indexOf(t),1),0===h.length&&(d.delete(e),c.unobserve(e)),0===d.size&&(c.disconnect(),s.delete(l))}}(m,(e,t)=>{w({inView:e,entry:t}),N.current&&N.current(e,t),t.isIntersecting&&h&&i&&(i(),i=void 0)},{root:d,rootMargin:l,threshold:e,trackVisibility:r,delay:t},p),()=>{i&&i()}},[Array.isArray(e)?e.toString():e,m,d,l,h,u,r,p,t]);let j=null==(g=v.entry)?void 0:g.target,y=i.useRef(void 0);m||!j||h||u||y.current===j||(y.current=j,w({inView:!!b,entry:void 0}));let E=[f,v.inView,v.entry];return E.ref=E[0],E.inView=E[1],E.entry=E[2],E}i.Component}}]);