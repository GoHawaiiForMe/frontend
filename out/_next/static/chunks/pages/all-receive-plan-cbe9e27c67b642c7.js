try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="fa33f336-a1e7-4279-b650-712281a2c94b",e._sentryDebugIdIdentifier="sentry-dbid-fa33f336-a1e7-4279-b650-712281a2c94b")}catch(e){}(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[895],{7329:(e,t,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/all-receive-plan",function(){return s(54200)}])},54200:(e,t,s)=>{"use strict";s.r(t),s.d(t,{AllReceivePlan:()=>w,default:()=>S});var a=s(74848),l=s(29965),n=s.n(l),i=s(97536),r=s(25077),d=s(58955),c=s(23183),o=s(46275),x=s(96540),u=s(92476),f=s(51664),m=s(24837),h=s(59412),p=s(91553),y=s(24880),j=s(22132),b=s(85692),v=s(60575),g=s(91106),N=s.n(g);function w(){var e;let[t,s]=(0,x.useState)(!1),[l,g]=(0,x.useState)(!1),[w,S]=(0,x.useState)(!1),[_,A]=(0,x.useState)("SCHEDULE_FIRST"),[k,T]=(0,x.useState)(""),[E,P]=(0,x.useState)(""),[C,D]=(0,x.useState)([]),[I,M]=(0,x.useState)(null),{ref:q,inView:R}=(0,b.Wx)(),{data:F,isLoading:L,fetchNextPage:X,hasNextPage:B,isFetchingNextPage:O,isFetching:z}=(0,p.q)({queryKey:["receiveRequest",{isAssigned:!1,tripType:C,keyword:E,orderBy:_}],initialPageParam:1,queryFn:e=>{let{pageParam:t=1}=e;return(0,j.Ay)({isAssigned:!1,tripType:C.length>0?C:void 0,keyword:E||void 0,orderBy:_,page:t,pageSize:5})},getNextPageParam:(e,t)=>5===e.list.length?t.length+1:void 0,placeholderData:y.rX});(0,x.useEffect)(()=>{R&&B&&X()},[R,X,B]);let H=(null==F?void 0:null===(e=F.pages[0])||void 0===e?void 0:e.totalCount)||0,K=(null==F?void 0:F.pages.flatMap(e=>e.list))||[],Q=e=>{M(e),g(!0)},U=()=>{S(!0)};return(0,a.jsxs)("div",{"data-sentry-component":"AllReceivePlan","data-sentry-source-file":"index.tsx",children:[(0,a.jsx)("div",{className:"mx-[auto] w-full mobile:mx-[auto] tablet:mx-[auto]",children:(0,a.jsxs)("div",{className:"mb-8 flex items-center gap-8 border-b border-color-line-200",children:[(0,a.jsx)(N(),{href:"/receive","data-sentry-element":"Link","data-sentry-source-file":"index.tsx",children:(0,a.jsx)("p",{className:"text-4 cursor-pointer font-semibold",children:"받은 견적 요청"})}),(0,a.jsx)(N(),{href:"/all-receive-plan","data-sentry-element":"Link","data-sentry-source-file":"index.tsx",children:(0,a.jsx)("p",{className:"text-4 cursor-pointer border-b-[3px] border-black py-6 font-semibold",children:"전체 플랜"})})]})}),(0,a.jsxs)("div",{className:"flex gap-[107px]",children:[(0,a.jsx)(i.A,{data:null==F?void 0:F.pages[0],setSelectedTypes:D,"data-sentry-element":"CheckFilter","data-sentry-source-file":"index.tsx"}),(0,a.jsxs)("div",{className:"w-full",children:[(0,a.jsx)(h.A,{value:k,onChange:e=>{T(e.target.value),""===e.target.value&&P("")},onSearch:e=>{T(e),P(e)},"data-sentry-element":"SearchBar","data-sentry-source-file":"index.tsx"}),(0,a.jsxs)("div",{className:"mb-8 mt-4 flex w-full items-center justify-between mobile:mx-[auto] tablet:mx-[auto]",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("p",{children:["전체 ",H," 건"]}),z&&!L&&(0,a.jsxs)("div",{className:"flex items-center gap-2 text-blue-500",children:[(0,a.jsx)("div",{className:"h-2 w-2 animate-pulse rounded-full bg-blue-500"}),(0,a.jsx)("span",{className:"text-sm",children:"필터링 중..."})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-[4px]",children:[(0,a.jsx)(r.A,{onSort:A,currentSort:_,"data-sentry-element":"FastDropdown","data-sentry-source-file":"index.tsx"}),(0,a.jsx)(n(),{src:c.A,className:"pc:hidden mobile-tablet:block",alt:"filter",width:32,height:32,onClick:()=>s(!0),"data-sentry-element":"Image","data-sentry-source-file":"index.tsx"})]})]}),L?(0,a.jsx)("div",{className:"flex min-h-[200px] items-center justify-center",children:(0,a.jsx)("span",{children:"Loading..."})}):(0,a.jsxs)("div",{className:"transition-opacity duration-300 ".concat(z?"opacity-60":"opacity-100"),children:[K.length>0?K.map((e,t)=>(0,a.jsx)("div",{className:"transform transition-all duration-300 hover:scale-[1.01]",children:(0,a.jsx)(d.A,{data:e,onSendQuotation:()=>Q(e.id),onReject:U,oneButton:!0})},"".concat(e.id,"-").concat(t))):(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,a.jsx)(n(),{src:v.A,alt:"request_empty",width:300,height:300}),(0,a.jsx)("p",{className:"text-xl font-semibold text-color-gray-300",children:"아직 받은 요청이 없어요!"})]}),(0,a.jsx)("div",{ref:q,className:"h-10",children:O&&(0,a.jsx)("div",{className:"flex items-center justify-center py-4",children:(0,a.jsx)("span",{children:"더 불러오는 중..."})})})]})]})]}),t&&(0,a.jsx)(o.A,{closeModal:()=>s(!1),data:null==F?void 0:F.pages[0],selectedTypes:C,setSelectedTypes:D}),l&&(0,a.jsx)(f.A,{label:"견적 보내기",closeModal:()=>g(!1),children:(0,a.jsx)(u.A,{data:K.find(e=>e.id===I),closeModal:()=>g(!1)})}),w&&(0,a.jsx)(f.A,{label:"요청 반려하기",closeModal:()=>S(!1),children:(0,a.jsx)(m.A,{data:K.find(e=>e.id===I),closeModal:()=>S(!1)})})]})}let S=(0,s(26224).A)(w)}},e=>{var t=t=>e(e.s=t);e.O(0,[347,340,636,593,792],()=>t(7329)),_N_E=e.O()}]);