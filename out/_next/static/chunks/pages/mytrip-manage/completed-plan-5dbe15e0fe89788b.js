(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[665],{46433:(e,t,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/mytrip-manage/completed-plan",function(){return a(2883)}])},2883:(e,t,a)=>{"use strict";a.r(t),a.d(t,{CompletedPlan:()=>o,default:()=>p});var l=a(74848),s=a(42900),n=a(51761),i=a(11739),r=a(1997),u=a(91553),g=a(24880),c=a(96540),d=a(85692);function o(){let[e,t]=(0,c.useState)(null),{inView:a}=(0,d.Wx)();(0,c.useEffect)(()=>{let e=localStorage.getItem("accessToken");e&&t(e)},[]);let{data:o,fetchNextPage:p,hasNextPage:P,isFetchingNextPage:h,isLoading:_}=(0,u.q)({queryKey:["completedPlans",{status:["COMPLETED"]}],initialPageParam:1,queryFn:e=>{let{pageParam:t=1}=e;return r.A.getPlanList({status:["COMPLETED"],page:t,pageSize:5})},getNextPageParam:(e,t)=>5===e.list.length?t.length+1:void 0,enabled:!!e,placeholderData:g.rX});(0,c.useEffect)(()=>{a&&P&&p()},[a,p,P]);let f=(null==o?void 0:o.pages.map(e=>e.list).flat())||[];return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(s.A,{}),(0,l.jsx)(n.A,{bodyClass:"bg-gray",children:(0,l.jsx)(i.A,{title:"종료된",status:"completed",visiblePlans:f,fetchNextPage:p,hasNextPage:P,isFetchingNextPage:h,isLoading:_})})]})}let p=(0,a(4107).A)(o)}},e=>{var t=t=>e(e.s=t);e.O(0,[375,636,593,792],()=>t(46433)),_N_E=e.O()}]);