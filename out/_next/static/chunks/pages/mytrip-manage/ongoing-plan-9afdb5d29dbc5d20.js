(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[873],{54657:(e,t,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/mytrip-manage/ongoing-plan",function(){return a(43051)}])},43051:(e,t,a)=>{"use strict";a.r(t),a.d(t,{OngoingPlan:()=>E,default:()=>P});var s=a(74848),n=a(42900),l=a(51761),i=a(11739),r=a(1997),g=a(91553),u=a(24880),c=a(96540),o=a(85692),N=a(29965),d=a.n(N),h=a(5279);function E(){let[e,t]=(0,c.useState)(null),{ref:a,inView:N}=(0,o.Wx)();(0,c.useEffect)(()=>{let e=localStorage.getItem("accessToken");e&&t(e)},[]);let{data:E,fetchNextPage:P,hasNextPage:f,isFetchingNextPage:x,isLoading:_}=(0,g.q)({queryKey:["ongoingPlans",{status:["PENDING","CONFIRMED"]}],initialPageParam:1,queryFn:e=>{let{pageParam:t=1}=e;return r.A.getPlanList({status:["PENDING","CONFIRMED"],page:t,pageSize:5})},getNextPageParam:(e,t)=>5===e.list.length?t.length+1:void 0,enabled:!!e,placeholderData:u.rX});(0,c.useEffect)(()=>{N&&f&&P()},[N,P,f]);let p=(null==E?void 0:E.pages.map(e=>e.list).flat())||[];return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.A,{}),(0,s.jsx)(l.A,{bodyClass:"bg-gray",children:(0,s.jsx)(i.A,{title:"\uD83D\uDEEB 진행 중인",status:"ongoing",visiblePlans:p,fetchNextPage:P,hasNextPage:f,isFetchingNextPage:x,isLoading:_})}),(0,s.jsx)("div",{ref:a,className:"h-10",children:x&&(0,s.jsx)("div",{className:"flex h-screen items-center justify-center",children:(0,s.jsx)(d(),{src:h.A,alt:"로딩 중"})})})]})}let P=(0,a(4107).A)(E,"DREAMER")}},e=>{var t=t=>e(e.s=t);e.O(0,[375,636,593,792],()=>t(54657)),_N_E=e.O()}]);