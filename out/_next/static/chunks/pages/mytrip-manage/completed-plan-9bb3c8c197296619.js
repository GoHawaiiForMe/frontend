try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="ad197e36-6fa9-40a7-a31c-a65afe0bc0eb",e._sentryDebugIdIdentifier="sentry-dbid-ad197e36-6fa9-40a7-a31c-a65afe0bc0eb")}catch(e){}(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[665],{46433:(e,t,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/mytrip-manage/completed-plan",function(){return a(91718)}])},91718:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>y});var s=a(74848),l=a(77213),n=a(37452),i=a(81308),d=a(51664),r=a(80828),u=a(91553),c=a(24880),o=a(96540),g=a(86715),f=a(85692);function y(){let e=(0,g.useRouter)(),[t,a]=(0,o.useState)(!1),[y,x]=(0,o.useState)(null),{inView:p}=(0,f.Wx)();(0,o.useEffect)(()=>{let e=localStorage.getItem("accessToken");e?x(e):a(!0)},[]);let{data:b,fetchNextPage:h,hasNextPage:m,isFetchingNextPage:_}=(0,u.q)({queryKey:["ongoingPlans",{status:["OVERDUE"]}],initialPageParam:1,queryFn:e=>{let{pageParam:t=1}=e;return r.A.getPlanList({status:["COMPLETED"],page:t,pageSize:5})},getNextPageParam:(e,t)=>5===e.list.length?t.length+1:void 0,enabled:!!y,placeholderData:c.rX});(0,o.useEffect)(()=>{p&&m&&h()},[p,h,m]);let P=(null==b?void 0:b.pages.map(e=>e.list).flat())||[];return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.A,{"data-sentry-element":"MyPlanNav","data-sentry-source-file":"index.tsx"}),(0,s.jsx)(n.A,{bodyClass:"bg-gray","data-sentry-element":"Layout","data-sentry-source-file":"index.tsx",children:(0,s.jsx)(i.A,{title:"종료된",status:"completed",visiblePlans:P,fetchNextPage:h,hasNextPage:m,isFetchingNextPage:_,"data-sentry-element":"MyPlanList","data-sentry-source-file":"index.tsx"})}),t&&(0,s.jsxs)(d.A,{label:"로그인 필요",closeModal:()=>a(!1),children:[(0,s.jsx)("p",{className:"text-lg",children:"로그인이 필요한 서비스입니다."}),(0,s.jsxs)("div",{className:"mt-6 flex justify-end space-x-4",children:[(0,s.jsx)("button",{className:"px-4 py-2 text-gray-500",onClick:()=>{a(!1),e.push("/")},children:"취소"}),(0,s.jsx)("button",{className:"rounded-lg bg-blue-500 px-4 py-2 text-white",onClick:()=>{a(!1),e.push("/login")},children:"확인"})]})]})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[507,636,593,792],()=>t(46433)),_N_E=e.O()}]);