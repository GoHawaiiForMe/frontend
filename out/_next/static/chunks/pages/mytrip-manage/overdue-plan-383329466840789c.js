try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="e6130d1c-7aa9-4405-9ac1-d69e25991e6f",e._sentryDebugIdIdentifier="sentry-dbid-e6130d1c-7aa9-4405-9ac1-d69e25991e6f")}catch(e){}(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[556],{55811:(e,t,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/mytrip-manage/overdue-plan",function(){return a(52203)}])},52203:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>y});var s=a(74848),n=a(77213),l=a(37452),d=a(81308),i=a(51664),r=a(80828),u=a(91553),o=a(24880),c=a(96540),g=a(86715),f=a(85692);function y(){let e=(0,g.useRouter)(),[t,a]=(0,c.useState)(!1),[y,x]=(0,c.useState)(null),{inView:h}=(0,f.Wx)();(0,c.useEffect)(()=>{let e=localStorage.getItem("accessToken");e?x(e):a(!0)},[]);let{data:p,fetchNextPage:b,hasNextPage:_,isFetchingNextPage:m}=(0,u.q)({queryKey:["ongoingPlans",{status:["OVERDUE"]}],initialPageParam:1,queryFn:e=>{let{pageParam:t=1}=e;return r.A.getPlanList({status:["OVERDUE"],page:t,pageSize:5})},getNextPageParam:(e,t)=>5===e.list.length?t.length+1:void 0,enabled:!!y,placeholderData:o.rX});(0,c.useEffect)(()=>{h&&_&&b()},[h,b,_]);let N=(null==p?void 0:p.pages.map(e=>e.list).flat())||[];return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.A,{"data-sentry-element":"MyPlanNav","data-sentry-source-file":"index.tsx"}),(0,s.jsx)(l.A,{bodyClass:"bg-gray","data-sentry-element":"Layout","data-sentry-source-file":"index.tsx",children:(0,s.jsx)(d.A,{title:"만료된",status:"overdue",visiblePlans:N,fetchNextPage:b,hasNextPage:_,isFetchingNextPage:m,"data-sentry-element":"MyPlanList","data-sentry-source-file":"index.tsx"})}),t&&(0,s.jsxs)(i.A,{label:"로그인 필요",closeModal:()=>a(!1),children:[(0,s.jsx)("p",{className:"text-lg",children:"로그인이 필요한 서비스입니다."}),(0,s.jsxs)("div",{className:"mt-6 flex justify-end space-x-4",children:[(0,s.jsx)("button",{className:"px-4 py-2 text-gray-500",onClick:()=>{a(!1),e.push("/")},children:"취소"}),(0,s.jsx)("button",{className:"rounded-lg bg-blue-500 px-4 py-2 text-white",onClick:()=>{a(!1),e.push("/login")},children:"확인"})]})]})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[507,636,593,792],()=>t(55811)),_N_E=e.O()}]);