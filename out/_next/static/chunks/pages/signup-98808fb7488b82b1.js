try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},s=(new e.Error).stack;s&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[s]="89dfeccc-bb8d-4a65-a6f4-ae4338bca143",e._sentryDebugIdIdentifier="sentry-dbid-89dfeccc-bb8d-4a65-a6f4-ae4338bca143")}catch(e){}(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[252],{94039:(e,s,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/signup",function(){return a(99010)}])},64858:(e,s,a)=>{"use strict";a.d(s,{A:()=>r});var t=a(74848);let r=e=>{let{label:s,onClick:a,disabled:r=!1,className:n="",type:l="button"}=e;return(0,t.jsx)("button",{type:l,className:"w-full py-4 bg-color-blue-300 bold rounded-2xl  text-xl mobile-tablet:text-lg ".concat(r?"bg-color-gray-100 cursor-not-allowed":"bg-color-blue-300"," ").concat(n),onClick:a,disabled:r,"data-sentry-component":"Button","data-sentry-source-file":"Button.tsx",children:s})}},72460:(e,s,a)=>{"use strict";a.d(s,{A:()=>d});var t=a(74848),r=a(96540),n=a(29965),l=a.n(n);let o={src:"/_next/static/media/icon_visibility_off.7dedf543.svg",height:24,width:24,blurWidth:0,blurHeight:0},i={src:"/_next/static/media/icon_visibility_on.6f9063a3.svg",height:24,width:24,blurWidth:0,blurHeight:0},c=(0,r.forwardRef)((e,s)=>{let{label:a,type:n,name:c,value:d,onChange:m,placeholder:u="",className:p="",error:g=!1,...h}=e,[x,b]=r.useState(!1),f="textarea"===n?(0,t.jsx)("textarea",{ref:s,name:c,value:d,onChange:m,placeholder:u,className:"mb-4 h-40 w-full resize-none rounded-xl border bg-color-gray-50 p-4 ".concat(p),...h}):"password"===n?(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{ref:s,type:x?"text":"password",name:c,value:d,onChange:m,placeholder:u,className:"h-16 w-full rounded-xl border p-4 pc:text-xl mobile-tablet:text-lg ".concat(g?"border-color-red-200":"border-color-blue-300"," ").concat(p),...h}),(0,t.jsx)(l(),{src:x?i:o,onClick:()=>{b(e=>!e)},width:24,height:24,alt:x?"비밀번호 보기":"비밀번호 감추기",className:"absolute right-5 top-1/2 -translate-y-1/2 transform cursor-pointer"})]}):(0,t.jsx)("input",{ref:s,className:"h-16 w-full rounded-xl border p-4 pc:text-xl mobile-tablet:text-lg ".concat(g?"border-color-red-200":"border-color-blue-300"," ").concat(p),type:n,name:c,value:d,onChange:m,placeholder:u,...h});return(0,t.jsxs)("div",{children:[a&&(0,t.jsx)("label",{className:"semibold mb-4 block pc:text-xl mobile-tablet:text-lg",htmlFor:c,children:a}),f]})});c.displayName="Input";let d=c},83e3:(e,s,a)=>{"use strict";a.d(s,{A:()=>d});var t=a(74848),r=a(29965),n=a.n(r);let l={src:"/_next/static/media/icon_google.879cad24.svg",height:72,width:72,blurWidth:0,blurHeight:0},o={src:"/_next/static/media/icon_kakao.c29eeafe.svg",height:72,width:72,blurWidth:0,blurHeight:0},i={src:"/_next/static/media/icon_naver.ae6e4dc0.svg",height:72,width:72,blurWidth:0,blurHeight:0};var c=a(41687);let d=()=>{let e=async e=>{try{let s;switch(e){case"google":s=await c.A.googleLogin();break;case"kakao":s=await c.A.kakaoLogin();break;case"naver":s=await c.A.naverLogin();break;default:throw Error("지원하지 않는 로그인 방식입니다.")}window.location.href=s}catch(s){console.error("".concat(e," 로그인 중 오류 발생"),s),alert("".concat(e," 로그인에 실패했습니다. 다시 시도해주세요."))}};return(0,t.jsxs)("div",{className:"flex flex-col items-center gap-8","data-sentry-component":"SocialLogin","data-sentry-source-file":"SocialLogin.tsx",children:[(0,t.jsx)("h2",{className:"tablet:text-xs pc:text-xl",children:"SNS 계정으로 간편 가입하기"}),(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsx)("div",{onClick:()=>e("google"),className:"cursor-pointer",children:(0,t.jsx)(n(),{src:l,alt:"구글 아이콘",width:50,height:50,"data-sentry-element":"Image","data-sentry-source-file":"SocialLogin.tsx"})}),(0,t.jsx)("div",{onClick:()=>e("kakao"),className:"cursor-pointer",children:(0,t.jsx)(n(),{src:o,alt:"카카오 아이콘",width:50,height:50,"data-sentry-element":"Image","data-sentry-source-file":"SocialLogin.tsx"})}),(0,t.jsx)("div",{onClick:()=>e("naver"),className:"cursor-pointer",children:(0,t.jsx)(n(),{src:i,alt:"네이버 아이콘",width:50,height:50,"data-sentry-element":"Image","data-sentry-source-file":"SocialLogin.tsx"})})]})]})}},99010:(e,s,a)=>{"use strict";a.r(s),a.d(s,{SignupPage:()=>y,default:()=>N});var t=a(74848),r=a(49785),n=a(28871),l=a(72460),o=a(96540),i=a(29917),c=a(52623),d=a(29965),m=a.n(d),u=a(64858),p=a(91106),g=a.n(p),h=a(12515),x=a(86715),b=a(41687),f=a(83e3);function w(){let{setUserData:e}=(0,h.y)(),{register:s,handleSubmit:a,watch:d,setError:p,formState:{errors:w}}=(0,r.mN)({resolver:(0,n.u)(i.Sd),mode:"onBlur"}),[y,N]=(0,o.useState)(null),[j,v]=(0,o.useState)(null),[k,A]=(0,o.useState)(!1),[P,S]=(0,o.useState)(!1),z=(0,x.useRouter)(),D=d(),_=0===Object.keys(w).length&&Object.values(D).every(e=>(null==e?void 0:e.toString().trim())!=="")&&k&&P,E=e=>{let{message:s}=e;return(0,t.jsx)("p",{className:"absolute right-0 mt-1 text-color-red-200","data-sentry-component":"ErrorMessage","data-sentry-source-file":"SignupForm.tsx",children:s})},C=async()=>{let e=D.nickName;try{await b.A.checkNickName({nickName:e})?(A(!0),N("사용 가능한 닉네임입니다!")):(A(!1),p("nickName",{message:"닉네임이 중복되었습니다!"}),N(""))}catch(e){p("nickName",{message:"닉네임 체크 중 오류가 발생했습니다."}),A(!1)}},R=async()=>{let e=D.email;try{await b.A.checkEmail({email:e})?(v("사용 가능한 이메일입니다!"),S(!0)):(p("email",{message:"이메일이 중복되었습니다!"}),v(""),S(!1))}catch(e){p("email",{message:"이메일 체크 중 오류가 발생했습니다."}),S(!1)}};return(0,t.jsx)("div",{className:"flex justify-center","data-sentry-component":"SignUpForm","data-sentry-source-file":"SignupForm.tsx",children:(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center gap-8 pc:w-[640px] mobile-tablet:w-[372px]",children:[(0,t.jsx)(m(),{src:c.A,width:400,height:400,alt:"로고","data-sentry-element":"Image","data-sentry-source-file":"SignupForm.tsx"}),(0,t.jsxs)("form",{onSubmit:a(s=>{e({role:s.role,nickName:s.nickName,email:s.email,password:s.password,phoneNumber:s.phoneNumber}),"DREAMER"===s.role&&z.push("/profile/dreamer"),"MAKER"===s.role&&z.push("/profile/maker")}),className:"relative flex w-full flex-col gap-8",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(l.A,{type:"text",label:"닉네임",placeholder:"닉네임을 입력해주세요",...s("nickName"),error:!!w.nickName,className:"pr-16","data-sentry-element":"Input","data-sentry-source-file":"SignupForm.tsx"}),(0,t.jsx)("button",{type:"button",onClick:C,className:"bold absolute right-2 top-[60px] rounded-lg bg-color-blue-300 px-2 py-2 text-lg text-color-gray-50 mobile-tablet:top-[53px]",children:"닉네임 확인"}),w.nickName&&(0,t.jsx)(E,{message:w.nickName.message}),y&&(0,t.jsx)("p",{className:"text-color-blue-300",children:y})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(l.A,{type:"text",label:"이메일",placeholder:"이메일을 입력해 주세요",...s("email"),error:!!w.email,className:"pr-16","data-sentry-element":"Input","data-sentry-source-file":"SignupForm.tsx"}),(0,t.jsx)("button",{type:"button",onClick:R,className:"bold absolute right-2 top-[60px] rounded-lg bg-color-blue-300 px-2 py-2 text-lg text-color-gray-50 mobile-tablet:top-[53px]",children:"이메일 확인"}),w.email&&(0,t.jsx)(E,{message:w.email.message}),j&&(0,t.jsx)("p",{className:"text-color-blue-300",children:j})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(l.A,{type:"text",label:"전화번호",placeholder:"숫자만 입력해주세요",...s("phoneNumber"),error:!!w.phoneNumber,"data-sentry-element":"Input","data-sentry-source-file":"SignupForm.tsx"}),w.phoneNumber&&(0,t.jsx)(E,{message:w.phoneNumber.message})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(l.A,{type:"password",label:"비밀번호",placeholder:"비밀번호를 입력해 주세요",...s("password"),error:!!w.password,"data-sentry-element":"Input","data-sentry-source-file":"SignupForm.tsx"}),w.password&&(0,t.jsx)(E,{message:w.password.message})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(l.A,{type:"password",label:"비밀번호 확인",placeholder:"비밀번호를 다시 한번 입력해 주세요",...s("confirmPassword"),error:!!w.confirmPassword,"data-sentry-element":"Input","data-sentry-source-file":"SignupForm.tsx"}),w.confirmPassword&&(0,t.jsx)(E,{message:w.confirmPassword.message})]}),(0,t.jsxs)("div",{className:"mb-2",children:[(0,t.jsx)("p",{className:"pc:text-xl",children:"역할"}),(0,t.jsxs)("div",{className:"flex justify-around",children:[(0,t.jsxs)("label",{htmlFor:"DREAMER",className:"flex gap-2 pc:text-xl",children:[(0,t.jsx)("input",{type:"radio",value:"DREAMER",...s("role")}),"Dreamer"]}),(0,t.jsxs)("label",{htmlFor:"MAEKR",className:"flex gap-2 pc:text-xl",children:[(0,t.jsx)("input",{type:"radio",value:"MAKER",...s("role")}),"Maker"]})]}),w.role&&(0,t.jsx)(E,{message:w.role.message})]}),(0,t.jsx)(u.A,{type:"submit",label:"회원가입",disabled:!_,className:"text-color-gray-50","data-sentry-element":"Button","data-sentry-source-file":"SignupForm.tsx"})]}),(0,t.jsxs)("div",{className:"mb-4 flex justify-center",children:[(0,t.jsx)("p",{className:"mr-2",children:"이미 니가가라하와이 회원이신가요?"}),(0,t.jsx)(g(),{href:"/login",className:"text-color-blue-300 underline","data-sentry-element":"Link","data-sentry-source-file":"SignupForm.tsx",children:"로그인"})]}),(0,t.jsx)("div",{className:"mb-40",children:(0,t.jsx)(f.A,{"data-sentry-element":"SocialLogin","data-sentry-source-file":"SignupForm.tsx"})})]})})}function y(){return(0,t.jsx)(w,{"data-sentry-element":"SignUpForm","data-sentry-component":"SignupPage","data-sentry-source-file":"index.tsx"})}let N=(0,a(26224).A)(y)},12515:(e,s,a)=>{"use strict";a.d(s,{y:()=>t});let t=(0,a(59836).v)(e=>({userData:{role:"",nickName:"",email:"",password:"",phoneNumber:""},profileData:{image:"",tripTypes:[],serviceArea:[]},makerProfileData:{image:"",serviceTypes:[],serviceArea:[],gallery:"",description:"",detailDescription:""},oAuthUserData:{role:"",nickName:"",phoneNumber:""},setUserData:s=>e(e=>({userData:{...e.userData,...s}})),setProfileData:s=>e(e=>({profileData:{...e.profileData,...s}})),setMakerProfileData:s=>e(e=>({makerProfileData:{...e.makerProfileData,...s}})),setOAuthUserData:s=>e(e=>({oAuthUserData:{...e.oAuthUserData,...s}}))}))},26224:(e,s,a)=>{"use strict";a.d(s,{A:()=>o});var t=a(74848),r=a(96540),n=a(86715),l=a(2385);let o=e=>s=>{let a=(0,n.useRouter)(),[o,i]=(0,r.useState)(null),[c,d]=(0,r.useState)(!0);return((0,r.useEffect)(()=>{let e=(0,l.iD)();if(e){if("/login"===a.pathname||"/signup"===a.pathname){a.push("/");return}i(e)}else"/login"!==a.pathname&&"/signup"!==a.pathname&&a.push("/login");d(!1)},[a]),c)?(0,t.jsx)("div",{children:"Loading..."}):o||"/login"===a.pathname||"/signup"===a.pathname?(0,t.jsx)(e,{...s,"data-sentry-element":"WrappedComponent","data-sentry-component":"AuthComponent","data-sentry-source-file":"withAuthAccess.tsx"}):null}},29917:(e,s,a)=>{"use strict";a.d(s,{GU:()=>o,Mh:()=>l,Sd:()=>n,X5:()=>r,dr:()=>i});var t=a(14476);let r=t.z.object({email:t.z.string().min(1,"이메일을 입력해 주세요.").email("이메일 형식이 아닙니다."),password:t.z.string().nonempty("비밀번호를 입력해 주세요.").min(6,"비밀번호는 최소 6자 이상이어야 합니다.")}),n=t.z.object({nickName:t.z.string().min(1,{message:"닉네임을 입력해 주세요."}),email:t.z.string().min(1,{message:"이메일을 입력해 주세요."}).email({message:"이메일 형식이 아닙니다."}),phoneNumber:t.z.string().regex(/^010\d{8}$/,{message:"010으로 시작하고 숫자만 입력해 주세요."}),password:t.z.string().min(6,"비밀번호는 최소 6자 이상이어야 합니다."),confirmPassword:t.z.string().min(1,{message:"비밀번호 확인란을 입력해 주세요."}),role:t.z.enum(["MAKER","DREAMER"],{message:"역할을 선택해 주세요."})}).refine(e=>e.password===e.confirmPassword,{path:["confirmPassword"],message:"비밀번호가 일치하지 않습니다."}),l=t.z.object({nickName:t.z.string().min(1,{message:"닉네임을 입력해 주세요."}),email:t.z.string().min(1,{message:"이메일을 입력해 주세요."}),phoneNumber:t.z.string().regex(/^010\d{8}$/,{message:"010으로 시작하고 숫자만 입력해 주세요."}),password:t.z.string().optional(),newPassword:t.z.string().optional(),newConfirmPassword:t.z.string().optional(),selectedServices:t.z.array(t.z.string()).optional(),selectedLocations:t.z.array(t.z.string()).optional()}).superRefine((e,s)=>{(e.newPassword||e.newConfirmPassword)&&(e.password||s.addIssue({code:"custom",path:["password"],message:"현재 비밀번호를 입력해 주세요."}),e.newPassword&&e.newPassword.length<6&&s.addIssue({code:"custom",path:["newPassword"],message:"새 비밀번호는 최소 6자 이상이어야 합니다."}),e.newPassword!==e.newConfirmPassword&&s.addIssue({code:"custom",path:["newConfirmPassword"],message:"새 비밀번호가 일치하지 않습니다."}))}),o=t.z.object({nickName:t.z.string().min(1,{message:"닉네임을 입력해 주세요."}),email:t.z.string().min(1,{message:"이메일을 입력해 주세요."}),phoneNumber:t.z.string().regex(/^010\d{8}$/,{message:"010으로 시작하고 숫자만 입력해 주세요."}),password:t.z.string().optional(),newPassword:t.z.string().optional(),newConfirmPassword:t.z.string().optional()}).refine(e=>!e.newPassword||e.password,{path:["password"],message:"새 비밀번호를 설정하려면 현재 비밀번호를 입력해 주세요."}).refine(e=>!e.newPassword||e.newPassword.length>=6,{path:["newPassword"],message:"새 비밀번호는 최소 6자 이상이어야 합니다."}).refine(e=>!e.newPassword||e.newPassword===e.newConfirmPassword,{path:["newConfirmPassword"],message:"새 비밀번호가 일치하지 않습니다."}),i=t.z.object({nickName:t.z.string().min(1,{message:"닉네임을 입력해 주세요."}),phoneNumber:t.z.string().regex(/^010\d{8}$/,{message:"010으로 시작하고 숫자만 입력해 주세요."}),role:t.z.enum(["MAKER","DREAMER"],{message:"역할을 선택해 주세요."})})}},e=>{var s=s=>e(e.s=s);e.O(0,[106,636,593,792],()=>s(94039)),_N_E=e.O()}]);