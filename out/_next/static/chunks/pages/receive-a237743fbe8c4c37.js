try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="0e5acf91-ef97-4ec6-82b2-a6edf11c1785",e._sentryDebugIdIdentifier="sentry-dbid-0e5acf91-ef97-4ec6-82b2-a6edf11c1785")}catch(e){}(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[303],{77317:(e,t,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/receive",function(){return s(6502)}])},6502:(e,t,s)=>{"use strict";s.r(t),s.d(t,{Receive:()=>w,default:()=>S});var a=s(74848),l=s(29965),n=s.n(l),i=s(97536),d=s(25077),r=s(58955),c=s(23183),o=s(46275),x=s(96540),u=s(92476),f=s(51664),m=s(24837),h=s(59412),p=s(91553),y=s(24880),j=s(22132),b=s(85692),v=s(60575),g=s(91106),N=s.n(g);function w(){var e;let[t,s]=(0,x.useState)(!1),[l,g]=(0,x.useState)(!1),[w,S]=(0,x.useState)(!1),[_,A]=(0,x.useState)("SCHEDULE_FIRST"),[k,T]=(0,x.useState)(null),[E,C]=(0,x.useState)(""),[D,I]=(0,x.useState)(""),[M,P]=(0,x.useState)([]),{ref:q,inView:R}=(0,b.Wx)(),{data:F,isLoading:L,fetchNextPage:X,hasNextPage:O,isFetchingNextPage:z,isFetching:B}=(0,p.q)({queryKey:["receiveRequest",{isAssigned:!0,tripType:M,keyword:D,orderBy:_}],initialPageParam:1,queryFn:e=>{let{pageParam:t=1}=e;return(0,j.Ay)({isAssigned:!0,tripType:M.length>0?M:void 0,keyword:D||void 0,orderBy:_,page:t,pageSize:5})},getNextPageParam:(e,t)=>5===e.list.length?t.length+1:void 0,placeholderData:y.rX});(0,x.useEffect)(()=>{R&&O&&X()},[R,X,O]);let H=(null==F?void 0:null===(e=F.pages[0])||void 0===e?void 0:e.totalCount)||0,K=(null==F?void 0:F.pages.flatMap(e=>e.list))||[],Q=e=>{T(e),g(!0)},U=e=>{T(e),S(!0)};return(0,a.jsxs)("div",{"data-sentry-component":"Receive","data-sentry-source-file":"index.tsx",children:[(0,a.jsx)("div",{className:"mx-[auto] w-full mobile:mx-[auto] tablet:mx-[auto]",children:(0,a.jsxs)("div",{className:"mb-8 flex items-center gap-8 border-b border-color-line-200",children:[(0,a.jsx)(N(),{href:"/receive","data-sentry-element":"Link","data-sentry-source-file":"index.tsx",children:(0,a.jsx)("p",{className:"text-4 cursor-pointer border-b-[3px] border-black py-6 font-semibold",children:"받은 견적 요청"})}),(0,a.jsx)(N(),{href:"/all-receive-plan","data-sentry-element":"Link","data-sentry-source-file":"index.tsx",children:(0,a.jsx)("p",{className:"text-4 cursor-pointer font-semibold",children:"전체 플랜"})})]})}),(0,a.jsxs)("div",{className:"flex gap-[107px]",children:[(0,a.jsx)(i.A,{data:null==F?void 0:F.pages[0],setSelectedTypes:P,"data-sentry-element":"CheckFilter","data-sentry-source-file":"index.tsx"}),(0,a.jsxs)("div",{className:"w-full",children:[(0,a.jsx)(h.A,{value:E,onChange:e=>{C(e.target.value),""===e.target.value&&I("")},onSearch:e=>{C(e),I(e)},"data-sentry-element":"SearchBar","data-sentry-source-file":"index.tsx"}),(0,a.jsxs)("div",{className:"mb-8 mt-4 flex w-full items-center justify-between mobile:mx-[auto] tablet:mx-[auto]",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("p",{children:["전체 ",H," 건"]}),B&&!L&&(0,a.jsxs)("div",{className:"flex items-center gap-2 text-blue-500",children:[(0,a.jsx)("div",{className:"h-2 w-2 animate-pulse rounded-full bg-blue-500"}),(0,a.jsx)("span",{className:"text-sm",children:"필터링 중..."})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-[4px]",children:[(0,a.jsx)(d.A,{onSort:A,currentSort:_,"data-sentry-element":"FastDropdown","data-sentry-source-file":"index.tsx"}),(0,a.jsx)(n(),{src:c.A,className:"pc:hidden mobile-tablet:block",alt:"filter",width:32,height:32,onClick:()=>s(!0),"data-sentry-element":"Image","data-sentry-source-file":"index.tsx"})]})]}),L?(0,a.jsx)("div",{className:"flex min-h-[200px] items-center justify-center",children:(0,a.jsx)("span",{children:"Loading..."})}):(0,a.jsxs)("div",{className:"transition-opacity duration-300 ".concat(B?"opacity-60":"opacity-100"),children:[K.length>0?K.map((e,t)=>(0,a.jsx)("div",{className:"transform transition-all duration-300 hover:scale-[1.01]",children:(0,a.jsx)(r.A,{data:e,onSendQuotation:()=>Q(e.id),onReject:()=>U(e.id)})},"".concat(e.id,"-").concat(t))):(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,a.jsx)(n(),{src:v.A,alt:"request_empty",width:300,height:300}),(0,a.jsx)("p",{className:"text-xl font-semibold text-color-gray-300",children:"아직 받은 요청이 없어요!"})]}),(0,a.jsx)("div",{ref:q,className:"h-10",children:z&&(0,a.jsx)("div",{className:"flex items-center justify-center py-4",children:(0,a.jsx)("span",{children:"더 불러오는 중..."})})})]})]})]}),t&&(0,a.jsx)(o.A,{closeModal:()=>s(!1),data:null==F?void 0:F.pages[0],selectedTypes:M,setSelectedTypes:P}),l&&(0,a.jsx)(f.A,{label:"견적 보내기",closeModal:()=>g(!1),children:(0,a.jsx)(u.A,{data:K.find(e=>e.id===k),closeModal:()=>g(!1)})}),w&&(0,a.jsx)(f.A,{label:"요청 반려하기",closeModal:()=>S(!1),children:(0,a.jsx)(m.A,{data:K.find(e=>e.id===k),closeModal:()=>S(!1)})})]})}let S=(0,s(26224).A)(w)}},e=>{var t=t=>e(e.s=t);e.O(0,[347,340,636,593,792],()=>t(77317)),_N_E=e.O()}]);