(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[824],{65980:(e,s,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/signup/oauth",function(){return a(80433)}])},86491:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});var r=a(74848);let t=e=>{let{label:s,onClick:a,disabled:t=!1,className:l="",type:o="button"}=e;return(0,r.jsx)("button",{type:o,className:"bold w-full rounded-2xl bg-color-blue-300 py-4 text-xl hover:scale-[1.01] mobile-tablet:text-lg ".concat(t?"cursor-not-allowed bg-color-gray-100":"bg-color-blue-300"," ").concat(l),onClick:a,disabled:t,children:s})}},56534:(e,s,a)=>{"use strict";a.d(s,{A:()=>u});var r=a(77528),t=a(4418),l=a(74848),o=a(96540),n=a(29965),i=a.n(n);let c={src:"/_next/static/media/icon_visibility_off.42d25702.svg",height:24,width:24,blurWidth:0,blurHeight:0},m={src:"/_next/static/media/icon_visibility_on.695d99be.svg",height:24,width:24,blurWidth:0,blurHeight:0},d=(0,o.forwardRef)((e,s)=>{var{label:a,type:n,name:d,value:u,onChange:p,placeholder:g="",className:h="",error:x=!1}=e,b=(0,t._)(e,["label","type","name","value","onChange","placeholder","className","error"]);let[w,f]=o.useState(!1),N="textarea"===n?(0,l.jsx)("textarea",(0,r._)({ref:s,name:d,value:u,onChange:p,placeholder:g,className:"mb-4 h-40 w-full resize-none rounded-xl border bg-color-gray-50 p-4 ".concat(h)},b)):"password"===n?(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("input",(0,r._)({ref:s,type:w?"text":"password",name:d,value:u,onChange:p,placeholder:g,className:"h-16 w-full rounded-xl border p-4 pc:text-xl mobile-tablet:text-lg ".concat(x?"border-color-red-200":"border-color-blue-300"," ").concat(h)},b)),(0,l.jsx)(i(),{src:w?m:c,onClick:()=>{f(e=>!e)},width:24,height:24,alt:w?"비밀번호 보기":"비밀번호 감추기",className:"absolute right-5 top-1/2 -translate-y-1/2 transform cursor-pointer"})]}):(0,l.jsx)("input",(0,r._)({ref:s,className:"h-16 w-full rounded-xl border p-4 pc:text-xl mobile-tablet:text-lg ".concat(x?"border-color-red-200":"border-color-blue-300"," ").concat(h),type:n,name:d,value:u,onChange:p,placeholder:g},b));return(0,l.jsxs)("div",{children:[a&&(0,l.jsx)("label",{className:"semibold mb-4 block pc:text-xl mobile-tablet:text-lg",htmlFor:d,children:a}),N]})});d.displayName="Input";let u=d},80433:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>y});var r=a(74848),t=a(77528),l=a(55456),o=a(49785),n=a(28871),i=a(56534),c=a(96540),m=a(20812),d=a(56616),u=a(29965),p=a.n(u),g=a(86491),h=a(91106),x=a.n(h),b=a(91826),w=a(86715),f=a(62294),N=a(12828);function j(){let{setOAuthUserData:e}=(0,b.y)(),{register:s,handleSubmit:a,watch:u,setError:h,formState:{errors:j}}=(0,o.mN)({resolver:(0,n.u)(m.dr),mode:"onBlur"}),[y,v]=(0,c.useState)(null),[z,k]=(0,c.useState)(!1),[_,P]=(0,c.useState)(null),A=(0,w.useRouter)(),D=u(),E=0===Object.keys(j).length&&Object.values(D).every(e=>(null==e?void 0:e.toString().trim())!=="")&&z,R=e=>{let{message:s}=e;return(0,r.jsx)("p",{className:"absolute right-0 mt-1 text-color-red-200",children:s})},C=async()=>{let e=D.nickName;try{await f.A.checkNickName({nickName:e})?(k(!0),v("사용 가능한 닉네임입니다!")):(k(!1),h("nickName",{message:"닉네임이 중복되었습니다!"}),v(""))}catch(e){h("nickName",{message:"닉네임 체크 중 오류가 발생했습니다."}),k(!1),alert(e.message)}};return(0,c.useEffect)(()=>{if(A.isReady){let e=A.query.auth;e&&(P(e),(0,N.L)(e))}},[A.isReady,A.query.code]),(0,r.jsx)("div",{className:"flex justify-center",children:(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center gap-8 pc:w-[640px] mobile-tablet:w-[372px]",children:[(0,r.jsx)(p(),{src:d.A,width:400,height:400,alt:"로고"}),(0,r.jsxs)("form",{onSubmit:a(s=>{e({role:s.role,nickName:s.nickName,phoneNumber:s.phoneNumber}),"DREAMER"===s.role&&A.push("/profile/dreamer"),"MAKER"===s.role&&A.push("/profile/maker")}),className:"relative flex w-full flex-col gap-8",children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(i.A,(0,l._)((0,t._)({type:"text",label:"닉네임",placeholder:"닉네임을 입력해주세요"},s("nickName")),{error:!!j.nickName,className:"pr-16"})),(0,r.jsx)("button",{type:"button",onClick:C,className:"bold absolute right-2 top-[60px] rounded-lg bg-color-blue-300 px-2 py-2 text-lg text-color-gray-50 mobile-tablet:top-[53px]",children:"닉네임 확인"}),j.nickName&&(0,r.jsx)(R,{message:j.nickName.message}),y&&(0,r.jsx)("p",{className:"text-color-blue-300",children:y})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(i.A,(0,l._)((0,t._)({type:"text",label:"전화번호",placeholder:"숫자만 입력해주세요"},s("phoneNumber")),{error:!!j.phoneNumber})),j.phoneNumber&&(0,r.jsx)(R,{message:j.phoneNumber.message})]}),(0,r.jsxs)("div",{className:"mb-2",children:[(0,r.jsx)("p",{className:"pc:text-xl",children:"역할"}),(0,r.jsxs)("div",{className:"flex justify-around",children:[(0,r.jsxs)("label",{htmlFor:"DREAMER",className:"flex gap-2 pc:text-xl",children:[(0,r.jsx)("input",(0,t._)({type:"radio",value:"DREAMER"},s("role"))),"Dreamer"]}),(0,r.jsxs)("label",{htmlFor:"MAEKR",className:"flex gap-2 pc:text-xl",children:[(0,r.jsx)("input",(0,t._)({type:"radio",value:"MAKER"},s("role"))),"Maker"]})]}),j.role&&(0,r.jsx)(R,{message:j.role.message})]}),(0,r.jsx)(g.A,{type:"submit",label:"회원가입",disabled:!E,className:"text-color-gray-50"})]}),(0,r.jsxs)("div",{className:"mb-4 flex justify-center",children:[(0,r.jsx)("p",{className:"mr-2",children:"니가가라하와이 전용회원이신가요?"}),(0,r.jsx)(x(),{href:"/login",className:"text-color-blue-300 underline",children:"로그인"})]})]})})}function y(){return(0,r.jsx)(j,{})}},91826:(e,s,a)=>{"use strict";a.d(s,{y:()=>t});var r=a(77528);let t=(0,a(59836).v)(e=>({userData:{role:"",nickName:"",email:"",password:"",phoneNumber:""},profileData:{image:"",tripTypes:[],serviceArea:[]},makerProfileData:{image:"",serviceTypes:[],serviceArea:[],gallery:"",description:"",detailDescription:""},oAuthUserData:{role:"",nickName:"",phoneNumber:""},setUserData:s=>e(e=>({userData:(0,r._)({},e.userData,s)})),setProfileData:s=>e(e=>({profileData:(0,r._)({},e.profileData,s)})),setMakerProfileData:s=>e(e=>({makerProfileData:(0,r._)({},e.makerProfileData,s)})),setOAuthUserData:s=>e(e=>({oAuthUserData:(0,r._)({},e.oAuthUserData,s)}))}))},20812:(e,s,a)=>{"use strict";a.d(s,{GU:()=>n,Mh:()=>o,Sd:()=>l,X5:()=>t,dr:()=>i});var r=a(14476);let t=r.z.object({email:r.z.string().min(1,"이메일을 입력해 주세요.").email("이메일 형식이 아닙니다."),password:r.z.string().nonempty("비밀번호를 입력해 주세요.").min(6,"비밀번호는 최소 6자 이상이어야 합니다.")}),l=r.z.object({nickName:r.z.string().min(1,{message:"닉네임을 입력해 주세요."}),email:r.z.string().min(1,{message:"이메일을 입력해 주세요."}).email({message:"이메일 형식이 아닙니다."}),phoneNumber:r.z.string().regex(/^010\d{8}$/,{message:"010으로 시작하고 숫자만 입력해 주세요."}),password:r.z.string().min(6,"비밀번호는 최소 6자 이상이어야 합니다."),confirmPassword:r.z.string().min(1,{message:"비밀번호 확인란을 입력해 주세요."}),role:r.z.enum(["MAKER","DREAMER"],{message:"역할을 선택해 주세요."})}).refine(e=>e.password===e.confirmPassword,{path:["confirmPassword"],message:"비밀번호가 일치하지 않습니다."}),o=r.z.object({nickName:r.z.string().min(1,{message:"닉네임을 입력해 주세요."}),email:r.z.string().min(1,{message:"이메일을 입력해 주세요."}),phoneNumber:r.z.string().regex(/^010\d{8}$/,{message:"010으로 시작하고 숫자만 입력해 주세요."}),password:r.z.string().optional(),newPassword:r.z.string().optional(),newConfirmPassword:r.z.string().optional(),selectedServices:r.z.array(r.z.string()).optional(),selectedLocations:r.z.array(r.z.string()).optional()}).superRefine((e,s)=>{(e.newPassword||e.newConfirmPassword)&&(e.password||s.addIssue({code:"custom",path:["password"],message:"현재 비밀번호를 입력해 주세요."}),e.newPassword&&e.newPassword.length<6&&s.addIssue({code:"custom",path:["newPassword"],message:"새 비밀번호는 최소 6자 이상이어야 합니다."}),e.newPassword!==e.newConfirmPassword&&s.addIssue({code:"custom",path:["newConfirmPassword"],message:"새 비밀번호가 일치하지 않습니다."}))}),n=r.z.object({nickName:r.z.string().min(1,{message:"닉네임을 입력해 주세요."}),email:r.z.string().min(1,{message:"이메일을 입력해 주세요."}),phoneNumber:r.z.string().regex(/^010\d{8}$/,{message:"010으로 시작하고 숫자만 입력해 주세요."}),password:r.z.string().optional(),newPassword:r.z.string().optional(),newConfirmPassword:r.z.string().optional()}).refine(e=>!e.newPassword||e.password,{path:["password"],message:"새 비밀번호를 설정하려면 현재 비밀번호를 입력해 주세요."}).refine(e=>!e.newPassword||e.newPassword.length>=6,{path:["newPassword"],message:"새 비밀번호는 최소 6자 이상이어야 합니다."}).refine(e=>!e.newPassword||e.newPassword===e.newConfirmPassword,{path:["newConfirmPassword"],message:"새 비밀번호가 일치하지 않습니다."}),i=r.z.object({nickName:r.z.string().min(1,{message:"닉네임을 입력해 주세요."}),phoneNumber:r.z.string().regex(/^010\d{8}$/,{message:"010으로 시작하고 숫자만 입력해 주세요."}),role:r.z.enum(["MAKER","DREAMER"],{message:"역할을 선택해 주세요."})})}},e=>{var s=s=>e(e.s=s);e.O(0,[106,636,593,792],()=>s(65980)),_N_E=e.O()}]);